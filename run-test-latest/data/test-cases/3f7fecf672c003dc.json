{"uid":"3f7fecf672c003dc","name":"User with organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_with_token_cli","historyId":"075596f237e9dcd99027c3eb0247d079","time":{"start":1755571838214,"stop":1755571855257,"duration":17043},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1755567107689,"stop":1755567107689,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755567107689,"stop":1755567107689,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755567107689,"stop":1755567107689,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755567107689,"stop":1755567107689,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1755567107689,"stop":1755567107689,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755567107690,"stop":1755567107690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755567107690,"stop":1755567107690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755571835505,"stop":1755571835508,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755571835508,"stop":1755571837667,"duration":2159},"status":"passed","steps":[],"attachments":[{"uid":"badbccedcbb71e49","name":"HTTP 200 - GET config","source":"badbccedcbb71e49.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755571835508,"stop":1755571835508,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755571837667,"stop":1755571837667,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755571837667,"stop":1755571837667,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1755571837667,"stop":1755571837667,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755571837668,"stop":1755571837668,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755571837668,"stop":1755571837669,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755571837668,"stop":1755571837668,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755571837668,"stop":1755571837668,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755571837669,"stop":1755571838213,"duration":544},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755571837669,"stop":1755571838213,"duration":544},"status":"passed","steps":[],"attachments":[{"uid":"ef4483917647ca14","name":"Executed CLI command","source":"ef4483917647ca14.txt","type":"text/plain","size":15},{"uid":"eb7767d676e2488a","name":"Executed CLI command output","source":"eb7767d676e2488a.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755571838215,"stop":1755571843267,"duration":5052},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755571838215,"stop":1755571839394,"duration":1179},"status":"passed","steps":[],"attachments":[{"uid":"50124d62e1e74f7e","name":"Page URL","source":"50124d62e1e74f7e.txt","type":"text/plain","size":33},{"uid":"7c5a61489093d7d5","name":"Screenshot: Click login button (success)","source":"7c5a61489093d7d5.png","type":"image/png","size":42063}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755571839394,"stop":1755571839579,"duration":185},"status":"passed","steps":[],"attachments":[{"uid":"3546bcf5bcf9b452","name":"Page URL","source":"3546bcf5bcf9b452.txt","type":"text/plain","size":215},{"uid":"dfb6eaa1bde04f93","name":"Screenshot: Enter email (success)","source":"dfb6eaa1bde04f93.png","type":"image/png","size":45432}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755571839579,"stop":1755571839737,"duration":158},"status":"passed","steps":[],"attachments":[{"uid":"b15a31e4481c7c22","name":"Page URL","source":"b15a31e4481c7c22.txt","type":"text/plain","size":215},{"uid":"7ea5de289545d608","name":"Screenshot: Enter password (success)","source":"7ea5de289545d608.png","type":"image/png","size":46225}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755571839737,"stop":1755571842023,"duration":2286},"status":"passed","steps":[],"attachments":[{"uid":"e1bda6916d0562fc","name":"Page URL","source":"e1bda6916d0562fc.txt","type":"text/plain","size":215},{"uid":"e619f0e311b20bea","name":"HTTP 200 - GET config","source":"e619f0e311b20bea.txt","type":"text/plain","size":752},{"uid":"99dbf2b7c5dbcae","name":"HTTP 200 - GET permissions?uri=blob:","source":"99dbf2b7c5dbcae.txt","type":"text/plain","size":163},{"uid":"1ef233682b80d0d7","name":"HTTP 200 - GET incoming","source":"1ef233682b80d0d7.txt","type":"text/plain","size":137},{"uid":"e4d2563e74c159ad","name":"HTTP 200 - GET regression-mmuigigeau?include=clusters&include=system_role","source":"e4d2563e74c159ad.txt","type":"text/plain","size":388},{"uid":"a70ee83eccd019dc","name":"HTTP 200 - GET regression-mmuigigeau?include=orgs","source":"a70ee83eccd019dc.txt","type":"text/plain","size":360},{"uid":"926427c2197cc333","name":"Screenshot: Click Continue button (success)","source":"926427c2197cc333.png","type":"image/png","size":48830}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755571842033,"stop":1755571843150,"duration":1117},"status":"passed","steps":[],"attachments":[{"uid":"d1c918c27ef8bfc4","name":"Page URL","source":"d1c918c27ef8bfc4.txt","type":"text/plain","size":44},{"uid":"2f04ce9a052fc8f5","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"2f04ce9a052fc8f5.png","type":"image/png","size":157887}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8d0d096bc1f219bf","name":"Page URL","source":"8d0d096bc1f219bf.txt","type":"text/plain","size":33},{"uid":"2efa2fdddc6ee598","name":"Screenshot: Login via UI (success)","source":"2efa2fdddc6ee598.png","type":"image/png","size":157887}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1755571843268,"stop":1755571850995,"duration":7727},"status":"passed","steps":[{"name":"Reload page","time":{"start":1755571849241,"stop":1755571850879,"duration":1638},"status":"passed","steps":[],"attachments":[{"uid":"ec546ea16362e458","name":"Page URL","source":"ec546ea16362e458.txt","type":"text/plain","size":44},{"uid":"3d5093ab059a332","name":"HTTP 200 - GET config","source":"3d5093ab059a332.txt","type":"text/plain","size":1118},{"uid":"b8d74af896a1bb31","name":"HTTP 200 - GET regression-mmuigigeau?include=orgs","source":"b8d74af896a1bb31.txt","type":"text/plain","size":455},{"uid":"3e48687835489527","name":"HTTP 200 - GET permissions?uri=blob:","source":"3e48687835489527.txt","type":"text/plain","size":236},{"uid":"50d5cf73fc02bc47","name":"HTTP 200 - GET incoming","source":"50d5cf73fc02bc47.txt","type":"text/plain","size":137},{"uid":"c2f2aaff54693e45","name":"HTTP 200 - GET regression-mmuigigeau?include=clusters&include=system_role","source":"c2f2aaff54693e45.txt","type":"text/plain","size":510},{"uid":"e66a0432ceb703f5","name":"HTTP 200 - GET regression-org-px2tj0zfe936","source":"e66a0432ceb703f5.txt","type":"text/plain","size":425},{"uid":"d5072ae363110b5b","name":"Screenshot: Reload page (success)","source":"d5072ae363110b5b.png","type":"image/png","size":57557}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d41586b57fdb92e1","name":"Page URL","source":"d41586b57fdb92e1.txt","type":"text/plain","size":44},{"uid":"29f50cda87653a5b","name":"Screenshot: Add organization via API and reload page (success)","source":"29f50cda87653a5b.png","type":"image/png","size":57557}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755571850995,"stop":1755571855256,"duration":4261},"status":"passed","steps":[],"attachments":[{"uid":"744ecbabd03b1aa7","name":"Executed CLI command","source":"744ecbabd03b1aa7.txt","type":"text/plain","size":1114},{"uid":"7c903ccecd9154c0","name":"Executed CLI command output","source":"7c903ccecd9154c0.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1755571855256,"stop":1755571855257,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"1836e443abc7b045","name":"Executed CLI command","source":"1836e443abc7b045.txt","type":"text/plain","size":1114},{"uid":"c1c1115037a801d1","name":"Executed CLI command output","source":"c1c1115037a801d1.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ae6cb43105bdf4d8","name":"log","source":"ae6cb43105bdf4d8.txt","type":"text/plain","size":16464}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1755571855258,"stop":1755571859335,"duration":4077},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755571855258,"stop":1755571859335,"duration":4077},"status":"passed","steps":[{"name":"Delete organisation: regression-org-px2tj0zfe936","time":{"start":1755571858660,"stop":1755571859301,"duration":641},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1755571855258,"stop":1755571855258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755571859336,"stop":1755571859336,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755571859337,"stop":1755571859338,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Login"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"5911-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":11},"items":[{"uid":"d81419eb48c8542e","status":"passed","time":{"start":1755485762353,"stop":1755485783858,"duration":21505}},{"uid":"a45f96928e72a7da","status":"passed","time":{"start":1755399114866,"stop":1755399146472,"duration":31606}},{"uid":"6ab659797a03c563","status":"passed","time":{"start":1755376551494,"stop":1755376568494,"duration":17000}},{"uid":"ef6e31b6e6c21458","status":"passed","time":{"start":1755312666485,"stop":1755312686867,"duration":20382}},{"uid":"6a363645946a3e3e","status":"passed","time":{"start":1755284436561,"stop":1755284463826,"duration":27265}},{"uid":"67c7cf9bda28068e","status":"passed","time":{"start":1754880255737,"stop":1754880275437,"duration":19700}},{"uid":"31b83455d3e9435d","status":"passed","time":{"start":1754831416534,"stop":1754831438962,"duration":22428}},{"uid":"da8acd88dca1c378","status":"passed","time":{"start":1754707248416,"stop":1754707263164,"duration":14748}},{"uid":"8d7631606d83903f","status":"passed","time":{"start":1754620215504,"stop":1754620231473,"duration":15969}},{"uid":"407e7b7dbb045232","status":"passed","time":{"start":1754596053145,"stop":1754596068039,"duration":14894}}]},"tags":["asyncio"]},"source":"3f7fecf672c003dc.json","parameterValues":[]}