{"uid":"901a1c768637a3a9","name":"User with organization and project logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_proj_with_token_cli","historyId":"e450c2e3ba392e5ab19b9253dfdf7207","time":{"start":1759637748215,"stop":1759637830066,"duration":81851},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via API.\n- Create project via API.\n\n### Verify that:\n\n- User can login with Bearer auth token via CLI.\n- Login output in CLI contain valid organization and project.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via API.</li>\n<li>Create project via API.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via CLI.</li>\n<li>Login output in CLI contain valid organization and project.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1759637745249,"stop":1759637745252,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759637745253,"stop":1759637745253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759637745253,"stop":1759637747624,"duration":2371},"status":"passed","steps":[],"attachments":[{"uid":"113ae029d2e70b74","name":"HTTP 200 - GET config","source":"113ae029d2e70b74.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1759637747624,"stop":1759637747624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759637747624,"stop":1759637747625,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759637747624,"stop":1759637747624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759637747625,"stop":1759637747625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759637747625,"stop":1759637747626,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759637747626,"stop":1759637748215,"duration":589},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759637747627,"stop":1759637748215,"duration":588},"status":"passed","steps":[],"attachments":[{"uid":"5d6df2f50c86a71e","name":"Executed CLI command","source":"5d6df2f50c86a71e.txt","type":"text/plain","size":15},{"uid":"ad92e1a4a313c8e2","name":"Executed CLI command output","source":"ad92e1a4a313c8e2.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759637747626,"stop":1759637747626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759637747626,"stop":1759637747626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via API.\n- Create project via API.\n\n### Verify that:\n\n- User can login with Bearer auth token via CLI.\n- Login output in CLI contain valid organization and project.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via API.</li>\n<li>Create project via API.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via CLI.</li>\n<li>Login output in CLI contain valid organization and project.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1759637748216,"stop":1759637756324,"duration":8108},"status":"passed","steps":[{"name":"Click login button","time":{"start":1759637748217,"stop":1759637749295,"duration":1078},"status":"passed","steps":[],"attachments":[{"uid":"88f65130e7a60ac3","name":"Page URL","source":"88f65130e7a60ac3.txt","type":"text/plain","size":33},{"uid":"a9fd126660b0f870","name":"Screenshot: Click login button (success)","source":"a9fd126660b0f870.png","type":"image/png","size":41531}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759637749295,"stop":1759637749639,"duration":344},"status":"passed","steps":[],"attachments":[{"uid":"6fce00ad60beaf52","name":"Page URL","source":"6fce00ad60beaf52.txt","type":"text/plain","size":215},{"uid":"30830de5192a4c0b","name":"Screenshot: Enter email (success)","source":"30830de5192a4c0b.png","type":"image/png","size":45427}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759637749639,"stop":1759637749993,"duration":354},"status":"passed","steps":[],"attachments":[{"uid":"d684f7cf2bc4bce0","name":"Page URL","source":"d684f7cf2bc4bce0.txt","type":"text/plain","size":215},{"uid":"bc594249cbc3e270","name":"Screenshot: Enter password (success)","source":"bc594249cbc3e270.png","type":"image/png","size":45558}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1759637749993,"stop":1759637755125,"duration":5132},"status":"passed","steps":[],"attachments":[{"uid":"2dde3f5a2e3075b","name":"Page URL","source":"2dde3f5a2e3075b.txt","type":"text/plain","size":215},{"uid":"15f4a0430a5f0fd6","name":"HTTP 200 - GET config","source":"15f4a0430a5f0fd6.txt","type":"text/plain","size":752},{"uid":"8d23f2d5abb50b94","name":"HTTP 200 - GET permissions?uri=blob:","source":"8d23f2d5abb50b94.txt","type":"text/plain","size":163},{"uid":"45686ed9953185e8","name":"HTTP 200 - GET incoming","source":"45686ed9953185e8.txt","type":"text/plain","size":137},{"uid":"41b4b23d78522f42","name":"HTTP 200 - GET regression-p7qyhjuvfo?include=orgs","source":"41b4b23d78522f42.txt","type":"text/plain","size":360},{"uid":"c390767af6f6d15c","name":"HTTP 200 - GET regression-p7qyhjuvfo?include=clusters&include=system_role","source":"c390767af6f6d15c.txt","type":"text/plain","size":388},{"uid":"1875c14bbd104ebb","name":"Screenshot: Click Continue button (success)","source":"1875c14bbd104ebb.png","type":"image/png","size":159772}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759637755135,"stop":1759637756242,"duration":1107},"status":"passed","steps":[],"attachments":[{"uid":"712be676421f7ae4","name":"Page URL","source":"712be676421f7ae4.txt","type":"text/plain","size":44},{"uid":"cd9879366ce67c4e","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"cd9879366ce67c4e.png","type":"image/png","size":159772}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7c0024bcda0dfbf1","name":"Page URL","source":"7c0024bcda0dfbf1.txt","type":"text/plain","size":33},{"uid":"ca50a402bbd5173f","name":"Screenshot: Login via UI (success)","source":"ca50a402bbd5173f.png","type":"image/png","size":159772}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1759637756324,"stop":1759637779993,"duration":23669},"status":"passed","steps":[{"name":"Reload page","time":{"start":1759637775410,"stop":1759637779909,"duration":4499},"status":"passed","steps":[],"attachments":[{"uid":"52c24407d529de9a","name":"Page URL","source":"52c24407d529de9a.txt","type":"text/plain","size":44},{"uid":"2756cd989e82f59b","name":"HTTP 200 - GET config","source":"2756cd989e82f59b.txt","type":"text/plain","size":1118},{"uid":"72d5d17c2b47f04","name":"HTTP 200 - GET permissions?uri=blob:","source":"72d5d17c2b47f04.txt","type":"text/plain","size":236},{"uid":"18d54945035ea8b8","name":"HTTP 200 - GET regression-p7qyhjuvfo?include=orgs","source":"18d54945035ea8b8.txt","type":"text/plain","size":455},{"uid":"7a7fc82ae290678c","name":"HTTP 200 - GET incoming","source":"7a7fc82ae290678c.txt","type":"text/plain","size":137},{"uid":"8a8ffcbb8cf0bc1d","name":"HTTP 200 - GET regression-org-4cp1yqfvtdnr","source":"8a8ffcbb8cf0bc1d.txt","type":"text/plain","size":425},{"uid":"fdbf3031469b7ccd","name":"HTTP 200 - GET regression-p7qyhjuvfo?include=clusters&include=system_role","source":"fdbf3031469b7ccd.txt","type":"text/plain","size":510},{"uid":"d5a233e22e7bd52c","name":"HTTP 200 - GET tags","source":"d5a233e22e7bd52c.txt","type":"text/plain","size":848},{"uid":"c63f7625ae610011","name":"Screenshot: Reload page (success)","source":"c63f7625ae610011.png","type":"image/png","size":57483}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"4b42f3a8029ac97c","name":"Page URL","source":"4b42f3a8029ac97c.txt","type":"text/plain","size":44},{"uid":"605e5357fcb7119d","name":"Screenshot: Add organization via API and reload page (success)","source":"605e5357fcb7119d.png","type":"image/png","size":57483}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Add project via API and reload page","time":{"start":1759637779994,"stop":1759637829150,"duration":49156},"status":"passed","steps":[{"name":"Reload page","time":{"start":1759637826105,"stop":1759637828973,"duration":2868},"status":"passed","steps":[],"attachments":[{"uid":"160657225dd5de29","name":"Page URL","source":"160657225dd5de29.txt","type":"text/plain","size":81},{"uid":"5397d6b7e2e5169b","name":"HTTP 200 - GET config","source":"5397d6b7e2e5169b.txt","type":"text/plain","size":1118},{"uid":"50fcc1bc50b12d6a","name":"HTTP 200 - GET permissions?uri=blob:","source":"50fcc1bc50b12d6a.txt","type":"text/plain","size":236},{"uid":"ae8e853454d90257","name":"HTTP 200 - GET regression-p7qyhjuvfo?include=orgs","source":"ae8e853454d90257.txt","type":"text/plain","size":455},{"uid":"17a02a016bb2a6e2","name":"HTTP 200 - GET templates","source":"17a02a016bb2a6e2.txt","type":"text/plain","size":1127},{"uid":"b5a4a25a2a0ac11d","name":"HTTP 200 - GET incoming","source":"b5a4a25a2a0ac11d.txt","type":"text/plain","size":137},{"uid":"8aad0f5159539423","name":"HTTP 200 - GET regression-org-4cp1yqfvtdnr","source":"8aad0f5159539423.txt","type":"text/plain","size":425},{"uid":"ead64171007a9fb0","name":"HTTP 200 - GET instances?org=regression-org-4cp1yqfvtdnr&project=regression-proj-kpdvvr24vz&cluster=default&size=100","source":"ead64171007a9fb0.txt","type":"text/plain","size":271},{"uid":"caa095980e0cd517","name":"HTTP 200 - GET regression-p7qyhjuvfo?include=clusters&include=system_role","source":"caa095980e0cd517.txt","type":"text/plain","size":510},{"uid":"dca8ed84d1436887","name":"HTTP 200 - GET tags","source":"dca8ed84d1436887.txt","type":"text/plain","size":848},{"uid":"784076353a6b7bd0","name":"HTTP 200 - GET templates?page=1&size=50","source":"784076353a6b7bd0.txt","type":"text/plain","size":1142},{"uid":"a03597202ab272be","name":"Screenshot: Reload page (success)","source":"a03597202ab272be.png","type":"image/png","size":156909}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a80f2c69e23d3be7","name":"Page URL","source":"a80f2c69e23d3be7.txt","type":"text/plain","size":81},{"uid":"4f951973e4363818","name":"Screenshot: Add project via API and reload page (success)","source":"4f951973e4363818.png","type":"image/png","size":156762}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":14,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1759637829151,"stop":1759637830064,"duration":913},"status":"passed","steps":[],"attachments":[{"uid":"b6ebe25684177a26","name":"Executed CLI command","source":"b6ebe25684177a26.txt","type":"text/plain","size":1114},{"uid":"6193985881d84658","name":"Executed CLI command output","source":"6193985881d84658.txt","type":"text/plain","size":286}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1759637830065,"stop":1759637830065,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"b8897c858666f012","name":"Executed CLI command","source":"b8897c858666f012.txt","type":"text/plain","size":1114},{"uid":"e1447ce2f9e545a0","name":"Executed CLI command output","source":"e1447ce2f9e545a0.txt","type":"text/plain","size":286}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"75ffab138089818c","name":"log","source":"75ffab138089818c.txt","type":"text/plain","size":27438}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":47,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1759637830066,"stop":1759637830066,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759637830067,"stop":1759637830067,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759637830067,"stop":1759637864388,"duration":34321},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759637830067,"stop":1759637864388,"duration":34321},"status":"passed","steps":[{"name":"Delete organisation: regression-org-4cp1yqfvtdnr","time":{"start":1759637833405,"stop":1759637864343,"duration":30938},"status":"passed","steps":[{"name":"Delete project: regression-proj-kpdvvr24vz","time":{"start":1759637833590,"stop":1759637863898,"duration":30308},"status":"passed","steps":[],"attachments":[{"uid":"763d6d27f6afa7b1","name":"HTTP 200 - GET instances?org=regression-org-4cp1yqfvtdnr&project=regression-proj-kpdvvr24vz&cluster=default&size=100","source":"763d6d27f6afa7b1.txt","type":"text/plain","size":271},{"uid":"44164585c686c533","name":"HTTP 200 - GET instances?org=regression-org-4cp1yqfvtdnr&project=regression-proj-kpdvvr24vz&cluster=default&size=100","source":"44164585c686c533.txt","type":"text/plain","size":271}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759637864389,"stop":1759637864389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759637864390,"stop":1759637864391,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3602-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":58,"unknown":0,"total":61},"items":[{"uid":"3f9c886dd40dfc0c","status":"passed","time":{"start":1759550636686,"stop":1759550700236,"duration":63550}},{"uid":"60d8eec33ce542da","status":"passed","time":{"start":1759464031967,"stop":1759464067980,"duration":36013}},{"uid":"9b5b69f369f47825","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add project via API and reload page\nMessage: Expected HTTP 201 response but got 504!","time":{"start":1759380702337,"stop":1759380752280,"duration":49943}},{"uid":"fdc1d296527c822","status":"passed","time":{"start":1759288407667,"stop":1759288435732,"duration":28065}},{"uid":"79d5ebbf20fa6127","status":"passed","time":{"start":1759201940337,"stop":1759201990172,"duration":49835}},{"uid":"83d30f8eb1f52354","status":"passed","time":{"start":1759159649212,"stop":1759159689224,"duration":40012}},{"uid":"8a02fd0f18d8ce8d","status":"passed","time":{"start":1759116286108,"stop":1759116323760,"duration":37652}},{"uid":"cfae2b3128a76d6a","status":"passed","time":{"start":1759029934416,"stop":1759029968676,"duration":34260}},{"uid":"fc83d52f91263a6","status":"passed","time":{"start":1758943386553,"stop":1758943433006,"duration":46453}},{"uid":"5d540eac8fb4834f","status":"passed","time":{"start":1758856005160,"stop":1758856039519,"duration":34359}},{"uid":"30cb3883958f57eb","status":"passed","time":{"start":1758769641612,"stop":1758769684813,"duration":43201}},{"uid":"97417029fe3e1f34","status":"passed","time":{"start":1758711621123,"stop":1758711657242,"duration":36119}},{"uid":"828281b581c6c2e","status":"passed","time":{"start":1758696454689,"stop":1758696488012,"duration":33323}},{"uid":"427a71eea111ed74","status":"passed","time":{"start":1758684553510,"stop":1758684591679,"duration":38169}},{"uid":"aac02c15b5789471","status":"passed","time":{"start":1758596852899,"stop":1758596894818,"duration":41919}},{"uid":"a0a22f96d50b6f","status":"passed","time":{"start":1758510350306,"stop":1758510388453,"duration":38147}},{"uid":"a500d2c4da011c19","status":"passed","time":{"start":1758423992482,"stop":1758424022139,"duration":29657}},{"uid":"99fec15b413cb8c0","status":"passed","time":{"start":1758337882290,"stop":1758337930289,"duration":47999}},{"uid":"c777bcd7bddad5e1","status":"passed","time":{"start":1758251123728,"stop":1758251160758,"duration":37030}},{"uid":"fc17587105abd0d4","status":"passed","time":{"start":1758164592481,"stop":1758164632654,"duration":40173}}]},"tags":["asyncio"]},"source":"901a1c768637a3a9.json","parameterValues":[]}