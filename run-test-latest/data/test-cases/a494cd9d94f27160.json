{"uid":"a494cd9d94f27160","name":"User without organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_with_token_cli","historyId":"fd27a26b14b2678c9927d4e7b4c1ac77","time":{"start":1755917598793,"stop":1755917607090,"duration":8297},"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1755912761574,"stop":1755912761574,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755912761574,"stop":1755912761574,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755912761574,"stop":1755912761574,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755912761574,"stop":1755912761574,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755912761574,"stop":1755912761574,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755912761575,"stop":1755912761575,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755912761575,"stop":1755912761575,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755917595832,"stop":1755917595834,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755917595834,"stop":1755917595834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755917595834,"stop":1755917598251,"duration":2417},"status":"passed","steps":[],"attachments":[{"uid":"ba63b936a3905ae4","name":"HTTP 200 - GET config","source":"ba63b936a3905ae4.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1755917598251,"stop":1755917598251,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755917598251,"stop":1755917598252,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755917598251,"stop":1755917598251,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755917598251,"stop":1755917598251,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755917598252,"stop":1755917598252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755917598252,"stop":1755917598253,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755917598252,"stop":1755917598252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755917598253,"stop":1755917598792,"duration":539},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755917598253,"stop":1755917598792,"duration":539},"status":"passed","steps":[],"attachments":[{"uid":"8c144ad2b1ee8433","name":"Executed CLI command","source":"8c144ad2b1ee8433.txt","type":"text/plain","size":15},{"uid":"a9c680b7b6037e27","name":"Executed CLI command output","source":"a9c680b7b6037e27.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755917598794,"stop":1755917606279,"duration":7485},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755917598794,"stop":1755917599516,"duration":722},"status":"passed","steps":[],"attachments":[{"uid":"9289d309fa3f3730","name":"Page URL","source":"9289d309fa3f3730.txt","type":"text/plain","size":33},{"uid":"e1f8358ffd27956e","name":"Screenshot: Click login button (success)","source":"e1f8358ffd27956e.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755917599516,"stop":1755917600030,"duration":514},"status":"passed","steps":[],"attachments":[{"uid":"88f3933306643511","name":"Page URL","source":"88f3933306643511.txt","type":"text/plain","size":33},{"uid":"9a3df7ee74e39f46","name":"Screenshot: Enter email (success)","source":"9a3df7ee74e39f46.png","type":"image/png","size":46652}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755917600030,"stop":1755917600214,"duration":184},"status":"passed","steps":[],"attachments":[{"uid":"44ad6c3853e9079d","name":"Page URL","source":"44ad6c3853e9079d.txt","type":"text/plain","size":215},{"uid":"b66a6b9b2d4c04d7","name":"Screenshot: Enter password (success)","source":"b66a6b9b2d4c04d7.png","type":"image/png","size":46743}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755917600214,"stop":1755917605043,"duration":4829},"status":"passed","steps":[],"attachments":[{"uid":"4afcbfb367a1cd48","name":"Page URL","source":"4afcbfb367a1cd48.txt","type":"text/plain","size":215},{"uid":"db38f0f92316e46e","name":"HTTP 200 - GET config","source":"db38f0f92316e46e.txt","type":"text/plain","size":752},{"uid":"a19ec4a5edc2739e","name":"HTTP 200 - GET regression-ph4o8yr1y8?include=clusters&include=system_role","source":"a19ec4a5edc2739e.txt","type":"text/plain","size":388},{"uid":"ef465390a495fa5e","name":"HTTP 200 - GET permissions?uri=blob:","source":"ef465390a495fa5e.txt","type":"text/plain","size":163},{"uid":"a3fa6e3681184f79","name":"HTTP 200 - GET incoming","source":"a3fa6e3681184f79.txt","type":"text/plain","size":137},{"uid":"c40df1ec0141dfe4","name":"HTTP 200 - GET regression-ph4o8yr1y8?include=orgs","source":"c40df1ec0141dfe4.txt","type":"text/plain","size":360},{"uid":"6127c3b9686c793d","name":"Screenshot: Click Continue button (success)","source":"6127c3b9686c793d.png","type":"image/png","size":159718}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755917605057,"stop":1755917606178,"duration":1121},"status":"passed","steps":[],"attachments":[{"uid":"e83387fd9c3c4976","name":"Page URL","source":"e83387fd9c3c4976.txt","type":"text/plain","size":44},{"uid":"cb5e74870be9c4b5","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"cb5e74870be9c4b5.png","type":"image/png","size":159718}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3711127058fde5f","name":"Page URL","source":"3711127058fde5f.txt","type":"text/plain","size":33},{"uid":"2e60759602ad509f","name":"Screenshot: Login via UI (success)","source":"2e60759602ad509f.png","type":"image/png","size":159718}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755917606279,"stop":1755917607088,"duration":809},"status":"passed","steps":[],"attachments":[{"uid":"74647a95e046ae86","name":"Executed CLI command","source":"74647a95e046ae86.txt","type":"text/plain","size":1114},{"uid":"49d07c55213c3f32","name":"Executed CLI command output","source":"49d07c55213c3f32.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1755917607088,"stop":1755917607089,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"fc6e28cd0c44c27c","name":"Executed CLI command","source":"fc6e28cd0c44c27c.txt","type":"text/plain","size":1114},{"uid":"8931be1d6416ca7c","name":"Executed CLI command output","source":"8931be1d6416ca7c.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5ea3735ddf17ce5f","name":"log","source":"5ea3735ddf17ce5f.txt","type":"text/plain","size":10925}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1755917607091,"stop":1755917607091,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1755917607091,"stop":1755917610507,"duration":3416},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755917607091,"stop":1755917610507,"duration":3416},"status":"passed","steps":[],"attachments":[{"uid":"dfb16c3ec30508ab","name":"Cleanup note","source":"dfb16c3ec30508ab.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755917610507,"stop":1755917610508,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755917610509,"stop":1755917610510,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Login"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"pkrvmqc4gcfdwos"},{"name":"thread","value":"5946-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":41,"unknown":0,"total":41},"items":[{"uid":"d4df1725e0b6f4cf","status":"passed","time":{"start":1755831121608,"stop":1755831144355,"duration":22747}},{"uid":"bf8fd7b19ce6f4c","status":"passed","time":{"start":1755744629964,"stop":1755744637667,"duration":7703}},{"uid":"89650b723f7973a6","status":"passed","time":{"start":1755571824773,"stop":1755571831647,"duration":6874}},{"uid":"e3359d169ffab200","status":"passed","time":{"start":1755485749902,"stop":1755485756250,"duration":6348}},{"uid":"f961db58b53e74d","status":"passed","time":{"start":1755399088372,"stop":1755399106081,"duration":17709}},{"uid":"67f45b33ec38c104","status":"passed","time":{"start":1755376537898,"stop":1755376545605,"duration":7707}},{"uid":"53b16919e9baa20b","status":"passed","time":{"start":1755312654644,"stop":1755312660822,"duration":6178}},{"uid":"f0af5947c04af407","status":"passed","time":{"start":1755284423025,"stop":1755284429200,"duration":6175}},{"uid":"849d5c6d9b933081","status":"passed","time":{"start":1754880239326,"stop":1754880245713,"duration":6387}},{"uid":"5cade5847d8a488d","status":"passed","time":{"start":1754831394584,"stop":1754831410092,"duration":15508}},{"uid":"a3791ad6a797d6b9","status":"passed","time":{"start":1754707235756,"stop":1754707241943,"duration":6187}},{"uid":"c523f48db8e1c5c2","status":"passed","time":{"start":1754620202413,"stop":1754620209357,"duration":6944}},{"uid":"4c64acc966ca2a7f","status":"passed","time":{"start":1754596035709,"stop":1754596046134,"duration":10425}},{"uid":"dd307916d8783a75","status":"passed","time":{"start":1754534008903,"stop":1754534009747,"duration":844}},{"uid":"44fec44e2cd29a5b","status":"passed","time":{"start":1754463665034,"stop":1754463665950,"duration":916}},{"uid":"449478feccd5304a","status":"passed","time":{"start":1754388563984,"stop":1754388564747,"duration":763}},{"uid":"84bc202634fdab7f","status":"passed","time":{"start":1754363423264,"stop":1754363424513,"duration":1249}},{"uid":"33ef3914c5f5c6e8","status":"passed","time":{"start":1754277133393,"stop":1754277134771,"duration":1378}},{"uid":"471f1e0b4e9bcea8","status":"passed","time":{"start":1754191461221,"stop":1754191462390,"duration":1169}},{"uid":"30257dedb02abe1b","status":"passed","time":{"start":1754103996773,"stop":1754103998307,"duration":1534}}]},"tags":["asyncio"]},"source":"a494cd9d94f27160.json","parameterValues":[]}