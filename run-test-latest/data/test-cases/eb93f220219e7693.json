{"uid":"eb93f220219e7693","name":"User creates a second project via CLI","fullName":"tests.test_cases.tests_cli.test_project_structure_setup.TestCLIProjectStructureSetup#test_create_second_project_cli","historyId":"03aa2402986268da55ed3de4a35b8b46","time":{"start":1757991753765,"stop":1757991760973,"duration":7208},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create first project via **CLI**.\n\n### Verify that:\n\n- User can create second project via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second project via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add organization via API and reload page\nMessage: Expected HTTP 201 response but got 500!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:367: in ui_add_org_api\n    assert status == 201, f\"Expected HTTP 201 response but got {status}!\"\n           ^^^^^^^^^^^^^\nE   AssertionError: Expected HTTP 201 response but got 500!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_structure_setup.py:107: in test_create_second_project_cli\n    await self._ui_steps.ui_add_org_api(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add organization via API and reload page\nE   Message: Expected HTTP 201 response but got 500!","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757986281310,"stop":1757986281310,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1757986281311,"stop":1757986296312,"duration":15001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1757986296312,"stop":1757986296312,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1757991750595,"stop":1757991750598,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757991750598,"stop":1757991753176,"duration":2578},"status":"passed","steps":[],"attachments":[{"uid":"5ce9a4fff3e28607","name":"HTTP 200 - GET config","source":"5ce9a4fff3e28607.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757991750598,"stop":1757991750598,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1757991753176,"stop":1757991753177,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1757991753176,"stop":1757991753176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1757991753176,"stop":1757991753176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757991753177,"stop":1757991753178,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757991753177,"stop":1757991753177,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1757991753178,"stop":1757991753178,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1757991753178,"stop":1757991753178,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1757991753179,"stop":1757991753764,"duration":585},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1757991753179,"stop":1757991753764,"duration":585},"status":"passed","steps":[],"attachments":[{"uid":"f6a65f355fc909c4","name":"Executed CLI command","source":"f6a65f355fc909c4.txt","type":"text/plain","size":15},{"uid":"6cec35dc37c9b514","name":"Executed CLI command output","source":"6cec35dc37c9b514.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create first project via **CLI**.\n\n### Verify that:\n\n- User can create second project via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second project via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add organization via API and reload page\nMessage: Expected HTTP 201 response but got 500!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:367: in ui_add_org_api\n    assert status == 201, f\"Expected HTTP 201 response but got {status}!\"\n           ^^^^^^^^^^^^^\nE   AssertionError: Expected HTTP 201 response but got 500!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_structure_setup.py:107: in test_create_second_project_cli\n    await self._ui_steps.ui_add_org_api(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add organization via API and reload page\nE   Message: Expected HTTP 201 response but got 500!","steps":[{"name":"Login via UI","time":{"start":1757991753766,"stop":1757991759663,"duration":5897},"status":"passed","steps":[{"name":"Click login button","time":{"start":1757991753766,"stop":1757991755028,"duration":1262},"status":"passed","steps":[],"attachments":[{"uid":"def38fb2a0b235fe","name":"Page URL","source":"def38fb2a0b235fe.txt","type":"text/plain","size":33},{"uid":"9a36a445663b81cc","name":"Screenshot: Click login button (success)","source":"9a36a445663b81cc.png","type":"image/png","size":41596}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757991755028,"stop":1757991755155,"duration":127},"status":"passed","steps":[],"attachments":[{"uid":"f1e43e825ed710fc","name":"Page URL","source":"f1e43e825ed710fc.txt","type":"text/plain","size":215},{"uid":"196a2720a3a86837","name":"Screenshot: Enter email (success)","source":"196a2720a3a86837.png","type":"image/png","size":45558}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757991755155,"stop":1757991755310,"duration":155},"status":"passed","steps":[],"attachments":[{"uid":"e4d6f60f4bf75fa4","name":"Page URL","source":"e4d6f60f4bf75fa4.txt","type":"text/plain","size":215},{"uid":"a825fcce37894786","name":"Screenshot: Enter password (success)","source":"a825fcce37894786.png","type":"image/png","size":46069}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1757991755310,"stop":1757991758428,"duration":3118},"status":"passed","steps":[],"attachments":[{"uid":"791474977272219a","name":"Page URL","source":"791474977272219a.txt","type":"text/plain","size":215},{"uid":"b55d2f8b9ff6f654","name":"HTTP 200 - GET config","source":"b55d2f8b9ff6f654.txt","type":"text/plain","size":752},{"uid":"8a09059be6d6d5a2","name":"HTTP 200 - GET permissions?uri=blob:","source":"8a09059be6d6d5a2.txt","type":"text/plain","size":163},{"uid":"b560931a2f86a6b8","name":"HTTP 200 - GET regression-hu30kslfn7?include=clusters&include=system_role","source":"b560931a2f86a6b8.txt","type":"text/plain","size":388},{"uid":"84c944ad3e02004e","name":"HTTP 500 - GET incoming","source":"84c944ad3e02004e.txt","type":"text/plain","size":574},{"uid":"44b6db53d742fde1","name":"HTTP 500 - GET regression-hu30kslfn7?include=orgs","source":"44b6db53d742fde1.txt","type":"text/plain","size":622},{"uid":"e58988466f0aeb10","name":"Screenshot: Click Continue button (success)","source":"e58988466f0aeb10.png","type":"image/png","size":51220}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757991758443,"stop":1757991759574,"duration":1131},"status":"passed","steps":[],"attachments":[{"uid":"6cc1390b7c328970","name":"Page URL","source":"6cc1390b7c328970.txt","type":"text/plain","size":44},{"uid":"6fa533f3343d5bb5","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"6fa533f3343d5bb5.png","type":"image/png","size":160000}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d848edfe3e42dda0","name":"Page URL","source":"d848edfe3e42dda0.txt","type":"text/plain","size":33},{"uid":"3954877110117ec5","name":"Screenshot: Login via UI (success)","source":"3954877110117ec5.png","type":"image/png","size":160000}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1757991759664,"stop":1757991760973,"duration":1309},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add organization via API and reload page\nMessage: Expected HTTP 201 response but got 500!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"638baca41861cde7","name":"Page URL","source":"638baca41861cde7.txt","type":"text/plain","size":44},{"uid":"355ae4db9482e356","name":"Screenshot: Add organization via API and reload page (fail)","source":"355ae4db9482e356.png","type":"image/png","size":160000}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ddd52401de43f687","name":"log","source":"ddd52401de43f687.txt","type":"text/plain","size":25868}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":20,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1757991760995,"stop":1757991760996,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757991760996,"stop":1757991760996,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757991760996,"stop":1757991762625,"duration":1629},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757991760996,"stop":1757991762625,"duration":1629},"status":"passed","steps":[],"attachments":[{"uid":"b3189882b5b4160b","name":"Cleanup note","source":"b3189882b5b4160b.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757991762626,"stop":1757991762626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757991762627,"stop":1757991762628,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Project Structure Setup"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3794-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5663030ec19cfd13","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Welcome new user page displayed\nMessage: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"h3.truncate.text-h3\").filter(has_text=\"Welcome, regression-hu30kslfn7@apolo.us\")","time":{"start":1757991722851,"stop":1757991738836,"duration":15985}},{"uid":"fc62672d8c190ce9","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Welcome new user page displayed\nMessage: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"h3.truncate.text-h3\").filter(has_text=\"Welcome, regression-hu30kslfn7@apolo.us\")","time":{"start":1757991691526,"stop":1757991707838,"duration":16312}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":38,"unknown":0,"total":39},"items":[{"uid":"40d2f1b2b7b41809","status":"passed","time":{"start":1757906430296,"stop":1757906479518,"duration":49222}},{"uid":"4a2e2d9be7046e13","status":"passed","time":{"start":1757818030948,"stop":1757818062250,"duration":31302}},{"uid":"7a783e2bdbf0bab3","status":"passed","time":{"start":1757731825491,"stop":1757731858525,"duration":33034}},{"uid":"4b8f3972a1f8145a","status":"passed","time":{"start":1757645194118,"stop":1757645226639,"duration":32521}},{"uid":"bba3706495842ad6","status":"passed","time":{"start":1757558588063,"stop":1757558628184,"duration":40121}},{"uid":"e417e9e3c00a3309","status":"passed","time":{"start":1757473203028,"stop":1757473242636,"duration":39608}},{"uid":"f97f08f069e6a678","status":"passed","time":{"start":1757420900451,"stop":1757420936240,"duration":35789}},{"uid":"24c1da5a63a5e420","status":"passed","time":{"start":1757386437855,"stop":1757386473000,"duration":35145}},{"uid":"cfefb1056de82dc8","status":"passed","time":{"start":1757299894627,"stop":1757299947165,"duration":52538}},{"uid":"cba71dac322242cf","status":"passed","time":{"start":1757213942045,"stop":1757213974653,"duration":32608}},{"uid":"79204c1246f8bb88","status":"passed","time":{"start":1757143101582,"stop":1757143131522,"duration":29940}},{"uid":"777c6f3e265615ab","status":"passed","time":{"start":1757127165370,"stop":1757127195731,"duration":30361}},{"uid":"a3b736c49e88de66","status":"passed","time":{"start":1757040160481,"stop":1757040189238,"duration":28757}},{"uid":"a45c59b7c408de0b","status":"passed","time":{"start":1756953856296,"stop":1756953894206,"duration":37910}},{"uid":"6b384a1e85657d1","status":"passed","time":{"start":1756867383460,"stop":1756867410810,"duration":27350}},{"uid":"c872476b3399cdfe","status":"passed","time":{"start":1756805061268,"stop":1756805094905,"duration":33637}},{"uid":"a1c22f38c0555bd3","status":"passed","time":{"start":1756608017518,"stop":1756608045700,"duration":28182}},{"uid":"9a9abf001c4ee655","status":"passed","time":{"start":1756521691110,"stop":1756521728627,"duration":37517}},{"uid":"ef2f70c624dd5dcd","status":"passed","time":{"start":1756435463458,"stop":1756435501676,"duration":38218}},{"uid":"3d840a9557f6989a","status":"passed","time":{"start":1756348931718,"stop":1756348971321,"duration":39603}}]},"tags":["asyncio"]},"source":"eb93f220219e7693.json","parameterValues":[]}