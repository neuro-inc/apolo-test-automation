{"uid":"ab022244e66ffd6c","name":"Verify Admin can purchase organization credits with custom amount","fullName":"tests.test_cases.tests_ui.test_credits_purchase.TestUICreditsPurchase#test_admin_purchase_credits","historyId":"fd4c09752399b53a74b87a0aea0bec06","time":{"start":1760587724306,"stop":1760587791373,"duration":67067},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n\n### Verify that:\n\n- Admin can purchase credits by input custom amount.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Admin can purchase credits by input custom amount.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Payment page displayed\nMessage: Payment page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/payment_page_steps.py:14: in verify_ui_page_displayed\n    assert await self._pm.payment_page.is_loaded(email=email), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Payment page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:149: in test_admin_purchase_credits\n    await steps.payment_page.verify_ui_page_displayed(email=user.email)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify that Payment page displayed\nE   Message: Payment page should be displayed!","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1760578308135,"stop":1760578308135,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1760578308136,"stop":1760578308136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1760578308136,"stop":1760578308136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1760578308136,"stop":1760578308136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1760578308136,"stop":1760578338137,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1760578308136,"stop":1760578308136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1760578338137,"stop":1760578338137,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1760587721628,"stop":1760587721632,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1760587721632,"stop":1760587724304,"duration":2672},"status":"passed","steps":[],"attachments":[{"uid":"ecc1938a1d14c94d","name":"HTTP 200 - GET config","source":"ecc1938a1d14c94d.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1760587721632,"stop":1760587721632,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1760587724304,"stop":1760587724304,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1760587724304,"stop":1760587724304,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1760587724304,"stop":1760587724305,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1760587724305,"stop":1760587724305,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1760587724305,"stop":1760587724305,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1760587724306,"stop":1760587724306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1760587724306,"stop":1760587724306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1760587724306,"stop":1760587724306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n\n### Verify that:\n\n- Admin can purchase credits by input custom amount.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Admin can purchase credits by input custom amount.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Payment page displayed\nMessage: Payment page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/payment_page_steps.py:14: in verify_ui_page_displayed\n    assert await self._pm.payment_page.is_loaded(email=email), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Payment page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:149: in test_admin_purchase_credits\n    await steps.payment_page.verify_ui_page_displayed(email=user.email)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify that Payment page displayed\nE   Message: Payment page should be displayed!","steps":[{"name":"Login via UI","time":{"start":1760587724307,"stop":1760587729705,"duration":5398},"status":"passed","steps":[{"name":"Click login button","time":{"start":1760587724307,"stop":1760587725425,"duration":1118},"status":"passed","steps":[],"attachments":[{"uid":"558647d794011fe3","name":"Page URL","source":"558647d794011fe3.txt","type":"text/plain","size":33},{"uid":"6b9e3c4a489b4694","name":"Screenshot: Click login button (success)","source":"6b9e3c4a489b4694.png","type":"image/png","size":41537}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1760587725425,"stop":1760587725771,"duration":346},"status":"passed","steps":[],"attachments":[{"uid":"f6222e4efba292bf","name":"Page URL","source":"f6222e4efba292bf.txt","type":"text/plain","size":215},{"uid":"8fd97bed79499534","name":"Screenshot: Enter email (success)","source":"8fd97bed79499534.png","type":"image/png","size":46558}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1760587725772,"stop":1760587726105,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"9648dccc7580407","name":"Page URL","source":"9648dccc7580407.txt","type":"text/plain","size":215},{"uid":"e825e2ae038a41e6","name":"Screenshot: Enter password (success)","source":"e825e2ae038a41e6.png","type":"image/png","size":46680}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1760587726105,"stop":1760587728510,"duration":2405},"status":"passed","steps":[],"attachments":[{"uid":"8de9f4bd8274d921","name":"Page URL","source":"8de9f4bd8274d921.txt","type":"text/plain","size":215},{"uid":"b2997e4c61958e3c","name":"HTTP 200 - GET config","source":"b2997e4c61958e3c.txt","type":"text/plain","size":771},{"uid":"71a94631bd15d62e","name":"HTTP 200 - GET permissions?uri=blob:","source":"71a94631bd15d62e.txt","type":"text/plain","size":182},{"uid":"a346b982827e1904","name":"HTTP 200 - GET incoming","source":"a346b982827e1904.txt","type":"text/plain","size":156},{"uid":"e782e4d30aa8a552","name":"HTTP 200 - GET regression-x2pdgkua0m?include=orgs","source":"e782e4d30aa8a552.txt","type":"text/plain","size":379},{"uid":"74a4ebe60161e130","name":"HTTP 200 - GET regression-x2pdgkua0m?include=clusters&include=system_role","source":"74a4ebe60161e130.txt","type":"text/plain","size":407},{"uid":"c57bb1c7b8dd07a3","name":"Screenshot: Click Continue button (success)","source":"c57bb1c7b8dd07a3.png","type":"image/png","size":51556}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1760587728521,"stop":1760587729621,"duration":1100},"status":"passed","steps":[],"attachments":[{"uid":"ee874a5bd5c83298","name":"Page URL","source":"ee874a5bd5c83298.txt","type":"text/plain","size":44},{"uid":"ed1eb388514e73a","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"ed1eb388514e73a.png","type":"image/png","size":160328}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8f0b18680665caca","name":"Page URL","source":"8f0b18680665caca.txt","type":"text/plain","size":33},{"uid":"3bdbdd92a8e92a6e","name":"Screenshot: Login via UI (success)","source":"3bdbdd92a8e92a6e.png","type":"image/png","size":160328}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1760587729706,"stop":1760587758972,"duration":29266},"status":"passed","steps":[{"name":"Reload page","time":{"start":1760587751428,"stop":1760587758889,"duration":7461},"status":"passed","steps":[],"attachments":[{"uid":"3df92dee5a88f5e8","name":"Page URL","source":"3df92dee5a88f5e8.txt","type":"text/plain","size":44},{"uid":"f502320eb4e26df2","name":"HTTP 200 - GET config","source":"f502320eb4e26df2.txt","type":"text/plain","size":2137},{"uid":"7cb738b6d3136475","name":"HTTP 200 - GET incoming","source":"7cb738b6d3136475.txt","type":"text/plain","size":156},{"uid":"a5975294a5a78ac4","name":"HTTP 200 - GET regression-x2pdgkua0m?include=clusters&include=system_role","source":"a5975294a5a78ac4.txt","type":"text/plain","size":529},{"uid":"52e83d4fcad3c13e","name":"HTTP 200 - GET regression-org-11gcb3nas2cf","source":"52e83d4fcad3c13e.txt","type":"text/plain","size":444},{"uid":"e24cfb6e0879ccbc","name":"HTTP 200 - GET permissions?uri=blob:","source":"e24cfb6e0879ccbc.txt","type":"text/plain","size":255},{"uid":"4c99b73b642fc7e3","name":"HTTP 200 - GET regression-x2pdgkua0m?include=orgs","source":"4c99b73b642fc7e3.txt","type":"text/plain","size":474},{"uid":"78e351b606b9ad85","name":"HTTP 200 - GET tags","source":"78e351b606b9ad85.txt","type":"text/plain","size":867},{"uid":"3e84428e0b772bfe","name":"Screenshot: Reload page (success)","source":"3e84428e0b772bfe.png","type":"image/png","size":57376}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"97196dcfb2cc63b2","name":"Page URL","source":"97196dcfb2cc63b2.txt","type":"text/plain","size":44},{"uid":"7617fcb614ca5c9a","name":"Screenshot: Add organization via API and reload page (success)","source":"7617fcb614ca5c9a.png","type":"image/png","size":57376}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Verify Credits button on the top pane of the main page is enabled","time":{"start":1760587758972,"stop":1760587759059,"duration":87},"status":"passed","steps":[],"attachments":[{"uid":"7b4f6e65a0cc1aaf","name":"Page URL","source":"7b4f6e65a0cc1aaf.txt","type":"text/plain","size":81},{"uid":"35d6f73d2acdf3f4","name":"Screenshot: Verify Credits button on the top pane of the main page is enabled (success)","source":"35d6f73d2acdf3f4.png","type":"image/png","size":57376}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Get current credits amount","time":{"start":1760587759059,"stop":1760587759155,"duration":96},"status":"passed","steps":[],"attachments":[{"uid":"cb4914644a58a0a3","name":"Page URL","source":"cb4914644a58a0a3.txt","type":"text/plain","size":81},{"uid":"252378b9d526150b","name":"Screenshot: Get current credits amount (success)","source":"252378b9d526150b.png","type":"image/png","size":57376}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Credits button on the top pane of the main page","time":{"start":1760587759155,"stop":1760587759867,"duration":712},"status":"passed","steps":[],"attachments":[{"uid":"ea189e3f73505632","name":"Page URL","source":"ea189e3f73505632.txt","type":"text/plain","size":81},{"uid":"dacbd09ada473049","name":"Screenshot: Click Credits button on the top pane of the main page (success)","source":"dacbd09ada473049.png","type":"image/png","size":79834}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify Buy credits popup displayed","time":{"start":1760587759867,"stop":1760587760016,"duration":149},"status":"passed","steps":[],"attachments":[{"uid":"9839628d10a88f3","name":"Page URL","source":"9839628d10a88f3.txt","type":"text/plain","size":81},{"uid":"b29c26a4d4cb4043","name":"Screenshot: Verify Buy credits popup displayed (success)","source":"b29c26a4d4cb4043.png","type":"image/png","size":78104}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter credits amount","time":{"start":1760587760016,"stop":1760587760394,"duration":378},"status":"passed","steps":[],"attachments":[{"uid":"7c8d310c57223072","name":"Page URL","source":"7c8d310c57223072.txt","type":"text/plain","size":81},{"uid":"c2607a51100fc5a1","name":"Screenshot: Enter credits amount (success)","source":"c2607a51100fc5a1.png","type":"image/png","size":62917}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Buy credits button","time":{"start":1760587760394,"stop":1760587761060,"duration":666},"status":"passed","steps":[],"attachments":[{"uid":"b388f76bdd834436","name":"Page URL","source":"b388f76bdd834436.txt","type":"text/plain","size":81},{"uid":"bb83a1d95facd7aa","name":"Screenshot: Click Buy credits button (success)","source":"bb83a1d95facd7aa.png","type":"image/png","size":62161}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Payment page displayed","time":{"start":1760587761060,"stop":1760587791372,"duration":30312},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Payment page displayed\nMessage: Payment page should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"f172db4fed111f53","name":"Page URL","source":"f172db4fed111f53.txt","type":"text/plain","size":81},{"uid":"2bb2fc041ce67a5a","name":"HTTP 200 - POST checkout","source":"2bb2fc041ce67a5a.txt","type":"text/plain","size":385},{"uid":"afe30d0faf8de061","name":"Screenshot: Verify that Payment page displayed (fail)","source":"afe30d0faf8de061.png","type":"image/png","size":54573}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"fa4b9a9910729e68","name":"log","source":"fa4b9a9910729e68.txt","type":"text/plain","size":48005}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":44,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1760587791384,"stop":1760587791384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760587791384,"stop":1760587795679,"duration":4295},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1760587791384,"stop":1760587795679,"duration":4295},"status":"passed","steps":[{"name":"Delete organisation: regression-org-11gcb3nas2cf","time":{"start":1760587795079,"stop":1760587795618,"duration":539},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1760587791384,"stop":1760587791384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1760587795679,"stop":1760587795680,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1760587795681,"stop":1760587795681,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"UI Tests"},{"name":"suite","value":"UI Credits Purchase"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUICreditsPurchase"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3611-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_credits_purchase"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"ab022244e66ffd6c.json","parameterValues":[]}