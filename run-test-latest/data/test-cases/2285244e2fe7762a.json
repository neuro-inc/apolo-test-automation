{"uid":"2285244e2fe7762a","name":"Admin create second secret via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_second_secret_cli","historyId":"845e221e8b146c443519ec46a03e8fea","time":{"start":1755485869086,"stop":1755485909329,"duration":40243},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create first secret via **CLI**.\n\n### Verify that:\n\n- User can create second secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create first secret via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1755480795239,"stop":1755480795239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755480795239,"stop":1755480795239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1755480795239,"stop":1755480795239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755480795239,"stop":1755480795239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755480795239,"stop":1755480795239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755480795240,"stop":1755480795240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755480795240,"stop":1755480795240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755485866362,"stop":1755485866365,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755485866365,"stop":1755485868583,"duration":2218},"status":"passed","steps":[],"attachments":[{"uid":"c791e9e7df2437a6","name":"HTTP 200 - GET config","source":"c791e9e7df2437a6.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755485866365,"stop":1755485866365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1755485868583,"stop":1755485868583,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755485868583,"stop":1755485868583,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755485868583,"stop":1755485868584,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755485868584,"stop":1755485868584,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755485868584,"stop":1755485868584,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755485868584,"stop":1755485868584,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755485868585,"stop":1755485869086,"duration":501},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755485868585,"stop":1755485869086,"duration":501},"status":"passed","steps":[],"attachments":[{"uid":"bc6d7c12f5899d76","name":"Executed CLI command","source":"bc6d7c12f5899d76.txt","type":"text/plain","size":15},{"uid":"733317dca007cd6c","name":"Executed CLI command output","source":"733317dca007cd6c.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755485868585,"stop":1755485868585,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create first secret via **CLI**.\n\n### Verify that:\n\n- User can create second secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create first secret via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755485869087,"stop":1755485880336,"duration":11249},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755485869087,"stop":1755485869837,"duration":750},"status":"passed","steps":[],"attachments":[{"uid":"2a980a16fa6da502","name":"Page URL","source":"2a980a16fa6da502.txt","type":"text/plain","size":33},{"uid":"e41cc2f6dd7fdc87","name":"Screenshot: Click login button (success)","source":"e41cc2f6dd7fdc87.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755485869837,"stop":1755485870409,"duration":572},"status":"passed","steps":[],"attachments":[{"uid":"bd476af25d5704c8","name":"Page URL","source":"bd476af25d5704c8.txt","type":"text/plain","size":33},{"uid":"77e6fce07f959d7f","name":"Screenshot: Enter email (success)","source":"77e6fce07f959d7f.png","type":"image/png","size":46918}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755485870409,"stop":1755485870587,"duration":178},"status":"passed","steps":[],"attachments":[{"uid":"3a3da081abb7e61f","name":"Page URL","source":"3a3da081abb7e61f.txt","type":"text/plain","size":215},{"uid":"c9aeb46eca8944f7","name":"Screenshot: Enter password (success)","source":"c9aeb46eca8944f7.png","type":"image/png","size":45950}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755485870587,"stop":1755485878983,"duration":8396},"status":"passed","steps":[],"attachments":[{"uid":"756030f3b4313a35","name":"Page URL","source":"756030f3b4313a35.txt","type":"text/plain","size":215},{"uid":"abd792d2396f3868","name":"HTTP 200 - GET config","source":"abd792d2396f3868.txt","type":"text/plain","size":752},{"uid":"29bf36f9507774d6","name":"HTTP 200 - GET permissions?uri=blob:","source":"29bf36f9507774d6.txt","type":"text/plain","size":163},{"uid":"46408147a5a5268f","name":"HTTP 200 - GET regression-z9zitx15ad?include=orgs","source":"46408147a5a5268f.txt","type":"text/plain","size":360},{"uid":"b4881525bdd3920f","name":"HTTP 200 - GET incoming","source":"b4881525bdd3920f.txt","type":"text/plain","size":137},{"uid":"33a4ded28944b37b","name":"HTTP 200 - GET regression-z9zitx15ad?include=clusters&include=system_role","source":"33a4ded28944b37b.txt","type":"text/plain","size":388},{"uid":"4c9952c42c8c30c2","name":"Screenshot: Click Continue button (success)","source":"4c9952c42c8c30c2.png","type":"image/png","size":160557}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755485879095,"stop":1755485880233,"duration":1138},"status":"passed","steps":[],"attachments":[{"uid":"2ee78582329cd2d4","name":"Page URL","source":"2ee78582329cd2d4.txt","type":"text/plain","size":44},{"uid":"f54ecd4caeb5ef5","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"f54ecd4caeb5ef5.png","type":"image/png","size":160557}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"bebae1b7496e4dc6","name":"Page URL","source":"bebae1b7496e4dc6.txt","type":"text/plain","size":33},{"uid":"4725f4b1d990cb5b","name":"Screenshot: Login via UI (success)","source":"4725f4b1d990cb5b.png","type":"image/png","size":160557}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1755485880336,"stop":1755485902473,"duration":22137},"status":"passed","steps":[{"name":"Reload page","time":{"start":1755485893173,"stop":1755485902329,"duration":9156},"status":"passed","steps":[],"attachments":[{"uid":"485837f35408f5ff","name":"Page URL","source":"485837f35408f5ff.txt","type":"text/plain","size":44},{"uid":"559cd6d06eadceb","name":"HTTP 200 - GET config","source":"559cd6d06eadceb.txt","type":"text/plain","size":1118},{"uid":"3a3cbb7f73aec224","name":"HTTP 200 - GET incoming","source":"3a3cbb7f73aec224.txt","type":"text/plain","size":137},{"uid":"131c314824c4d4f7","name":"HTTP 200 - GET permissions?uri=blob:","source":"131c314824c4d4f7.txt","type":"text/plain","size":236},{"uid":"1dc2ce203628cf77","name":"HTTP 200 - GET regression-z9zitx15ad?include=orgs","source":"1dc2ce203628cf77.txt","type":"text/plain","size":455},{"uid":"6a050ae19f186f30","name":"HTTP 200 - GET regression-org-ft4q1umc7wdk","source":"6a050ae19f186f30.txt","type":"text/plain","size":425},{"uid":"8ed9d33b5a30b9a4","name":"HTTP 200 - GET regression-z9zitx15ad?include=clusters&include=system_role","source":"8ed9d33b5a30b9a4.txt","type":"text/plain","size":510},{"uid":"49edbffc796a7072","name":"Screenshot: Reload page (success)","source":"49edbffc796a7072.png","type":"image/png","size":23943}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5fd764be73c6f538","name":"Page URL","source":"5fd764be73c6f538.txt","type":"text/plain","size":44},{"uid":"576905482cdac114","name":"Screenshot: Add organization via API and reload page (success)","source":"576905482cdac114.png","type":"image/png","size":56719}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755485902473,"stop":1755485903483,"duration":1010},"status":"passed","steps":[],"attachments":[{"uid":"a501ccf1a69f4480","name":"Executed CLI command","source":"a501ccf1a69f4480.txt","type":"text/plain","size":1114},{"uid":"3e66655314ab98c8","name":"Executed CLI command output","source":"3e66655314ab98c8.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1755485903483,"stop":1755485906787,"duration":3304},"status":"passed","steps":[],"attachments":[{"uid":"a4273649dc785287","name":"Executed CLI command","source":"a4273649dc785287.txt","type":"text/plain","size":114},{"uid":"5237e8b92cfefc82","name":"Executed CLI command output","source":"5237e8b92cfefc82.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1755485906787,"stop":1755485907661,"duration":874},"status":"passed","steps":[],"attachments":[{"uid":"a1f029c9431f1021","name":"Executed CLI command","source":"a1f029c9431f1021.txt","type":"text/plain","size":39},{"uid":"e60f663661ce8fc1","name":"Executed CLI command output","source":"e60f663661ce8fc1.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1755485907661,"stop":1755485908511,"duration":850},"status":"passed","steps":[],"attachments":[{"uid":"6e8627e1c5981ef6","name":"Executed CLI command","source":"6e8627e1c5981ef6.txt","type":"text/plain","size":43},{"uid":"4790ecb84d3c0284","name":"Executed CLI command output","source":"4790ecb84d3c0284.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"List secrets via CLI","time":{"start":1755485908512,"stop":1755485909328,"duration":816},"status":"passed","steps":[],"attachments":[{"uid":"831d7854d8eb90ab","name":"Executed CLI command","source":"831d7854d8eb90ab.txt","type":"text/plain","size":15},{"uid":"143959a3daa4b46d","name":"Executed CLI command output","source":"143959a3daa4b46d.txt","type":"text/plain","size":493}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify secret listed in list secrets output","time":{"start":1755485909328,"stop":1755485909328,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify secret listed in list secrets output","time":{"start":1755485909329,"stop":1755485909329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"c62cb5d993614663","name":"log","source":"c62cb5d993614663.txt","type":"text/plain","size":19547}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":15,"attachmentsCount":38,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1755485909330,"stop":1755485909330,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1755485909331,"stop":1755485914421,"duration":5090},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755485909331,"stop":1755485914421,"duration":5090},"status":"passed","steps":[{"name":"Delete organisation: regression-org-ft4q1umc7wdk","time":{"start":1755485913477,"stop":1755485914384,"duration":907},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755485914422,"stop":1755485914422,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755485914423,"stop":1755485914424,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Secrets"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"5902-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":5,"unknown":0,"total":5},"items":[{"uid":"a3c11ba3b38daa5f","status":"passed","time":{"start":1755399130723,"stop":1755399174078,"duration":43355}},{"uid":"28cc64b28cb01540","status":"passed","time":{"start":1755376483832,"stop":1755376508958,"duration":25126}},{"uid":"e8a306ac34c045be","status":"passed","time":{"start":1755312585252,"stop":1755312604880,"duration":19628}},{"uid":"4380a9524697749e","status":"passed","time":{"start":1755284484572,"stop":1755284542644,"duration":58072}}]},"tags":["asyncio"]},"source":"2285244e2fe7762a.json","parameterValues":[]}