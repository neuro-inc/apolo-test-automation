{"uid":"91c6d94828079f57","name":"Verify Admin can change User role to Manager","fullName":"tests.test_cases.tests_ui.test_organization_change_member_roles.TestUIOrganizationChangeMemberRoles#test_admin_change_user_to_manager","historyId":"9308a607dfa152af21d92a11fc8af769","time":{"start":1757208832595,"stop":1757208832604,"duration":9},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role via **API**.\n\n### Verify that:\n\n- `Admin` can change user role from `User` to `Manager`\n- User after changing role from `User` to `Manager`:\n\n- Can access organization `Settings`\n- Can access organization `Billing`\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change user role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span></li>\n<li>\n<p>User after changing role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span>:</p>\n</li>\n<li>\n<p>Can access organization <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Settings</span></p>\n</li>\n<li>Can access organization <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Billing</span></li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:68: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_organization_change_member_roles.py:41: in test_admin_change_user_to_manager\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757208743409,"stop":1757208743409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757208743409,"stop":1757208743409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757208743410,"stop":1757208743410,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757208743410,"stop":1757208743410,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1757208743410,"stop":1757208773410,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1757208743410,"stop":1757208743410,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1757208773411,"stop":1757208773411,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1757208773411,"stop":1757208773416,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757208773416,"stop":1757208773417,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757208773416,"stop":1757208776417,"duration":3001},"status":"passed","steps":[],"attachments":[{"uid":"ae841b8eef204a58","name":"HTTP 200 - GET config","source":"ae841b8eef204a58.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1757208776417,"stop":1757208776418,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1757208776418,"stop":1757208776418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757208776418,"stop":1757208776418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1757208776418,"stop":1757208776418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757208776419,"stop":1757208832594,"duration":56175},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1757208778932,"stop":1757208810813,"duration":31881},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1757208778933,"stop":1757208780122,"duration":1189},"status":"passed","steps":[],"attachments":[{"uid":"8a0e7dd012f53696","name":"Page URL","source":"8a0e7dd012f53696.txt","type":"text/plain","size":33},{"uid":"5cfc74289f21a99b","name":"Screenshot: Click signup button (success)","source":"5cfc74289f21a99b.png","type":"image/png","size":39584}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757208780122,"stop":1757208780306,"duration":184},"status":"passed","steps":[],"attachments":[{"uid":"f36b6bb21aa4cf3","name":"Page URL","source":"f36b6bb21aa4cf3.txt","type":"text/plain","size":216},{"uid":"2633f9f37a4e46c4","name":"Screenshot: Enter email (success)","source":"2633f9f37a4e46c4.png","type":"image/png","size":44688}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757208780307,"stop":1757208780484,"duration":177},"status":"passed","steps":[],"attachments":[{"uid":"9f19c8ca5a9040","name":"Page URL","source":"9f19c8ca5a9040.txt","type":"text/plain","size":216},{"uid":"7c261b455c54702b","name":"Screenshot: Enter password (success)","source":"7c261b455c54702b.png","type":"image/png","size":55081}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1757208780485,"stop":1757208782813,"duration":2328},"status":"passed","steps":[],"attachments":[{"uid":"73c5bff47fa921d5","name":"Page URL","source":"73c5bff47fa921d5.txt","type":"text/plain","size":216},{"uid":"8e1b486f282d2bbf","name":"Screenshot: Click continue button (success)","source":"8e1b486f282d2bbf.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1757208782813,"stop":1757208783921,"duration":1108},"status":"passed","steps":[],"attachments":[{"uid":"48157f09aa39f80","name":"Page URL","source":"48157f09aa39f80.txt","type":"text/plain","size":192},{"uid":"31fe4be872209010","name":"HTTP 200 - GET config","source":"31fe4be872209010.txt","type":"text/plain","size":654},{"uid":"ccc27db68e8fe58c","name":"Screenshot: Verify that Verify email message displayed (success)","source":"ccc27db68e8fe58c.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1757208783921,"stop":1757208785490,"duration":1569},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1757208784312,"stop":1757208785296,"duration":984},"status":"passed","steps":[],"attachments":[{"uid":"2d18fabe97945496","name":"Page URL","source":"2d18fabe97945496.txt","type":"text/plain","size":182},{"uid":"2858a8f14379e744","name":"Screenshot: Navigate to URL (success)","source":"2858a8f14379e744.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1757208785491,"stop":1757208787316,"duration":1825},"status":"passed","steps":[],"attachments":[{"uid":"19b18fc7c26db82","name":"Page URL","source":"19b18fc7c26db82.txt","type":"text/plain","size":87},{"uid":"e8f749cae9117b7c","name":"HTTP 200 - GET config","source":"e8f749cae9117b7c.txt","type":"text/plain","size":654},{"uid":"d0f04a7e38e8fd4d","name":"Screenshot: Navigate to URL (success)","source":"d0f04a7e38e8fd4d.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1757208787316,"stop":1757208787408,"duration":92},"status":"passed","steps":[],"attachments":[{"uid":"dcaebfe10b75b6dc","name":"Page URL","source":"dcaebfe10b75b6dc.txt","type":"text/plain","size":33},{"uid":"7543c0a677f6167b","name":"Screenshot: Verify that Auth page displayed (success)","source":"7543c0a677f6167b.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1757208787408,"stop":1757208788647,"duration":1239},"status":"passed","steps":[],"attachments":[{"uid":"7f2969063fd6240b","name":"Page URL","source":"7f2969063fd6240b.txt","type":"text/plain","size":33},{"uid":"2172be12acdab1a3","name":"Screenshot: Click login button (success)","source":"2172be12acdab1a3.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1757208788647,"stop":1757208789767,"duration":1120},"status":"passed","steps":[],"attachments":[{"uid":"8ba80ed30443c409","name":"Page URL","source":"8ba80ed30443c409.txt","type":"text/plain","size":33},{"uid":"11eb05b5f4391bdd","name":"HTTP 404 - HEAD regression-y846dmnp53","source":"11eb05b5f4391bdd.txt","type":"text/plain","size":160},{"uid":"b11a4df6e15ee476","name":"Screenshot: Verify that Signup username page displayed (success)","source":"b11a4df6e15ee476.png","type":"image/png","size":37870}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1757208789767,"stop":1757208790413,"duration":646},"status":"passed","steps":[],"attachments":[{"uid":"2e174de4fc25bf11","name":"Page URL","source":"2e174de4fc25bf11.txt","type":"text/plain","size":362},{"uid":"f5010ef1520fe189","name":"HTTP 404 - HEAD ","source":"f5010ef1520fe189.txt","type":"text/plain","size":139},{"uid":"22681aeb3aa31c6d","name":"HTTP 404 - HEAD regression-y846dmnp53","source":"22681aeb3aa31c6d.txt","type":"text/plain","size":160},{"uid":"3a704ff30f61db66","name":"Screenshot: Enter username (success)","source":"3a704ff30f61db66.png","type":"image/png","size":38172}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1757208790413,"stop":1757208800577,"duration":10164},"status":"passed","steps":[],"attachments":[{"uid":"7d77666ea2908c79","name":"Page URL","source":"7d77666ea2908c79.txt","type":"text/plain","size":362},{"uid":"69cd7ce99538297e","name":"HTTP 200 - GET config","source":"69cd7ce99538297e.txt","type":"text/plain","size":654},{"uid":"ab68426b9bb4109","name":"HTTP 200 - GET config","source":"ab68426b9bb4109.txt","type":"text/plain","size":654},{"uid":"a6363ace016103ea","name":"Screenshot: Click signup button on Signup username page (success)","source":"a6363ace016103ea.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1757208800577,"stop":1757208810726,"duration":10149},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"dd8bf29dac95136f","name":"Page URL","source":"dd8bf29dac95136f.txt","type":"text/plain","size":222},{"uid":"29c3708048e05497","name":"Screenshot: Verify that User agreement pop up displayed (fail)","source":"29c3708048e05497.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c1eab4583d434c23","name":"Page URL","source":"c1eab4583d434c23.txt","type":"text/plain","size":33},{"uid":"276b165c3bdbb199","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"276b165c3bdbb199.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":35,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1757208813221,"stop":1757208832594,"duration":19373},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1757208813222,"stop":1757208814312,"duration":1090},"status":"passed","steps":[],"attachments":[{"uid":"2f994971b2c3e47e","name":"Page URL","source":"2f994971b2c3e47e.txt","type":"text/plain","size":33},{"uid":"7b8971edb6f9425b","name":"Screenshot: Click signup button (success)","source":"7b8971edb6f9425b.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757208814313,"stop":1757208814446,"duration":133},"status":"passed","steps":[],"attachments":[{"uid":"6db8d21bd3dcb58f","name":"Page URL","source":"6db8d21bd3dcb58f.txt","type":"text/plain","size":216},{"uid":"44042e2edddea815","name":"Screenshot: Enter email (success)","source":"44042e2edddea815.png","type":"image/png","size":43710}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757208814447,"stop":1757208814606,"duration":159},"status":"passed","steps":[],"attachments":[{"uid":"4d26f57f7ac51227","name":"Page URL","source":"4d26f57f7ac51227.txt","type":"text/plain","size":216},{"uid":"59159ac031444d6d","name":"Screenshot: Enter password (success)","source":"59159ac031444d6d.png","type":"image/png","size":50485}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1757208814606,"stop":1757208816527,"duration":1921},"status":"passed","steps":[],"attachments":[{"uid":"18aa08bc310ca5e0","name":"Page URL","source":"18aa08bc310ca5e0.txt","type":"text/plain","size":216},{"uid":"cd9c1e663b50226a","name":"Screenshot: Click continue button (success)","source":"cd9c1e663b50226a.png","type":"image/png","size":11162}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1757208816527,"stop":1757208816960,"duration":433},"status":"passed","steps":[],"attachments":[{"uid":"24308fb0bc67c3af","name":"Page URL","source":"24308fb0bc67c3af.txt","type":"text/plain","size":192},{"uid":"d7eec3c7f4bf65","name":"HTTP 200 - GET config","source":"d7eec3c7f4bf65.txt","type":"text/plain","size":654},{"uid":"f21a81ca49015b2b","name":"Screenshot: Verify that Verify email message displayed (success)","source":"f21a81ca49015b2b.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1757208816961,"stop":1757208818427,"duration":1466},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1757208817289,"stop":1757208818226,"duration":937},"status":"passed","steps":[],"attachments":[{"uid":"45e9c2cbaa410fe7","name":"Page URL","source":"45e9c2cbaa410fe7.txt","type":"text/plain","size":182},{"uid":"53ac782f941c60cf","name":"Screenshot: Navigate to URL (success)","source":"53ac782f941c60cf.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1757208818427,"stop":1757208820187,"duration":1760},"status":"passed","steps":[],"attachments":[{"uid":"4d83dc618c10b9a2","name":"Page URL","source":"4d83dc618c10b9a2.txt","type":"text/plain","size":87},{"uid":"aa14719f7b6ef697","name":"HTTP 200 - GET config","source":"aa14719f7b6ef697.txt","type":"text/plain","size":654},{"uid":"b69b85405ca9febb","name":"Screenshot: Navigate to URL (success)","source":"b69b85405ca9febb.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1757208820187,"stop":1757208820271,"duration":84},"status":"passed","steps":[],"attachments":[{"uid":"99f8ee8b85564a4","name":"Page URL","source":"99f8ee8b85564a4.txt","type":"text/plain","size":33},{"uid":"17da12fd917f1aa3","name":"Screenshot: Verify that Auth page displayed (success)","source":"17da12fd917f1aa3.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1757208820272,"stop":1757208821846,"duration":1574},"status":"passed","steps":[],"attachments":[{"uid":"8b0850064089b7f5","name":"Page URL","source":"8b0850064089b7f5.txt","type":"text/plain","size":33},{"uid":"d6b1417e1560a716","name":"HTTP 404 - HEAD regression-cni5oi1298","source":"d6b1417e1560a716.txt","type":"text/plain","size":160},{"uid":"29e264381a534b85","name":"Screenshot: Click login button (success)","source":"29e264381a534b85.png","type":"image/png","size":37546}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1757208821846,"stop":1757208822944,"duration":1098},"status":"passed","steps":[],"attachments":[{"uid":"5652ca79f5ef2151","name":"Page URL","source":"5652ca79f5ef2151.txt","type":"text/plain","size":362},{"uid":"ae7e6c2e41aee376","name":"Screenshot: Verify that Signup username page displayed (success)","source":"ae7e6c2e41aee376.png","type":"image/png","size":37379}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1757208822945,"stop":1757208823595,"duration":650},"status":"passed","steps":[],"attachments":[{"uid":"67a8755d97840b05","name":"Page URL","source":"67a8755d97840b05.txt","type":"text/plain","size":362},{"uid":"3f0f8df6d109a419","name":"HTTP 404 - HEAD ","source":"3f0f8df6d109a419.txt","type":"text/plain","size":139},{"uid":"e2459475d52e1d81","name":"HTTP 404 - HEAD regression-cni5oi1298","source":"e2459475d52e1d81.txt","type":"text/plain","size":160},{"uid":"39200ddbbe71bb59","name":"Screenshot: Enter username (success)","source":"39200ddbbe71bb59.png","type":"image/png","size":37713}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1757208823596,"stop":1757208826656,"duration":3060},"status":"passed","steps":[],"attachments":[{"uid":"d364e9ad3b3cf76","name":"Page URL","source":"d364e9ad3b3cf76.txt","type":"text/plain","size":362},{"uid":"381cb799a6285e49","name":"HTTP 200 - GET config","source":"381cb799a6285e49.txt","type":"text/plain","size":752},{"uid":"ce59a184f671a8ad","name":"HTTP 200 - GET permissions?uri=blob:","source":"ce59a184f671a8ad.txt","type":"text/plain","size":163},{"uid":"345b1ad124c8a07","name":"HTTP 200 - GET regression-cni5oi1298?include=clusters&include=system_role","source":"345b1ad124c8a07.txt","type":"text/plain","size":389},{"uid":"e23a90f42c93adb1","name":"HTTP 200 - GET regression-cni5oi1298?include=orgs","source":"e23a90f42c93adb1.txt","type":"text/plain","size":361},{"uid":"4cad5fbebea7611","name":"HTTP 200 - GET incoming","source":"4cad5fbebea7611.txt","type":"text/plain","size":137},{"uid":"d722ead1fbfc32c2","name":"HTTP 200 - GET config","source":"d722ead1fbfc32c2.txt","type":"text/plain","size":752},{"uid":"75ee27f709062123","name":"HTTP 200 - GET permissions?uri=blob:","source":"75ee27f709062123.txt","type":"text/plain","size":163},{"uid":"108ca1d448425188","name":"HTTP 200 - GET regression-cni5oi1298?include=clusters&include=system_role","source":"108ca1d448425188.txt","type":"text/plain","size":389},{"uid":"e71721aeae39ddd2","name":"HTTP 200 - GET incoming","source":"e71721aeae39ddd2.txt","type":"text/plain","size":137},{"uid":"7a0982a74d866be0","name":"HTTP 200 - GET regression-cni5oi1298?include=orgs","source":"7a0982a74d866be0.txt","type":"text/plain","size":361},{"uid":"e7b4e0ec6e1b0077","name":"Screenshot: Click signup button on Signup username page (success)","source":"e7b4e0ec6e1b0077.png","type":"image/png","size":39085}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1757208826657,"stop":1757208826769,"duration":112},"status":"passed","steps":[],"attachments":[{"uid":"6ff18a25ecd8bf76","name":"Page URL","source":"6ff18a25ecd8bf76.txt","type":"text/plain","size":151},{"uid":"7bc355128f5b9846","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"7bc355128f5b9846.png","type":"image/png","size":45768}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1757208826770,"stop":1757208827451,"duration":681},"status":"passed","steps":[],"attachments":[{"uid":"a37acec3cee3df64","name":"Page URL","source":"a37acec3cee3df64.txt","type":"text/plain","size":151},{"uid":"9d53f31f55d23db5","name":"Screenshot: Check agreement checkbox (success)","source":"9d53f31f55d23db5.png","type":"image/png","size":40880}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1757208827451,"stop":1757208828121,"duration":670},"status":"passed","steps":[],"attachments":[{"uid":"b7d6c96e9e5d4a59","name":"Page URL","source":"b7d6c96e9e5d4a59.txt","type":"text/plain","size":151},{"uid":"dcc3abb99711cb59","name":"Screenshot: Click I Agree button (success)","source":"dcc3abb99711cb59.png","type":"image/png","size":41497}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1757208828121,"stop":1757208828285,"duration":164},"status":"passed","steps":[],"attachments":[{"uid":"e0f5bed837f31daf","name":"Page URL","source":"e0f5bed837f31daf.txt","type":"text/plain","size":151},{"uid":"4622e9433d5127e4","name":"HTTP 204 - PUT profile","source":"4622e9433d5127e4.txt","type":"text/plain","size":154},{"uid":"7ee2d5fd4e64c862","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"7ee2d5fd4e64c862.png","type":"image/png","size":39852}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1757208828286,"stop":1757208831378,"duration":3092},"status":"passed","steps":[],"attachments":[{"uid":"3449eac6c36247d9","name":"Page URL","source":"3449eac6c36247d9.txt","type":"text/plain","size":44},{"uid":"281bf0e012cb9ba3","name":"Screenshot: Wait for timeout (success)","source":"281bf0e012cb9ba3.png","type":"image/png","size":160676}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757208831378,"stop":1757208832482,"duration":1104},"status":"passed","steps":[],"attachments":[{"uid":"605966b9a179618d","name":"Page URL","source":"605966b9a179618d.txt","type":"text/plain","size":44},{"uid":"eee220d5b1a6e231","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"eee220d5b1a6e231.png","type":"image/png","size":160676}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6d2d643a45fb6c1a","name":"Page URL","source":"6d2d643a45fb6c1a.txt","type":"text/plain","size":33},{"uid":"c71eff4f143f4fe0","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"c71eff4f143f4fe0.png","type":"image/png","size":160676}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":54,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"224391b634d05cc8","name":"HTTP 200 - GET config","source":"224391b634d05cc8.txt","type":"text/plain","size":654},{"uid":"44f4ba92b5e84d49","name":"HTTP 200 - GET config","source":"44f4ba92b5e84d49.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":35,"attachmentsCount":91,"hasContent":true,"attachmentStep":false},{"name":"setup","time":{"start":1757208832594,"stop":1757208832594,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1757208832594,"stop":1757208832594,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1757208832594,"stop":1757208832594,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role via **API**.\n\n### Verify that:\n\n- `Admin` can change user role from `User` to `Manager`\n- User after changing role from `User` to `Manager`:\n\n- Can access organization `Settings`\n- Can access organization `Billing`\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change user role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span></li>\n<li>\n<p>User after changing role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span>:</p>\n</li>\n<li>\n<p>Can access organization <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Settings</span></p>\n</li>\n<li>Can access organization <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Billing</span></li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:68: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_organization_change_member_roles.py:41: in test_admin_change_user_to_manager\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1757208832596,"stop":1757208832604,"duration":8},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click login button","time":{"start":1757208832596,"stop":1757208832601,"duration":5},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"7d364fcee9fa1f46","name":"Page URL","source":"7d364fcee9fa1f46.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"dc6ad8eeec55651f","name":"Page URL","source":"dc6ad8eeec55651f.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8dbdfb9146efa678","name":"log","source":"8dbdfb9146efa678.txt","type":"text/plain","size":35906}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1757208832777,"stop":1757208832777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757208832777,"stop":1757208836580,"duration":3803},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757208832778,"stop":1757208836580,"duration":3802},"status":"passed","steps":[],"attachments":[{"uid":"13773a490598a150","name":"Cleanup note","source":"13773a490598a150.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757208836583,"stop":1757208836583,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757208836585,"stop":1757208836586,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"UI Tests"},{"name":"suite","value":"UI Organization Change Member Roles"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUIOrganizationChangeMemberRoles"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"5998-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_organization_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"91c6d94828079f57.json","parameterValues":[]}