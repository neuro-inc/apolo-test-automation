{"uid":"5a36ba9980858e87","name":"User removes organization via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_remove_organization_cli","historyId":"a5aed9e26487d1557b98b4ed8dc5d667","time":{"start":1757904567915,"stop":1757904608936,"duration":41021},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can remove organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1757900004108,"stop":1757900004109,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1757900004108,"stop":1757900004108,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1757900004109,"stop":1757900004110,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1757900004109,"stop":1757900004109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1757900004109,"stop":1757900004109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757900004109,"stop":1757900004109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757900004109,"stop":1757900004109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1757904565097,"stop":1757904565101,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757904565101,"stop":1757904565101,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757904565101,"stop":1757904567350,"duration":2249},"status":"passed","steps":[],"attachments":[{"uid":"aaffdd43e9b28504","name":"HTTP 200 - GET config","source":"aaffdd43e9b28504.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"users_manager","time":{"start":1757904567350,"stop":1757904567350,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1757904567350,"stop":1757904567350,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757904567351,"stop":1757904567352,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1757904567351,"stop":1757904567351,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757904567351,"stop":1757904567351,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1757904567352,"stop":1757904567352,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1757904567352,"stop":1757904567914,"duration":562},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1757904567352,"stop":1757904567914,"duration":562},"status":"passed","steps":[],"attachments":[{"uid":"241c5618ba8ef62f","name":"Executed CLI command","source":"241c5618ba8ef62f.txt","type":"text/plain","size":15},{"uid":"c7ec30fc976e9a2a","name":"Executed CLI command output","source":"c7ec30fc976e9a2a.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1757904567352,"stop":1757904567352,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can remove organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1757904567915,"stop":1757904573201,"duration":5286},"status":"passed","steps":[{"name":"Click login button","time":{"start":1757904567915,"stop":1757904569047,"duration":1132},"status":"passed","steps":[],"attachments":[{"uid":"6e6d85e373ee1bff","name":"Page URL","source":"6e6d85e373ee1bff.txt","type":"text/plain","size":33},{"uid":"203d47e4c0534c5f","name":"Screenshot: Click login button (success)","source":"203d47e4c0534c5f.png","type":"image/png","size":41531}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757904569048,"stop":1757904569208,"duration":160},"status":"passed","steps":[],"attachments":[{"uid":"7bec0d80496dfc31","name":"Page URL","source":"7bec0d80496dfc31.txt","type":"text/plain","size":215},{"uid":"cf40f7fb2636ae47","name":"Screenshot: Enter email (success)","source":"cf40f7fb2636ae47.png","type":"image/png","size":45750}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757904569208,"stop":1757904569371,"duration":163},"status":"passed","steps":[],"attachments":[{"uid":"80088a30c08693df","name":"Page URL","source":"80088a30c08693df.txt","type":"text/plain","size":215},{"uid":"fb8a98c86113c31d","name":"Screenshot: Enter password (success)","source":"fb8a98c86113c31d.png","type":"image/png","size":46625}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1757904569372,"stop":1757904572000,"duration":2628},"status":"passed","steps":[],"attachments":[{"uid":"f18553fee6825768","name":"Page URL","source":"f18553fee6825768.txt","type":"text/plain","size":215},{"uid":"8a88f05b9ecd487b","name":"HTTP 200 - GET config","source":"8a88f05b9ecd487b.txt","type":"text/plain","size":752},{"uid":"677fb7f48f57891b","name":"HTTP 200 - GET regression-aekxbermpf?include=clusters&include=system_role","source":"677fb7f48f57891b.txt","type":"text/plain","size":388},{"uid":"e78af4673a0d560f","name":"HTTP 200 - GET incoming","source":"e78af4673a0d560f.txt","type":"text/plain","size":137},{"uid":"c834fa285c71bb15","name":"HTTP 200 - GET permissions?uri=blob:","source":"c834fa285c71bb15.txt","type":"text/plain","size":163},{"uid":"12b9863be5041ea6","name":"HTTP 200 - GET regression-aekxbermpf?include=orgs","source":"12b9863be5041ea6.txt","type":"text/plain","size":360},{"uid":"eb0353219f03a7df","name":"Screenshot: Click Continue button (success)","source":"eb0353219f03a7df.png","type":"image/png","size":159036}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757904572011,"stop":1757904573118,"duration":1107},"status":"passed","steps":[],"attachments":[{"uid":"d7ae01c015335b4c","name":"Page URL","source":"d7ae01c015335b4c.txt","type":"text/plain","size":44},{"uid":"6b67a3f23d035ba0","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"6b67a3f23d035ba0.png","type":"image/png","size":159036}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"125d067592f144b5","name":"Page URL","source":"125d067592f144b5.txt","type":"text/plain","size":33},{"uid":"1ce861b8e470b23","name":"Screenshot: Login via UI (success)","source":"1ce861b8e470b23.png","type":"image/png","size":159036}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1757904573201,"stop":1757904574145,"duration":944},"status":"passed","steps":[],"attachments":[{"uid":"5fbf384cbae1dc34","name":"Executed CLI command","source":"5fbf384cbae1dc34.txt","type":"text/plain","size":1114},{"uid":"d0b9f744c1e1fd3e","name":"Executed CLI command output","source":"d0b9f744c1e1fd3e.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1757904574145,"stop":1757904577883,"duration":3738},"status":"passed","steps":[],"attachments":[{"uid":"6ac2b56522323644","name":"Executed CLI command","source":"6ac2b56522323644.txt","type":"text/plain","size":20},{"uid":"6c46b92ddad3b010","name":"Executed CLI command output","source":"6c46b92ddad3b010.txt","type":"text/plain","size":26}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1757904577884,"stop":1757904595927,"duration":18043},"status":"passed","steps":[],"attachments":[{"uid":"1c463fa4c39f8cae","name":"Executed CLI command","source":"1c463fa4c39f8cae.txt","type":"text/plain","size":1114},{"uid":"53df9455aac25610","name":"Executed CLI command output","source":"53df9455aac25610.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1757904595928,"stop":1757904600348,"duration":4420},"status":"passed","steps":[],"attachments":[{"uid":"ff953fa50468ffa8","name":"Executed CLI command","source":"ff953fa50468ffa8.txt","type":"text/plain","size":20},{"uid":"f67548204fd9c6fb","name":"Executed CLI command output","source":"f67548204fd9c6fb.txt","type":"text/plain","size":149}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization is listed in the CLI output","time":{"start":1757904600348,"stop":1757904600348,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"a74580d148614813","name":"Executed CLI command","source":"a74580d148614813.txt","type":"text/plain","size":20},{"uid":"c696cca9e9fe6d49","name":"Executed CLI command output","source":"c696cca9e9fe6d49.txt","type":"text/plain","size":149}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Remove organization via CLI","time":{"start":1757904600349,"stop":1757904604580,"duration":4231},"status":"passed","steps":[],"attachments":[{"uid":"e4491d5ccac905ea","name":"Executed CLI command","source":"e4491d5ccac905ea.txt","type":"text/plain","size":58},{"uid":"619d1e7de7cb4371","name":"Executed CLI command output","source":"619d1e7de7cb4371.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1757904604580,"stop":1757904608935,"duration":4355},"status":"passed","steps":[],"attachments":[{"uid":"f37c5d5aa35f43f2","name":"Executed CLI command","source":"f37c5d5aa35f43f2.txt","type":"text/plain","size":20},{"uid":"35110670810df54","name":"Executed CLI command output","source":"35110670810df54.txt","type":"text/plain","size":26}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d0a57def190bf09a","name":"log","source":"d0a57def190bf09a.txt","type":"text/plain","size":14920}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1757904608936,"stop":1757904608936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757904608937,"stop":1757904608937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757904608937,"stop":1757904614535,"duration":5598},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757904608937,"stop":1757904614535,"duration":5598},"status":"passed","steps":[],"attachments":[{"uid":"a2c816a106dbb7b7","name":"Cleanup note","source":"a2c816a106dbb7b7.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757904614536,"stop":1757904614536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757904614537,"stop":1757904614538,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3736-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":5,"broken":0,"skipped":0,"passed":35,"unknown":0,"total":40},"items":[{"uid":"9ff4be215ff0e891","status":"passed","time":{"start":1757817074732,"stop":1757817109446,"duration":34714}},{"uid":"aa5bf959eb2db194","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify organization_count\nMessage: Expected 0 organizations, got 1","time":{"start":1757730615785,"stop":1757730650243,"duration":34458}},{"uid":"f7cf13218a9c0f66","status":"passed","time":{"start":1757644028509,"stop":1757644073545,"duration":45036}},{"uid":"ce04d96f47424c10","status":"passed","time":{"start":1757557277536,"stop":1757557316120,"duration":38584}},{"uid":"978193bdbd8f659","status":"passed","time":{"start":1757471226842,"stop":1757471279213,"duration":52371}},{"uid":"a04a0eba1f4f67ab","status":"passed","time":{"start":1757419383565,"stop":1757419426105,"duration":42540}},{"uid":"585ba096a975629f","status":"passed","time":{"start":1757385004251,"stop":1757385047509,"duration":43258}},{"uid":"6f5182272335b5d4","status":"passed","time":{"start":1757298521426,"stop":1757298556496,"duration":35070}},{"uid":"e0c22817593fbc14","status":"passed","time":{"start":1757212501641,"stop":1757212534532,"duration":32891}},{"uid":"497ad372dab0a180","status":"passed","time":{"start":1757141675474,"stop":1757141715023,"duration":39549}},{"uid":"54fc77713e67378f","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: You are using apolo-extras tool 24.10.0, however 25.9.0 is available.\nERROR: There are no clusters available. Please run 'apolo logout' and then 'apolo login'.","time":{"start":1757125938012,"stop":1757125970903,"duration":32891}},{"uid":"5b48c4c445b5364c","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: You are using apolo-extras tool 24.10.0, however 25.8.0 is available.\nERROR: There are no clusters available. Please run 'apolo logout' and then 'apolo login'.","time":{"start":1757039285354,"stop":1757039325544,"duration":40190}},{"uid":"9da4a75f9487d15e","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: You are using apolo-extras tool 24.10.0, however 25.8.0 is available.\nERROR: There are no clusters available. Please run 'apolo logout' and then 'apolo login'.","time":{"start":1756952871665,"stop":1756952890904,"duration":19239}},{"uid":"bdd79bbf21829dd5","status":"passed","time":{"start":1756866207069,"stop":1756866239601,"duration":32532}},{"uid":"188454f79002ce1e","status":"passed","time":{"start":1756803690705,"stop":1756803734818,"duration":44113}},{"uid":"9e31f3855460c9fb","status":"passed","time":{"start":1756607014919,"stop":1756607053442,"duration":38523}},{"uid":"3c82afe4c0969556","status":"passed","time":{"start":1756520751920,"stop":1756520791320,"duration":39400}},{"uid":"921c8ed08d6b0f07","status":"passed","time":{"start":1756434258205,"stop":1756434294102,"duration":35897}},{"uid":"dfd13efdd401386b","status":"passed","time":{"start":1756347870357,"stop":1756347908811,"duration":38454}},{"uid":"d20c482c88f42372","status":"passed","time":{"start":1756175383428,"stop":1756175426807,"duration":43379}}]},"tags":["asyncio"]},"source":"5a36ba9980858e87.json","parameterValues":[]}