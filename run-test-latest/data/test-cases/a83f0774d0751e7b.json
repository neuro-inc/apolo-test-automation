{"uid":"a83f0774d0751e7b","name":"Verify User cannot purchase credits via top pane","fullName":"tests.test_cases.tests_ui.test_credits_purchase.TestUICreditsPurchase#test_user_purchase_credits","historyId":"9db4884e512bd7f645eefd6d7ed8d097","time":{"start":1761615149372,"stop":1761615149379,"duration":7},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:726: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:33: in test_user_purchase_credits\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1761615080364,"stop":1761615080364,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1761615080365,"stop":1761615080365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1761615080365,"stop":1761615080369,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761615080365,"stop":1761615080365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1761615080365,"stop":1761615080365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761615080365,"stop":1761615080365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761615080365,"stop":1761615080365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1761615080365,"stop":1761615080365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1761615080369,"stop":1761615082936,"duration":2567},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1761615080370,"stop":1761615080370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1761615082936,"stop":1761615082936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1761615082936,"stop":1761615082936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1761615082936,"stop":1761615082937,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1761615082937,"stop":1761615082937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1761615082937,"stop":1761615149371,"duration":66434},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1761615083579,"stop":1761615113870,"duration":30291},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1761615083579,"stop":1761615113813,"duration":30234},"status":"failed","statusMessage":"AssertionError: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"88af718539a5b48a","name":"Page URL","source":"88af718539a5b48a.txt","type":"text/plain","size":29},{"uid":"1483ed713fd1a3a4","name":"HTTP 200 - GET config","source":"1483ed713fd1a3a4.txt","type":"text/plain","size":673},{"uid":"d3c0b524e23e68dd","name":"Screenshot: Click signup button (fail)","source":"d3c0b524e23e68dd.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b01d323e1cfdfe19","name":"Page URL","source":"b01d323e1cfdfe19.txt","type":"text/plain","size":29},{"uid":"8477d58e88baee91","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"8477d58e88baee91.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1761615114596,"stop":1761615149371,"duration":34775},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1761615114596,"stop":1761615116077,"duration":1481},"status":"passed","steps":[],"attachments":[{"uid":"50294926ab0ce975","name":"Page URL","source":"50294926ab0ce975.txt","type":"text/plain","size":29},{"uid":"6707e5c5f18eedc8","name":"HTTP 200 - GET config","source":"6707e5c5f18eedc8.txt","type":"text/plain","size":673},{"uid":"24f0b3138af8a345","name":"Screenshot: Click signup button (success)","source":"24f0b3138af8a345.png","type":"image/png","size":39461}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1761615116077,"stop":1761615116408,"duration":331},"status":"passed","steps":[],"attachments":[{"uid":"6d0bd3453ee63da1","name":"Page URL","source":"6d0bd3453ee63da1.txt","type":"text/plain","size":216},{"uid":"d469a956fa67c1eb","name":"Screenshot: Enter email (success)","source":"d469a956fa67c1eb.png","type":"image/png","size":43855}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1761615116408,"stop":1761615116778,"duration":370},"status":"passed","steps":[],"attachments":[{"uid":"56c97adeb26c72ef","name":"Page URL","source":"56c97adeb26c72ef.txt","type":"text/plain","size":216},{"uid":"9231a2fea9750255","name":"Screenshot: Enter password (success)","source":"9231a2fea9750255.png","type":"image/png","size":63605}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1761615116778,"stop":1761615119036,"duration":2258},"status":"passed","steps":[],"attachments":[{"uid":"c0e9ed387fcbfd5d","name":"Page URL","source":"c0e9ed387fcbfd5d.txt","type":"text/plain","size":216},{"uid":"9c216e17b1d39844","name":"Screenshot: Click continue button (success)","source":"9c216e17b1d39844.png","type":"image/png","size":11162}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1761615119036,"stop":1761615119472,"duration":436},"status":"passed","steps":[],"attachments":[{"uid":"6607ffb57d70a8e8","name":"Page URL","source":"6607ffb57d70a8e8.txt","type":"text/plain","size":194},{"uid":"94a754b3842154e9","name":"HTTP 200 - GET config","source":"94a754b3842154e9.txt","type":"text/plain","size":673},{"uid":"5dbed51f2eff82d3","name":"Screenshot: Verify that Verify email message displayed (success)","source":"5dbed51f2eff82d3.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1761615119472,"stop":1761615121386,"duration":1914},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1761615119905,"stop":1761615121054,"duration":1149},"status":"passed","steps":[],"attachments":[{"uid":"c046975feafdd51b","name":"Page URL","source":"c046975feafdd51b.txt","type":"text/plain","size":184},{"uid":"6592541017b52c64","name":"Screenshot: Navigate to URL (success)","source":"6592541017b52c64.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1761615121387,"stop":1761615123080,"duration":1693},"status":"passed","steps":[],"attachments":[{"uid":"497de3ac0678745c","name":"Page URL","source":"497de3ac0678745c.txt","type":"text/plain","size":87},{"uid":"54851ab568822788","name":"HTTP 200 - GET config","source":"54851ab568822788.txt","type":"text/plain","size":673},{"uid":"6c354c13a112f37d","name":"Screenshot: Navigate to URL (success)","source":"6c354c13a112f37d.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1761615123081,"stop":1761615123180,"duration":99},"status":"passed","steps":[],"attachments":[{"uid":"3e420e93715ee69a","name":"Page URL","source":"3e420e93715ee69a.txt","type":"text/plain","size":33},{"uid":"d0fffaa9bc702ef","name":"Screenshot: Verify that Auth page displayed (success)","source":"d0fffaa9bc702ef.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1761615123180,"stop":1761615124399,"duration":1219},"status":"passed","steps":[],"attachments":[{"uid":"9440138c855a93e3","name":"Page URL","source":"9440138c855a93e3.txt","type":"text/plain","size":33},{"uid":"984f30cc00f9b0a9","name":"Screenshot: Click login button (success)","source":"984f30cc00f9b0a9.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1761615124399,"stop":1761615125506,"duration":1107},"status":"passed","steps":[],"attachments":[{"uid":"d403ad7c135138a2","name":"Page URL","source":"d403ad7c135138a2.txt","type":"text/plain","size":33},{"uid":"995ac3b67021e9a7","name":"HTTP 404 - HEAD regression-qac1kbgzcy","source":"995ac3b67021e9a7.txt","type":"text/plain","size":179},{"uid":"28b7ba25ba6ac3c0","name":"Screenshot: Verify that Signup username page displayed (success)","source":"28b7ba25ba6ac3c0.png","type":"image/png","size":37607}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1761615125506,"stop":1761615126355,"duration":849},"status":"passed","steps":[],"attachments":[{"uid":"8a5c9e05960e42ee","name":"Page URL","source":"8a5c9e05960e42ee.txt","type":"text/plain","size":362},{"uid":"872c6be975e058cf","name":"HTTP 404 - HEAD ","source":"872c6be975e058cf.txt","type":"text/plain","size":158},{"uid":"274da706cb36dbf0","name":"HTTP 404 - HEAD regression-qac1kbgzcy","source":"274da706cb36dbf0.txt","type":"text/plain","size":179},{"uid":"5f26f542390228b3","name":"Screenshot: Enter username (success)","source":"5f26f542390228b3.png","type":"image/png","size":37930}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1761615126355,"stop":1761615143558,"duration":17203},"status":"passed","steps":[],"attachments":[{"uid":"19c9af3994ac43a6","name":"Page URL","source":"19c9af3994ac43a6.txt","type":"text/plain","size":362},{"uid":"8fefa9ebe84e9271","name":"HTTP 200 - GET config","source":"8fefa9ebe84e9271.txt","type":"text/plain","size":771},{"uid":"cca1f103920f26ed","name":"HTTP 200 - GET permissions?uri=blob:","source":"cca1f103920f26ed.txt","type":"text/plain","size":182},{"uid":"5a22279837ad643f","name":"HTTP 200 - GET incoming","source":"5a22279837ad643f.txt","type":"text/plain","size":156},{"uid":"a565db0f4f88106f","name":"HTTP 200 - GET regression-qac1kbgzcy?include=clusters&include=system_role","source":"a565db0f4f88106f.txt","type":"text/plain","size":408},{"uid":"2829a2ee99ddc20a","name":"HTTP 200 - GET regression-qac1kbgzcy?include=orgs","source":"2829a2ee99ddc20a.txt","type":"text/plain","size":191},{"uid":"c6ae266b38c0c7d2","name":"HTTP 200 - GET config","source":"c6ae266b38c0c7d2.txt","type":"text/plain","size":771},{"uid":"e44c7a3529337864","name":"HTTP 200 - GET permissions?uri=blob:","source":"e44c7a3529337864.txt","type":"text/plain","size":182},{"uid":"adc782ffaad0f09","name":"HTTP 200 - GET regression-qac1kbgzcy?include=orgs","source":"adc782ffaad0f09.txt","type":"text/plain","size":380},{"uid":"c48e63b350687907","name":"HTTP 200 - GET incoming","source":"c48e63b350687907.txt","type":"text/plain","size":156},{"uid":"5fba1ca4255f8539","name":"HTTP 200 - GET regression-qac1kbgzcy?include=clusters&include=system_role","source":"5fba1ca4255f8539.txt","type":"text/plain","size":408},{"uid":"ad270099f49509f1","name":"Screenshot: Click signup button on Signup username page (success)","source":"ad270099f49509f1.png","type":"image/png","size":42990}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1761615143558,"stop":1761615143659,"duration":101},"status":"passed","steps":[],"attachments":[{"uid":"49b0929b95bb156","name":"Page URL","source":"49b0929b95bb156.txt","type":"text/plain","size":151},{"uid":"68cd370dbff0e032","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"68cd370dbff0e032.png","type":"image/png","size":46166}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1761615143659,"stop":1761615144309,"duration":650},"status":"passed","steps":[],"attachments":[{"uid":"b1ea0a011f88a6d3","name":"Page URL","source":"b1ea0a011f88a6d3.txt","type":"text/plain","size":151},{"uid":"44c27f055b77e054","name":"Screenshot: Check agreement checkbox (success)","source":"44c27f055b77e054.png","type":"image/png","size":41814}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1761615144309,"stop":1761615144972,"duration":663},"status":"passed","steps":[],"attachments":[{"uid":"50e60f38668765c6","name":"Page URL","source":"50e60f38668765c6.txt","type":"text/plain","size":151},{"uid":"b568a66e5a58f27","name":"Screenshot: Click I Agree button (success)","source":"b568a66e5a58f27.png","type":"image/png","size":42510}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1761615144972,"stop":1761615145079,"duration":107},"status":"passed","steps":[],"attachments":[{"uid":"6ed3b7afefdd3a42","name":"Page URL","source":"6ed3b7afefdd3a42.txt","type":"text/plain","size":151},{"uid":"89f94b888b32c41f","name":"HTTP 204 - PUT profile","source":"89f94b888b32c41f.txt","type":"text/plain","size":253},{"uid":"830eef7f37052733","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"830eef7f37052733.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1761615145079,"stop":1761615148170,"duration":3091},"status":"passed","steps":[],"attachments":[{"uid":"37b7706f03509390","name":"Page URL","source":"37b7706f03509390.txt","type":"text/plain","size":44},{"uid":"a6ad54251bf743c0","name":"Screenshot: Wait for timeout (success)","source":"a6ad54251bf743c0.png","type":"image/png","size":159643}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1761615148171,"stop":1761615149272,"duration":1101},"status":"passed","steps":[],"attachments":[{"uid":"298bc27ad090fb36","name":"Page URL","source":"298bc27ad090fb36.txt","type":"text/plain","size":44},{"uid":"f7b2fe9a0d698d8f","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"f7b2fe9a0d698d8f.png","type":"image/png","size":159643}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"16f05d42924c6ae4","name":"Page URL","source":"16f05d42924c6ae4.txt","type":"text/plain","size":29},{"uid":"1054d1c8c3fdfd56","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"1054d1c8c3fdfd56.png","type":"image/png","size":159643}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":55,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"223d8d3a53faa934","name":"HTTP 200 - GET config","source":"223d8d3a53faa934.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":61,"hasContent":true,"attachmentStep":false},{"name":"setup","time":{"start":1761615149371,"stop":1761615149371,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1761615149371,"stop":1761615149371,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1761615149371,"stop":1761615149371,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:726: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:33: in test_user_purchase_credits\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1761615149373,"stop":1761615149378,"duration":5},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Verify that Auth page displayed","time":{"start":1761615149373,"stop":1761615149376,"duration":3},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"906da086f63936c8","name":"Page URL","source":"906da086f63936c8.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e90015f2c8ec0091","name":"Page URL","source":"e90015f2c8ec0091.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c0be5ce788dbfde1","name":"log","source":"c0be5ce788dbfde1.txt","type":"text/plain","size":25090}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1761615149479,"stop":1761615149479,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761615149479,"stop":1761615153226,"duration":3747},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1761615149479,"stop":1761615153226,"duration":3747},"status":"passed","steps":[],"attachments":[{"uid":"be1a963a4418ceb6","name":"Cleanup note","source":"be1a963a4418ceb6.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1761615149479,"stop":1761615149479,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1761615153228,"stop":1761615153228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1761615153229,"stop":1761615153230,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"UI Tests"},{"name":"suite","value":"UI Credits Purchase"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUICreditsPurchase"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3521-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_credits_purchase"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"a83f0774d0751e7b.json","parameterValues":[]}