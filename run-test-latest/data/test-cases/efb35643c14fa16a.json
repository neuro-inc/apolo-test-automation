{"uid":"efb35643c14fa16a","name":"Admin create first secret via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_first_secret_cli","historyId":"21e92fd303ba375c2c8d5c74a277108c","time":{"start":1757559394305,"stop":1757559427500,"duration":33195},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- User can create first secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create first secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1757554390444,"stop":1757554390444,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757554390444,"stop":1757554390444,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757554390444,"stop":1757554390444,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1757554390444,"stop":1757554390444,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1757554390444,"stop":1757554390444,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1757554390445,"stop":1757554390445,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1757554390445,"stop":1757554390445,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1757559391315,"stop":1757559391320,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757559391320,"stop":1757559391320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757559391320,"stop":1757559393753,"duration":2433},"status":"passed","steps":[],"attachments":[{"uid":"3a30e9675f2de856","name":"HTTP 200 - GET config","source":"3a30e9675f2de856.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper","time":{"start":1757559393753,"stop":1757559393753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1757559393753,"stop":1757559393753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1757559393753,"stop":1757559393753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757559393754,"stop":1757559393754,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757559393754,"stop":1757559393754,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1757559393754,"stop":1757559393755,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1757559393755,"stop":1757559394305,"duration":550},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1757559393755,"stop":1757559394305,"duration":550},"status":"passed","steps":[],"attachments":[{"uid":"1188a12157a55c6f","name":"Executed CLI command","source":"1188a12157a55c6f.txt","type":"text/plain","size":15},{"uid":"5cae188a7e939bef","name":"Executed CLI command output","source":"5cae188a7e939bef.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1757559393755,"stop":1757559393755,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- User can create first secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create first secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1757559394306,"stop":1757559399994,"duration":5688},"status":"passed","steps":[{"name":"Click login button","time":{"start":1757559394306,"stop":1757559395761,"duration":1455},"status":"passed","steps":[],"attachments":[{"uid":"3c03b8f21cd72e64","name":"Page URL","source":"3c03b8f21cd72e64.txt","type":"text/plain","size":33},{"uid":"7382f0aab3113009","name":"Screenshot: Click login button (success)","source":"7382f0aab3113009.png","type":"image/png","size":41621}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757559395761,"stop":1757559395911,"duration":150},"status":"passed","steps":[],"attachments":[{"uid":"a420fed4489bb197","name":"Page URL","source":"a420fed4489bb197.txt","type":"text/plain","size":215},{"uid":"73483da81893e665","name":"Screenshot: Enter email (success)","source":"73483da81893e665.png","type":"image/png","size":45958}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757559395911,"stop":1757559396060,"duration":149},"status":"passed","steps":[],"attachments":[{"uid":"f53e2532c3458bc7","name":"Page URL","source":"f53e2532c3458bc7.txt","type":"text/plain","size":215},{"uid":"c4528e0f07948abb","name":"Screenshot: Enter password (success)","source":"c4528e0f07948abb.png","type":"image/png","size":46463}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1757559396060,"stop":1757559398796,"duration":2736},"status":"passed","steps":[],"attachments":[{"uid":"6079ea4f196f8967","name":"Page URL","source":"6079ea4f196f8967.txt","type":"text/plain","size":215},{"uid":"211af4e9f376e402","name":"HTTP 200 - GET config","source":"211af4e9f376e402.txt","type":"text/plain","size":752},{"uid":"94a5dc385950e845","name":"HTTP 200 - GET permissions?uri=blob:","source":"94a5dc385950e845.txt","type":"text/plain","size":163},{"uid":"6c2686e6462d05d2","name":"HTTP 200 - GET regression-w3t5wj131p?include=orgs","source":"6c2686e6462d05d2.txt","type":"text/plain","size":360},{"uid":"f68c78dd7fd38220","name":"HTTP 200 - GET incoming","source":"f68c78dd7fd38220.txt","type":"text/plain","size":137},{"uid":"45449cb8a2c751d6","name":"HTTP 200 - GET regression-w3t5wj131p?include=clusters&include=system_role","source":"45449cb8a2c751d6.txt","type":"text/plain","size":388},{"uid":"e33246f42ab82903","name":"Screenshot: Click Continue button (success)","source":"e33246f42ab82903.png","type":"image/png","size":51510}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757559398808,"stop":1757559399908,"duration":1100},"status":"passed","steps":[],"attachments":[{"uid":"80a5a1ce0dde963c","name":"Page URL","source":"80a5a1ce0dde963c.txt","type":"text/plain","size":44},{"uid":"277b51c3fff1e491","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"277b51c3fff1e491.png","type":"image/png","size":160288}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"9333b3e0822a0bb3","name":"Page URL","source":"9333b3e0822a0bb3.txt","type":"text/plain","size":33},{"uid":"7ebcf6db71654a98","name":"Screenshot: Login via UI (success)","source":"7ebcf6db71654a98.png","type":"image/png","size":160288}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1757559399994,"stop":1757559420650,"duration":20656},"status":"passed","steps":[{"name":"Reload page","time":{"start":1757559419108,"stop":1757559420560,"duration":1452},"status":"passed","steps":[],"attachments":[{"uid":"485d3f12e6a44c9d","name":"Page URL","source":"485d3f12e6a44c9d.txt","type":"text/plain","size":44},{"uid":"d1f9c9aa961b7f4e","name":"HTTP 200 - GET config","source":"d1f9c9aa961b7f4e.txt","type":"text/plain","size":1118},{"uid":"c9fa5a659ee94cb","name":"HTTP 200 - GET permissions?uri=blob:","source":"c9fa5a659ee94cb.txt","type":"text/plain","size":236},{"uid":"51cd2afd466c104e","name":"HTTP 200 - GET regression-w3t5wj131p?include=orgs","source":"51cd2afd466c104e.txt","type":"text/plain","size":455},{"uid":"2a164b1bc7329dd3","name":"HTTP 200 - GET incoming","source":"2a164b1bc7329dd3.txt","type":"text/plain","size":137},{"uid":"6de41e40c7e0de3e","name":"HTTP 200 - GET regression-w3t5wj131p?include=clusters&include=system_role","source":"6de41e40c7e0de3e.txt","type":"text/plain","size":510},{"uid":"d7c3b664f38fd12e","name":"HTTP 200 - GET regression-org-tmntnc1dxwp9","source":"d7c3b664f38fd12e.txt","type":"text/plain","size":425},{"uid":"c83f66e7aeb0952d","name":"Screenshot: Reload page (success)","source":"c83f66e7aeb0952d.png","type":"image/png","size":55510}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"dfd388ddf13df355","name":"Page URL","source":"dfd388ddf13df355.txt","type":"text/plain","size":44},{"uid":"3eff508c0d7d58ad","name":"Screenshot: Add organization via API and reload page (success)","source":"3eff508c0d7d58ad.png","type":"image/png","size":55510}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1757559420650,"stop":1757559421484,"duration":834},"status":"passed","steps":[],"attachments":[{"uid":"43eabe07c71c2afe","name":"Executed CLI command","source":"43eabe07c71c2afe.txt","type":"text/plain","size":1114},{"uid":"c5d7c9dd8fe7fdb2","name":"Executed CLI command output","source":"c5d7c9dd8fe7fdb2.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1757559421484,"stop":1757559425929,"duration":4445},"status":"passed","steps":[],"attachments":[{"uid":"e58db3b9b193449f","name":"Executed CLI command","source":"e58db3b9b193449f.txt","type":"text/plain","size":114},{"uid":"304a0f06c9a0040d","name":"Executed CLI command output","source":"304a0f06c9a0040d.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1757559425929,"stop":1757559426730,"duration":801},"status":"passed","steps":[],"attachments":[{"uid":"76b803f6cd7f991f","name":"Executed CLI command","source":"76b803f6cd7f991f.txt","type":"text/plain","size":39},{"uid":"e30907781e3f0872","name":"Executed CLI command output","source":"e30907781e3f0872.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"List secrets via CLI","time":{"start":1757559426730,"stop":1757559427499,"duration":769},"status":"passed","steps":[],"attachments":[{"uid":"fd35bdc809088cc5","name":"Executed CLI command","source":"fd35bdc809088cc5.txt","type":"text/plain","size":15},{"uid":"61ea196f00621ed","name":"Executed CLI command output","source":"61ea196f00621ed.txt","type":"text/plain","size":389}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify secret listed in list secrets output","time":{"start":1757559427499,"stop":1757559427499,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"6bc7def7adac27dc","name":"log","source":"6bc7def7adac27dc.txt","type":"text/plain","size":18683}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":36,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1757559427500,"stop":1757559427501,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757559427501,"stop":1757559427501,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757559427501,"stop":1757559431868,"duration":4367},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757559427501,"stop":1757559431868,"duration":4367},"status":"passed","steps":[{"name":"Delete organisation: regression-org-tmntnc1dxwp9","time":{"start":1757559431324,"stop":1757559431827,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757559431869,"stop":1757559431869,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757559431870,"stop":1757559431871,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Secrets"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3666-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":28,"unknown":0,"total":28},"items":[{"uid":"27c4fa46b37fb6ef","status":"passed","time":{"start":1757473936917,"stop":1757473982357,"duration":45440}},{"uid":"429883addec677e8","status":"passed","time":{"start":1757421753889,"stop":1757421787012,"duration":33123}},{"uid":"9d923b3268ad3b5f","status":"passed","time":{"start":1757387101221,"stop":1757387135992,"duration":34771}},{"uid":"c322f7d2a1feb087","status":"passed","time":{"start":1757300598194,"stop":1757300630575,"duration":32381}},{"uid":"900652ee7d1a43c5","status":"passed","time":{"start":1757214590532,"stop":1757214627353,"duration":36821}},{"uid":"e0f554fe949b43ec","status":"passed","time":{"start":1757143878560,"stop":1757143908771,"duration":30211}},{"uid":"38be14ae704d3850","status":"passed","time":{"start":1757127893665,"stop":1757127928172,"duration":34507}},{"uid":"a662556ec52af632","status":"passed","time":{"start":1757040925985,"stop":1757040949619,"duration":23634}},{"uid":"12f4a966f425915e","status":"passed","time":{"start":1756954838949,"stop":1756954876816,"duration":37867}},{"uid":"5a8731e2a9e6b91d","status":"passed","time":{"start":1756868058399,"stop":1756868083559,"duration":25160}},{"uid":"b54a6e1b1d8a986e","status":"passed","time":{"start":1756805607130,"stop":1756805636987,"duration":29857}},{"uid":"a840a6b7d97b1b0f","status":"passed","time":{"start":1756608768398,"stop":1756608794757,"duration":26359}},{"uid":"2e8e09814f457d82","status":"passed","time":{"start":1756522429471,"stop":1756522455795,"duration":26324}},{"uid":"bb889aa654dcccae","status":"passed","time":{"start":1756436177410,"stop":1756436233309,"duration":55899}},{"uid":"4ba8199b3957b882","status":"passed","time":{"start":1756349609137,"stop":1756349630188,"duration":21051}},{"uid":"7af397996524810","status":"passed","time":{"start":1756177037983,"stop":1756177060319,"duration":22336}},{"uid":"7bc1c9b01e42e5e0","status":"passed","time":{"start":1756090333843,"stop":1756090384766,"duration":50923}},{"uid":"1ba3d1bc080d5cf1","status":"passed","time":{"start":1756004019110,"stop":1756004048834,"duration":29724}},{"uid":"e6bd72e194e71de7","status":"passed","time":{"start":1755917540955,"stop":1755917569359,"duration":28404}},{"uid":"59be4d4a6c074a15","status":"passed","time":{"start":1755831079653,"stop":1755831124664,"duration":45011}}]},"tags":["asyncio"]},"source":"efb35643c14fa16a.json","parameterValues":[]}