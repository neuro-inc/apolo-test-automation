{"uid":"34fa545fc6958d32","name":"User with organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_with_token_cli","historyId":"075596f237e9dcd99027c3eb0247d079","time":{"start":1767403964099,"stop":1767404000706,"duration":36607},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1767403886659,"stop":1767403886659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1767403886659,"stop":1767403886659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1767403886659,"stop":1767403886659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1767403886659,"stop":1767403886660,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1767403886659,"stop":1767403886659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1767403886659,"stop":1767403886659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1767403886660,"stop":1767403886660,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1767403962997,"stop":1767403962999,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1767403963000,"stop":1767403963625,"duration":625},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1767403963000,"stop":1767403963000,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1767403963625,"stop":1767403963625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1767403963625,"stop":1767403963626,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1767403963625,"stop":1767403963625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1767403963626,"stop":1767403963626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1767403963626,"stop":1767403963626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1767403963626,"stop":1767403963626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1767403963626,"stop":1767403963626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1767403963627,"stop":1767403964098,"duration":471},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1767403963627,"stop":1767403964098,"duration":471},"status":"passed","steps":[],"attachments":[{"uid":"2bd10eff7a6b20e5","name":"Executed CLI command","source":"2bd10eff7a6b20e5.txt","type":"text/plain","size":15},{"uid":"23dabe71dd221596","name":"Executed CLI command output","source":"23dabe71dd221596.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1767403964099,"stop":1767403979727,"duration":15628},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1767403964099,"stop":1767403964548,"duration":449},"status":"passed","steps":[],"attachments":[{"uid":"9dd9cce08bdf9fda","name":"Page URL","source":"9dd9cce08bdf9fda.txt","type":"text/plain","size":29},{"uid":"54a6b9312db63fb9","name":"HTTP 200 - GET config","source":"54a6b9312db63fb9.txt","type":"text/plain","size":673},{"uid":"63d73229dbb19b02","name":"Screenshot: Verify that Auth page displayed (success)","source":"63d73229dbb19b02.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1767403964549,"stop":1767403965643,"duration":1094},"status":"passed","steps":[],"attachments":[{"uid":"57448827f5c8b572","name":"Page URL","source":"57448827f5c8b572.txt","type":"text/plain","size":33},{"uid":"3e8a86e3393d0a16","name":"Screenshot: Click login button (success)","source":"3e8a86e3393d0a16.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1767403965643,"stop":1767403965725,"duration":82},"status":"passed","steps":[],"attachments":[{"uid":"d0bb73bf9d3c07a7","name":"Page URL","source":"d0bb73bf9d3c07a7.txt","type":"text/plain","size":215},{"uid":"4f5f46ce506eaf77","name":"Screenshot: Verify that Login page displayed (success)","source":"4f5f46ce506eaf77.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1767403965725,"stop":1767403966030,"duration":305},"status":"passed","steps":[],"attachments":[{"uid":"a25ff3ae96361b3f","name":"Page URL","source":"a25ff3ae96361b3f.txt","type":"text/plain","size":215},{"uid":"1118d87fb5573a0b","name":"Screenshot: Enter email (success)","source":"1118d87fb5573a0b.png","type":"image/png","size":45729}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1767403966030,"stop":1767403966346,"duration":316},"status":"passed","steps":[],"attachments":[{"uid":"ccea6f27fafa4b4d","name":"Page URL","source":"ccea6f27fafa4b4d.txt","type":"text/plain","size":215},{"uid":"b8594f27140fc943","name":"Screenshot: Enter password (success)","source":"b8594f27140fc943.png","type":"image/png","size":45877}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1767403966346,"stop":1767403978560,"duration":12214},"status":"passed","steps":[],"attachments":[{"uid":"ea8f4f537711861c","name":"Page URL","source":"ea8f4f537711861c.txt","type":"text/plain","size":215},{"uid":"d658dd85ab65362d","name":"HTTP 200 - GET config","source":"d658dd85ab65362d.txt","type":"text/plain","size":832},{"uid":"c39cbdf01ffb5755","name":"HTTP 200 - GET permissions?uri=blob:","source":"c39cbdf01ffb5755.txt","type":"text/plain","size":182},{"uid":"ab0281b5087f5a0e","name":"HTTP 200 - GET regression-w6w0j6fdaa?include=clusters&include=system_role","source":"ab0281b5087f5a0e.txt","type":"text/plain","size":407},{"uid":"ac76dc03061b3077","name":"HTTP 200 - GET incoming","source":"ac76dc03061b3077.txt","type":"text/plain","size":156},{"uid":"74e3110cd6126bef","name":"HTTP 200 - GET regression-w6w0j6fdaa?include=orgs","source":"74e3110cd6126bef.txt","type":"text/plain","size":379},{"uid":"cc29a01aeb7cf243","name":"Screenshot: Click Continue button (success)","source":"cc29a01aeb7cf243.png","type":"image/png","size":160603}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1767403978568,"stop":1767403979647,"duration":1079},"status":"passed","steps":[],"attachments":[{"uid":"9c834ab7afd2a90d","name":"Page URL","source":"9c834ab7afd2a90d.txt","type":"text/plain","size":44},{"uid":"b42ee8631f121dd","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"b42ee8631f121dd.png","type":"image/png","size":160603}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6174de2bc35a2b30","name":"Page URL","source":"6174de2bc35a2b30.txt","type":"text/plain","size":29},{"uid":"2081b3c40c90f1ba","name":"Screenshot: Login via UI (success)","source":"2081b3c40c90f1ba.png","type":"image/png","size":160603}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1767403979727,"stop":1767403999878,"duration":20151},"status":"passed","steps":[{"name":"Reload page","time":{"start":1767403998989,"stop":1767403999816,"duration":827},"status":"passed","steps":[{"name":"Reload page","time":{"start":1767403998989,"stop":1767403999745,"duration":756},"status":"passed","steps":[],"attachments":[{"uid":"51c6ddf88256f0f8","name":"Page URL","source":"51c6ddf88256f0f8.txt","type":"text/plain","size":44},{"uid":"586794dc7db0c5ff","name":"HTTP 200 - GET config","source":"586794dc7db0c5ff.txt","type":"text/plain","size":2137},{"uid":"c1280497d0308787","name":"HTTP 200 - GET permissions?uri=blob:","source":"c1280497d0308787.txt","type":"text/plain","size":255},{"uid":"ff57e50e5cf0a6b","name":"HTTP 200 - GET incoming","source":"ff57e50e5cf0a6b.txt","type":"text/plain","size":156},{"uid":"238b8e2716b74fb6","name":"HTTP 200 - GET regression-org-qh6j8ydzq9y1","source":"238b8e2716b74fb6.txt","type":"text/plain","size":444},{"uid":"91ef6dee28bea0db","name":"HTTP 200 - GET regression-w6w0j6fdaa?include=orgs","source":"91ef6dee28bea0db.txt","type":"text/plain","size":474},{"uid":"1092970fca174719","name":"HTTP 200 - GET regression-w6w0j6fdaa?include=clusters&include=system_role","source":"1092970fca174719.txt","type":"text/plain","size":529},{"uid":"c9c3dad79a04a75b","name":"Screenshot: Reload page (success)","source":"c9c3dad79a04a75b.png","type":"image/png","size":58434}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"47476f61fce3092e","name":"Page URL","source":"47476f61fce3092e.txt","type":"text/plain","size":44},{"uid":"f798858e1c701dc7","name":"HTTP 200 - GET tags","source":"f798858e1c701dc7.txt","type":"text/plain","size":948},{"uid":"dd769ef397c06663","name":"Screenshot: Reload page (success)","source":"dd769ef397c06663.png","type":"image/png","size":58434}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"84f8fcedd0da62e1","name":"Page URL","source":"84f8fcedd0da62e1.txt","type":"text/plain","size":44},{"uid":"6feb191063195ce0","name":"Screenshot: Add organization via API and reload page (success)","source":"6feb191063195ce0.png","type":"image/png","size":58434}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1767403999878,"stop":1767404000705,"duration":827},"status":"passed","steps":[],"attachments":[{"uid":"255cfed3ff2a7d6d","name":"Executed CLI command","source":"255cfed3ff2a7d6d.txt","type":"text/plain","size":1114},{"uid":"b7e1bd16fab28ede","name":"Executed CLI command output","source":"b7e1bd16fab28ede.txt","type":"text/plain","size":230}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1767404000705,"stop":1767404000706,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"71d35566a9f0308f","name":"Executed CLI command","source":"71d35566a9f0308f.txt","type":"text/plain","size":1114},{"uid":"6e684d1fc192867b","name":"Executed CLI command output","source":"6e684d1fc192867b.txt","type":"text/plain","size":230}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"27d32ffe114348e2","name":"log","source":"27d32ffe114348e2.txt","type":"text/plain","size":19633}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":40,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1767404000707,"stop":1767404000707,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1767404000707,"stop":1767404007197,"duration":6490},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1767404000707,"stop":1767404007197,"duration":6490},"status":"passed","steps":[{"name":"Delete organisation: regression-org-qh6j8ydzq9y1","time":{"start":1767404006574,"stop":1767404007162,"duration":588},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1767404000707,"stop":1767404000707,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1767404007197,"stop":1767404007198,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1767404007199,"stop":1767404007199,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"3014-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":129,"unknown":0,"total":129},"items":[{"uid":"4b7296305d678b7d","status":"passed","time":{"start":1767317849402,"stop":1767317886274,"duration":36872}},{"uid":"e46a5e0c92ac5cba","status":"passed","time":{"start":1767231297481,"stop":1767231335534,"duration":38053}},{"uid":"432d7e426950f543","status":"passed","time":{"start":1767144885013,"stop":1767144922704,"duration":37691}},{"uid":"52b1cc5e071c7dd9","status":"passed","time":{"start":1767058496477,"stop":1767058529264,"duration":32787}},{"uid":"992720284653261c","status":"passed","time":{"start":1766972028862,"stop":1766972073035,"duration":44173}},{"uid":"3ef1567a762f51de","status":"passed","time":{"start":1766885744912,"stop":1766885790900,"duration":45988}},{"uid":"a6d168ad582e7ad5","status":"passed","time":{"start":1766799174862,"stop":1766799211769,"duration":36907}},{"uid":"a4dc8de601c759cd","status":"passed","time":{"start":1766712818377,"stop":1766712852129,"duration":33752}},{"uid":"573909696130eced","status":"passed","time":{"start":1766626408640,"stop":1766626443501,"duration":34861}},{"uid":"b20553b4c8bb975","status":"passed","time":{"start":1766540002956,"stop":1766540038407,"duration":35451}},{"uid":"8c8284edd56100db","status":"passed","time":{"start":1766453603825,"stop":1766453639609,"duration":35784}},{"uid":"e5e993fa66f340fa","status":"passed","time":{"start":1766367303960,"stop":1766367372507,"duration":68547}},{"uid":"c2b0f4aaf52f1b05","status":"passed","time":{"start":1766280841095,"stop":1766280875671,"duration":34576}},{"uid":"1f82498a9687a388","status":"passed","time":{"start":1766194445233,"stop":1766194515073,"duration":69840}},{"uid":"809155bb03f48b8d","status":"passed","time":{"start":1766108069725,"stop":1766108109956,"duration":40231}},{"uid":"12b409131939dadf","status":"passed","time":{"start":1766021656891,"stop":1766021691339,"duration":34448}},{"uid":"43c5d96a8378ffd2","status":"passed","time":{"start":1765935313499,"stop":1765935353155,"duration":39656}},{"uid":"505d0967334c8eea","status":"passed","time":{"start":1765848880123,"stop":1765848918341,"duration":38218}},{"uid":"6689c5badea38d1b","status":"passed","time":{"start":1765762429864,"stop":1765762466592,"duration":36728}},{"uid":"3f3f789cc23f2a9","status":"passed","time":{"start":1765676017687,"stop":1765676044617,"duration":26930}}]},"tags":["asyncio"]},"source":"34fa545fc6958d32.json","parameterValues":[]}