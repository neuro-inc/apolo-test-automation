{"uid":"9d077fe80399f20d","name":"Admin create secret with no project created via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_secret_no_proj_cli","historyId":"00fd51dcec949e8f8cb720ad306bef95","time":{"start":1766373466064,"stop":1766373503880,"duration":37816},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1766367136383,"stop":1766367136383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1766367136384,"stop":1766367136384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766367136384,"stop":1766367136384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1766367136384,"stop":1766367136384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1766367136384,"stop":1766367136384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1766367136384,"stop":1766367136384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1766367136384,"stop":1766367136384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1766373464815,"stop":1766373464818,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1766373464818,"stop":1766373464818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1766373464818,"stop":1766373465483,"duration":665},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1766373465483,"stop":1766373465484,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1766373465483,"stop":1766373465483,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1766373465484,"stop":1766373465484,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1766373465485,"stop":1766373465485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1766373465485,"stop":1766373465486,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1766373465486,"stop":1766373465486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1766373465486,"stop":1766373465486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1766373465487,"stop":1766373466064,"duration":577},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1766373465487,"stop":1766373466063,"duration":576},"status":"passed","steps":[],"attachments":[{"uid":"63facf69da23a69c","name":"HTTP 200 - GET config","source":"63facf69da23a69c.txt","type":"text/plain","size":673},{"uid":"dfb54157f1435913","name":"Executed CLI command","source":"dfb54157f1435913.txt","type":"text/plain","size":15},{"uid":"336794c2ab7a7b52","name":"Executed CLI command output","source":"336794c2ab7a7b52.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1766373466065,"stop":1766373481337,"duration":15272},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1766373466066,"stop":1766373466177,"duration":111},"status":"passed","steps":[],"attachments":[{"uid":"bececa2882dfa510","name":"Page URL","source":"bececa2882dfa510.txt","type":"text/plain","size":33},{"uid":"4a1cb206496e3103","name":"Screenshot: Verify that Auth page displayed (success)","source":"4a1cb206496e3103.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1766373466177,"stop":1766373467251,"duration":1074},"status":"passed","steps":[],"attachments":[{"uid":"554a8af95e7dfe6c","name":"Page URL","source":"554a8af95e7dfe6c.txt","type":"text/plain","size":33},{"uid":"56b0f88af481491d","name":"Screenshot: Click login button (success)","source":"56b0f88af481491d.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1766373467251,"stop":1766373467347,"duration":96},"status":"passed","steps":[],"attachments":[{"uid":"fdd254a69e126963","name":"Page URL","source":"fdd254a69e126963.txt","type":"text/plain","size":215},{"uid":"841a0bd517ceb217","name":"Screenshot: Verify that Login page displayed (success)","source":"841a0bd517ceb217.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1766373467348,"stop":1766373467667,"duration":319},"status":"passed","steps":[],"attachments":[{"uid":"48f7ed54e06f6387","name":"Page URL","source":"48f7ed54e06f6387.txt","type":"text/plain","size":215},{"uid":"a60d197321e12f1f","name":"Screenshot: Enter email (success)","source":"a60d197321e12f1f.png","type":"image/png","size":46251}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1766373467667,"stop":1766373467984,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"a75558760ac8b84f","name":"Page URL","source":"a75558760ac8b84f.txt","type":"text/plain","size":215},{"uid":"fc5a817fa5df3f68","name":"Screenshot: Enter password (success)","source":"fc5a817fa5df3f68.png","type":"image/png","size":46392}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1766373467984,"stop":1766373480143,"duration":12159},"status":"passed","steps":[],"attachments":[{"uid":"fa5709f15f7c4a3","name":"Page URL","source":"fa5709f15f7c4a3.txt","type":"text/plain","size":215},{"uid":"11535bacd3394761","name":"HTTP 200 - GET config","source":"11535bacd3394761.txt","type":"text/plain","size":830},{"uid":"f82d7a1f93bfa8bd","name":"HTTP 200 - GET permissions?uri=blob:","source":"f82d7a1f93bfa8bd.txt","type":"text/plain","size":182},{"uid":"ad3ef942a584f9ed","name":"HTTP 200 - GET regression-phr3o88a11?include=orgs","source":"ad3ef942a584f9ed.txt","type":"text/plain","size":379},{"uid":"551fce75c18b0f1c","name":"HTTP 200 - GET regression-phr3o88a11?include=clusters&include=system_role","source":"551fce75c18b0f1c.txt","type":"text/plain","size":407},{"uid":"9ccc278c6a96e4d0","name":"HTTP 200 - GET incoming","source":"9ccc278c6a96e4d0.txt","type":"text/plain","size":156},{"uid":"9f85049479268001","name":"Screenshot: Click Continue button (success)","source":"9f85049479268001.png","type":"image/png","size":159486}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1766373480153,"stop":1766373481251,"duration":1098},"status":"passed","steps":[],"attachments":[{"uid":"72ac29779958d7da","name":"Page URL","source":"72ac29779958d7da.txt","type":"text/plain","size":44},{"uid":"78422548674f7b30","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"78422548674f7b30.png","type":"image/png","size":159486}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"950e75f19fbf4339","name":"Page URL","source":"950e75f19fbf4339.txt","type":"text/plain","size":33},{"uid":"27d5ba950bcc224","name":"Screenshot: Login via UI (success)","source":"27d5ba950bcc224.png","type":"image/png","size":159486}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":21,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1766373481337,"stop":1766373502188,"duration":20851},"status":"passed","steps":[{"name":"Reload page","time":{"start":1766373500233,"stop":1766373502120,"duration":1887},"status":"passed","steps":[{"name":"Reload page","time":{"start":1766373500233,"stop":1766373502053,"duration":1820},"status":"passed","steps":[],"attachments":[{"uid":"a72754b7fc74a52e","name":"Page URL","source":"a72754b7fc74a52e.txt","type":"text/plain","size":44},{"uid":"1a2c362b9f16a67a","name":"HTTP 200 - GET config","source":"1a2c362b9f16a67a.txt","type":"text/plain","size":2137},{"uid":"ad9fa799106bd36a","name":"HTTP 200 - GET incoming","source":"ad9fa799106bd36a.txt","type":"text/plain","size":156},{"uid":"fc0234e9bfe81215","name":"HTTP 200 - GET permissions?uri=blob:","source":"fc0234e9bfe81215.txt","type":"text/plain","size":255},{"uid":"dd9a92baf1b9ac22","name":"HTTP 200 - GET regression-phr3o88a11?include=orgs","source":"dd9a92baf1b9ac22.txt","type":"text/plain","size":474},{"uid":"3cd58fa8c9c4fe93","name":"HTTP 200 - GET regression-org-0z8j4p4avnf4","source":"3cd58fa8c9c4fe93.txt","type":"text/plain","size":444},{"uid":"8ee22c1960aca700","name":"HTTP 200 - GET regression-phr3o88a11?include=clusters&include=system_role","source":"8ee22c1960aca700.txt","type":"text/plain","size":529},{"uid":"3a82efd07f354dc4","name":"HTTP 200 - GET tags","source":"3a82efd07f354dc4.txt","type":"text/plain","size":948},{"uid":"bde30e176aaf8f87","name":"Screenshot: Reload page (success)","source":"bde30e176aaf8f87.png","type":"image/png","size":58326}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"bebcc58e2de13ce5","name":"Page URL","source":"bebcc58e2de13ce5.txt","type":"text/plain","size":44},{"uid":"a2b2dffaa50b8b0e","name":"Screenshot: Reload page (success)","source":"a2b2dffaa50b8b0e.png","type":"image/png","size":58326}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"cd9e83388fc81f57","name":"Page URL","source":"cd9e83388fc81f57.txt","type":"text/plain","size":44},{"uid":"dc585252beaf1d9a","name":"Screenshot: Add organization via API and reload page (success)","source":"dc585252beaf1d9a.png","type":"image/png","size":58326}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1766373502188,"stop":1766373503164,"duration":976},"status":"passed","steps":[],"attachments":[{"uid":"78305b74e9308a08","name":"Executed CLI command","source":"78305b74e9308a08.txt","type":"text/plain","size":1114},{"uid":"5e3dee8ca29267ce","name":"Executed CLI command output","source":"5e3dee8ca29267ce.txt","type":"text/plain","size":230}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1766373503164,"stop":1766373503880,"duration":716},"status":"passed","steps":[],"attachments":[{"uid":"b5643a6e603c55a0","name":"Executed CLI command","source":"b5643a6e603c55a0.txt","type":"text/plain","size":39},{"uid":"6b6c1ceb8240f393","name":"Executed CLI command output","source":"6b6c1ceb8240f393.txt","type":"text/plain","size":159}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"daa80056e81cfa25","name":"log","source":"daa80056e81cfa25.txt","type":"text/plain","size":20688}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":39,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1766373503881,"stop":1766373503881,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1766373503881,"stop":1766373503881,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1766373503881,"stop":1766373510347,"duration":6466},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1766373503881,"stop":1766373510347,"duration":6466},"status":"passed","steps":[{"name":"Delete organisation: regression-org-0z8j4p4avnf4","time":{"start":1766373507418,"stop":1766373510301,"duration":2883},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1766373510348,"stop":1766373510349,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1766373510350,"stop":1766373510350,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Secrets"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"3003-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":110,"unknown":0,"total":112},"items":[{"uid":"925c34ffec092491","status":"passed","time":{"start":1766286673267,"stop":1766286709782,"duration":36515}},{"uid":"f50c0bdf12d78367","status":"passed","time":{"start":1766200678090,"stop":1766200715917,"duration":37827}},{"uid":"f4756be59df8b5ae","status":"passed","time":{"start":1766113683023,"stop":1766113722049,"duration":39026}},{"uid":"e200f2a8287c7cac","status":"passed","time":{"start":1766027153075,"stop":1766027193682,"duration":40607}},{"uid":"8e2f4816d17b702d","status":"passed","time":{"start":1765941456283,"stop":1765941482410,"duration":26127}},{"uid":"1b123000a6dbeac2","status":"passed","time":{"start":1765855052915,"stop":1765855085688,"duration":32773}},{"uid":"97533852b9b38c5a","status":"passed","time":{"start":1765768372826,"stop":1765768401902,"duration":29076}},{"uid":"301c22b656d45211","status":"passed","time":{"start":1765682125168,"stop":1765682167273,"duration":42105}},{"uid":"ce18522024782ab9","status":"passed","time":{"start":1765595842532,"stop":1765595873047,"duration":30515}},{"uid":"78fc3c85bfb8f9d0","status":"passed","time":{"start":1765509415463,"stop":1765509463859,"duration":48396}},{"uid":"b00571b419da8dfc","status":"passed","time":{"start":1765336549149,"stop":1765336579540,"duration":30391}},{"uid":"2c291dfc8b1c37d2","status":"passed","time":{"start":1765250191061,"stop":1765250229549,"duration":38488}},{"uid":"f6657cad51c4ebe3","status":"passed","time":{"start":1765163204209,"stop":1765163237148,"duration":32939}},{"uid":"af2ede5873e98eb3","status":"passed","time":{"start":1765077005756,"stop":1765077046008,"duration":40252}},{"uid":"2c46b35710ce90b5","status":"passed","time":{"start":1764990220768,"stop":1764990246300,"duration":25532}},{"uid":"28e0daee5c213e8c","status":"passed","time":{"start":1764904371371,"stop":1764904399398,"duration":28027}},{"uid":"fbe262f88830e106","status":"passed","time":{"start":1764817348269,"stop":1764817376773,"duration":28504}},{"uid":"2173e9862fe7636b","status":"passed","time":{"start":1764731604064,"stop":1764731639352,"duration":35288}},{"uid":"93d209c50ed1b1b2","status":"passed","time":{"start":1764644726464,"stop":1764644754654,"duration":28190}},{"uid":"51ece15bbe51789b","status":"passed","time":{"start":1764558140092,"stop":1764558168230,"duration":28138}}]},"tags":["asyncio"]},"source":"9d077fe80399f20d.json","parameterValues":[]}