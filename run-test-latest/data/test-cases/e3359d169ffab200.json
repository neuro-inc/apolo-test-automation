{"uid":"e3359d169ffab200","name":"User without organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_with_token_cli","historyId":"fd27a26b14b2678c9927d4e7b4c1ac77","time":{"start":1755485749902,"stop":1755485756250,"duration":6348},"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1755480795238,"stop":1755480795238,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755480795239,"stop":1755480795239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755480795239,"stop":1755480795239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755480795239,"stop":1755480810240,"duration":15001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755480795239,"stop":1755480795239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755480795239,"stop":1755480795239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755480810240,"stop":1755480810240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755485747135,"stop":1755485747138,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755485747138,"stop":1755485749408,"duration":2270},"status":"passed","steps":[],"attachments":[{"uid":"d12df51509d4a1e9","name":"HTTP 200 - GET config","source":"d12df51509d4a1e9.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755485747138,"stop":1755485747138,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1755485749408,"stop":1755485749409,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755485749409,"stop":1755485749409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755485749409,"stop":1755485749410,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755485749409,"stop":1755485749409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755485749410,"stop":1755485749410,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755485749410,"stop":1755485749411,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755485749410,"stop":1755485749410,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755485749411,"stop":1755485749901,"duration":490},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755485749411,"stop":1755485749901,"duration":490},"status":"passed","steps":[],"attachments":[{"uid":"6768c6e0a32d621b","name":"Executed CLI command","source":"6768c6e0a32d621b.txt","type":"text/plain","size":15},{"uid":"16a43e96c0e4e330","name":"Executed CLI command output","source":"16a43e96c0e4e330.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755485749903,"stop":1755485755436,"duration":5533},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755485749903,"stop":1755485750655,"duration":752},"status":"passed","steps":[],"attachments":[{"uid":"db303440cdcc52b1","name":"Page URL","source":"db303440cdcc52b1.txt","type":"text/plain","size":33},{"uid":"afa2361fa4cbbb29","name":"Screenshot: Click login button (success)","source":"afa2361fa4cbbb29.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755485750655,"stop":1755485751073,"duration":418},"status":"passed","steps":[],"attachments":[{"uid":"8aa3a69366e43104","name":"Page URL","source":"8aa3a69366e43104.txt","type":"text/plain","size":33},{"uid":"581c040d8c756891","name":"Screenshot: Enter email (success)","source":"581c040d8c756891.png","type":"image/png","size":46901}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755485751073,"stop":1755485751264,"duration":191},"status":"passed","steps":[],"attachments":[{"uid":"85e3f9fffe2919fc","name":"Page URL","source":"85e3f9fffe2919fc.txt","type":"text/plain","size":215},{"uid":"a07b5e00f76ebcd1","name":"Screenshot: Enter password (success)","source":"a07b5e00f76ebcd1.png","type":"image/png","size":46587}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755485751264,"stop":1755485754202,"duration":2938},"status":"passed","steps":[],"attachments":[{"uid":"77e65a5930b5ba3a","name":"Page URL","source":"77e65a5930b5ba3a.txt","type":"text/plain","size":215},{"uid":"64afe0f9f7b4806e","name":"HTTP 200 - GET config","source":"64afe0f9f7b4806e.txt","type":"text/plain","size":752},{"uid":"27536f0c4b5ae48d","name":"HTTP 200 - GET permissions?uri=blob:","source":"27536f0c4b5ae48d.txt","type":"text/plain","size":163},{"uid":"ab27ecb502c0c391","name":"HTTP 200 - GET regression-gg2l281lvl?include=clusters&include=system_role","source":"ab27ecb502c0c391.txt","type":"text/plain","size":388},{"uid":"882be30d22bbe04e","name":"HTTP 200 - GET incoming","source":"882be30d22bbe04e.txt","type":"text/plain","size":137},{"uid":"d1ed7e319324ab7d","name":"HTTP 200 - GET regression-gg2l281lvl?include=orgs","source":"d1ed7e319324ab7d.txt","type":"text/plain","size":360},{"uid":"8a36ead343c5eeaa","name":"Screenshot: Click Continue button (success)","source":"8a36ead343c5eeaa.png","type":"image/png","size":159658}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755485754212,"stop":1755485755320,"duration":1108},"status":"passed","steps":[],"attachments":[{"uid":"65a9ef4028f4c26e","name":"Page URL","source":"65a9ef4028f4c26e.txt","type":"text/plain","size":44},{"uid":"183fd35d72ae0de0","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"183fd35d72ae0de0.png","type":"image/png","size":159658}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3ce0d9e62a1b2802","name":"Page URL","source":"3ce0d9e62a1b2802.txt","type":"text/plain","size":33},{"uid":"dfc8ee1c16584698","name":"Screenshot: Login via UI (success)","source":"dfc8ee1c16584698.png","type":"image/png","size":159658}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755485755436,"stop":1755485756249,"duration":813},"status":"passed","steps":[],"attachments":[{"uid":"5c7343eae4e808ea","name":"Executed CLI command","source":"5c7343eae4e808ea.txt","type":"text/plain","size":1114},{"uid":"4dadafa6d3479d6f","name":"Executed CLI command output","source":"4dadafa6d3479d6f.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1755485756249,"stop":1755485756249,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"fd5a94a448f210de","name":"Executed CLI command","source":"fd5a94a448f210de.txt","type":"text/plain","size":1114},{"uid":"5731897929a34594","name":"Executed CLI command output","source":"5731897929a34594.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"161d5bdbcd8dfa73","name":"log","source":"161d5bdbcd8dfa73.txt","type":"text/plain","size":10925}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1755485756250,"stop":1755485756250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1755485756251,"stop":1755485759405,"duration":3154},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755485756251,"stop":1755485759405,"duration":3154},"status":"passed","steps":[],"attachments":[{"uid":"20cd8e15db925609","name":"Cleanup note","source":"20cd8e15db925609.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755485759406,"stop":1755485759406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755485759407,"stop":1755485759408,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"5905-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":37,"unknown":0,"total":37},"items":[{"uid":"f961db58b53e74d","status":"passed","time":{"start":1755399088372,"stop":1755399106081,"duration":17709}},{"uid":"67f45b33ec38c104","status":"passed","time":{"start":1755376537898,"stop":1755376545605,"duration":7707}},{"uid":"53b16919e9baa20b","status":"passed","time":{"start":1755312654644,"stop":1755312660822,"duration":6178}},{"uid":"f0af5947c04af407","status":"passed","time":{"start":1755284423025,"stop":1755284429200,"duration":6175}},{"uid":"849d5c6d9b933081","status":"passed","time":{"start":1754880239326,"stop":1754880245713,"duration":6387}},{"uid":"5cade5847d8a488d","status":"passed","time":{"start":1754831394584,"stop":1754831410092,"duration":15508}},{"uid":"a3791ad6a797d6b9","status":"passed","time":{"start":1754707235756,"stop":1754707241943,"duration":6187}},{"uid":"c523f48db8e1c5c2","status":"passed","time":{"start":1754620202413,"stop":1754620209357,"duration":6944}},{"uid":"4c64acc966ca2a7f","status":"passed","time":{"start":1754596035709,"stop":1754596046134,"duration":10425}},{"uid":"dd307916d8783a75","status":"passed","time":{"start":1754534008903,"stop":1754534009747,"duration":844}},{"uid":"44fec44e2cd29a5b","status":"passed","time":{"start":1754463665034,"stop":1754463665950,"duration":916}},{"uid":"449478feccd5304a","status":"passed","time":{"start":1754388563984,"stop":1754388564747,"duration":763}},{"uid":"84bc202634fdab7f","status":"passed","time":{"start":1754363423264,"stop":1754363424513,"duration":1249}},{"uid":"33ef3914c5f5c6e8","status":"passed","time":{"start":1754277133393,"stop":1754277134771,"duration":1378}},{"uid":"471f1e0b4e9bcea8","status":"passed","time":{"start":1754191461221,"stop":1754191462390,"duration":1169}},{"uid":"30257dedb02abe1b","status":"passed","time":{"start":1754103996773,"stop":1754103998307,"duration":1534}},{"uid":"83ec0e9e3c97109f","status":"passed","time":{"start":1754018697260,"stop":1754018702496,"duration":5236}},{"uid":"73f49619c0b56012","status":"passed","time":{"start":1753932238095,"stop":1753932239460,"duration":1365}},{"uid":"624ac43771929069","status":"passed","time":{"start":1753845498516,"stop":1753845499373,"duration":857}},{"uid":"697840b26f8fdd59","status":"passed","time":{"start":1753758080221,"stop":1753758081488,"duration":1267}}]},"tags":["asyncio"]},"source":"e3359d169ffab200.json","parameterValues":[]}