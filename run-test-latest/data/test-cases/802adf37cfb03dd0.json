{"uid":"802adf37cfb03dd0","name":"Admin create folder via CLI","fullName":"tests.test_cases.tests_cli.test_storage.TestCLIStorage#test_admin_create_folder_cli","historyId":"bf4a1238adbe9ff1ea4ad7ae5ae89cba","time":{"start":1759026533180,"stop":1759026567459,"duration":34279},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- User can create folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:72: in test_admin_create_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1759023178948,"stop":1759023178948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1759023178948,"stop":1759023178948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759023178948,"stop":1759023178948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759023178949,"stop":1759023178949,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759023178949,"stop":1759023178949,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1759023178949,"stop":1759023208949,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1759023208950,"stop":1759023208950,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1759026529912,"stop":1759026529916,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759026529916,"stop":1759026529917,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759026529916,"stop":1759026532626,"duration":2710},"status":"passed","steps":[],"attachments":[{"uid":"4eeb9187dd2848b0","name":"HTTP 200 - GET config","source":"4eeb9187dd2848b0.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1759026532626,"stop":1759026532627,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759026532627,"stop":1759026532627,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759026532627,"stop":1759026532627,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759026532627,"stop":1759026532627,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759026532628,"stop":1759026532628,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759026532628,"stop":1759026532629,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759026532628,"stop":1759026532628,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759026532629,"stop":1759026533179,"duration":550},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759026532629,"stop":1759026533179,"duration":550},"status":"passed","steps":[],"attachments":[{"uid":"9a4720d009477d72","name":"Executed CLI command","source":"9a4720d009477d72.txt","type":"text/plain","size":15},{"uid":"a03f1d56b89124f1","name":"Executed CLI command output","source":"a03f1d56b89124f1.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- User can create folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:72: in test_admin_create_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s'","steps":[{"name":"Login via UI","time":{"start":1759026533180,"stop":1759026539375,"duration":6195},"status":"passed","steps":[{"name":"Click login button","time":{"start":1759026533181,"stop":1759026534358,"duration":1177},"status":"passed","steps":[],"attachments":[{"uid":"720f57193e9ed8d0","name":"Page URL","source":"720f57193e9ed8d0.txt","type":"text/plain","size":33},{"uid":"f63d26d224fc42a4","name":"Screenshot: Click login button (success)","source":"f63d26d224fc42a4.png","type":"image/png","size":41951}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759026534358,"stop":1759026534701,"duration":343},"status":"passed","steps":[],"attachments":[{"uid":"ad6c92898e1cf56","name":"Page URL","source":"ad6c92898e1cf56.txt","type":"text/plain","size":215},{"uid":"67a29b94750fef4c","name":"Screenshot: Enter email (success)","source":"67a29b94750fef4c.png","type":"image/png","size":45876}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759026534701,"stop":1759026535049,"duration":348},"status":"passed","steps":[],"attachments":[{"uid":"7be48f7b454900a3","name":"Page URL","source":"7be48f7b454900a3.txt","type":"text/plain","size":215},{"uid":"d9fe127525fc15ca","name":"Screenshot: Enter password (success)","source":"d9fe127525fc15ca.png","type":"image/png","size":46004}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1759026535049,"stop":1759026538175,"duration":3126},"status":"passed","steps":[],"attachments":[{"uid":"6ec1c6c124c99e61","name":"Page URL","source":"6ec1c6c124c99e61.txt","type":"text/plain","size":215},{"uid":"93afb449d904124c","name":"HTTP 200 - GET config","source":"93afb449d904124c.txt","type":"text/plain","size":752},{"uid":"e3186336b7daf790","name":"HTTP 200 - GET permissions?uri=blob:","source":"e3186336b7daf790.txt","type":"text/plain","size":163},{"uid":"d608910c58859448","name":"HTTP 200 - GET incoming","source":"d608910c58859448.txt","type":"text/plain","size":137},{"uid":"6af98d1ddd9cdd3","name":"HTTP 200 - GET regression-oqxk2pyfdn?include=orgs","source":"6af98d1ddd9cdd3.txt","type":"text/plain","size":360},{"uid":"dbae74ce2a68d530","name":"HTTP 200 - GET regression-oqxk2pyfdn?include=clusters&include=system_role","source":"dbae74ce2a68d530.txt","type":"text/plain","size":388},{"uid":"31544de889d1a9c1","name":"Screenshot: Click Continue button (success)","source":"31544de889d1a9c1.png","type":"image/png","size":160368}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759026538185,"stop":1759026539292,"duration":1107},"status":"passed","steps":[],"attachments":[{"uid":"21a9a27042449ceb","name":"Page URL","source":"21a9a27042449ceb.txt","type":"text/plain","size":44},{"uid":"8e67694a4e491243","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"8e67694a4e491243.png","type":"image/png","size":160368}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f720b1d9031c8763","name":"Page URL","source":"f720b1d9031c8763.txt","type":"text/plain","size":33},{"uid":"c6b6f03e59e34632","name":"Screenshot: Login via UI (success)","source":"c6b6f03e59e34632.png","type":"image/png","size":160368}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1759026539375,"stop":1759026554460,"duration":15085},"status":"passed","steps":[{"name":"Reload page","time":{"start":1759026552526,"stop":1759026554366,"duration":1840},"status":"passed","steps":[],"attachments":[{"uid":"9a18aa3ce2d4df73","name":"Page URL","source":"9a18aa3ce2d4df73.txt","type":"text/plain","size":44},{"uid":"4c25c2bb9c0b96c","name":"HTTP 200 - GET config","source":"4c25c2bb9c0b96c.txt","type":"text/plain","size":1118},{"uid":"fffb7d0d9b630b6b","name":"HTTP 200 - GET regression-org-e9r70ty748ca","source":"fffb7d0d9b630b6b.txt","type":"text/plain","size":425},{"uid":"428d87618bbf1fac","name":"HTTP 200 - GET permissions?uri=blob:","source":"428d87618bbf1fac.txt","type":"text/plain","size":236},{"uid":"58d88a3a8255a4fb","name":"HTTP 200 - GET incoming","source":"58d88a3a8255a4fb.txt","type":"text/plain","size":137},{"uid":"dba2c4a56ebf88e1","name":"HTTP 200 - GET regression-oqxk2pyfdn?include=orgs","source":"dba2c4a56ebf88e1.txt","type":"text/plain","size":455},{"uid":"d1bc19882c9be34e","name":"HTTP 200 - GET regression-oqxk2pyfdn?include=clusters&include=system_role","source":"d1bc19882c9be34e.txt","type":"text/plain","size":510},{"uid":"6b693e542de718c4","name":"Screenshot: Reload page (success)","source":"6b693e542de718c4.png","type":"image/png","size":58935}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e9f8351932a2b609","name":"Page URL","source":"e9f8351932a2b609.txt","type":"text/plain","size":44},{"uid":"62adf8c4a95e0ef8","name":"Screenshot: Add organization via API and reload page (success)","source":"62adf8c4a95e0ef8.png","type":"image/png","size":58935}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1759026554460,"stop":1759026555341,"duration":881},"status":"passed","steps":[],"attachments":[{"uid":"9689956a5e6b3329","name":"Executed CLI command","source":"9689956a5e6b3329.txt","type":"text/plain","size":1114},{"uid":"878122ca4abc77bd","name":"Executed CLI command output","source":"878122ca4abc77bd.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1759026555341,"stop":1759026566694,"duration":11353},"status":"passed","steps":[],"attachments":[{"uid":"fa69e693f8f81157","name":"Executed CLI command","source":"fa69e693f8f81157.txt","type":"text/plain","size":114},{"uid":"e65136f5458741a0","name":"Executed CLI command output","source":"e65136f5458741a0.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create folder via CLI","time":{"start":1759026566694,"stop":1759026567458,"duration":764},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-e9r70ty748ca/regression-proj-6wlhwula2s'\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"6b5c1577068c0607","name":"Executed CLI command","source":"6b5c1577068c0607.txt","type":"text/plain","size":37},{"uid":"2545d271faedce58","name":"Executed CLI command output","source":"2545d271faedce58.txt","type":"text/plain","size":218}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c024bc3a7ef36853","name":"log","source":"c024bc3a7ef36853.txt","type":"text/plain","size":18787}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1759026567473,"stop":1759026567473,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759026567474,"stop":1759026567474,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759026567474,"stop":1759026572086,"duration":4612},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759026567474,"stop":1759026572085,"duration":4611},"status":"passed","steps":[{"name":"Delete organisation: regression-org-e9r70ty748ca","time":{"start":1759026571172,"stop":1759026572045,"duration":873},"status":"passed","steps":[{"name":"Delete project: regression-proj-6wlhwula2s","time":{"start":1759026571231,"stop":1759026571422,"duration":191},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759026572086,"stop":1759026572087,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759026572087,"stop":1759026572088,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Storage"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIStorage"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"3595-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_storage"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"802adf37cfb03dd0.json","parameterValues":[]}