{"uid":"af96c075354990e","name":"User without organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_with_token_cli","historyId":"fd27a26b14b2678c9927d4e7b4c1ac77","time":{"start":1764466381252,"stop":1764466381259,"duration":7},"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:726: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_cli_login.py:31: in test_login_with_token_cli\n    await self._ui_steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1764466327647,"stop":1764466327647,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1764466327647,"stop":1764466327648,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764466327647,"stop":1764466327647,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1764466327647,"stop":1764466327647,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764466327647,"stop":1764466327647,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1764466327647,"stop":1764466327647,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1764466327647,"stop":1764466327647,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1764466327648,"stop":1764466327652,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1764466327652,"stop":1764466327652,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1764466327652,"stop":1764466328820,"duration":1168},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1764466328820,"stop":1764466328821,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1764466328820,"stop":1764466328820,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1764466328821,"stop":1764466380236,"duration":51415},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1764466329435,"stop":1764466359731,"duration":30296},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1764466329436,"stop":1764466359670,"duration":30234},"status":"failed","statusMessage":"AssertionError: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"ff5ec60cc4f3125c","name":"Page URL","source":"ff5ec60cc4f3125c.txt","type":"text/plain","size":29},{"uid":"d5a18af89dcae15d","name":"HTTP 200 - GET config","source":"d5a18af89dcae15d.txt","type":"text/plain","size":673},{"uid":"68fc801f7a906658","name":"Screenshot: Click signup button (fail)","source":"68fc801f7a906658.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"460cd2aeb15b0ab9","name":"Page URL","source":"460cd2aeb15b0ab9.txt","type":"text/plain","size":29},{"uid":"4e26b0196b134e41","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"4e26b0196b134e41.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1764466360400,"stop":1764466380235,"duration":19835},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1764466360401,"stop":1764466361588,"duration":1187},"status":"passed","steps":[],"attachments":[{"uid":"4e5d3051d33477f9","name":"Page URL","source":"4e5d3051d33477f9.txt","type":"text/plain","size":29},{"uid":"2cd859db78f85548","name":"HTTP 200 - GET config","source":"2cd859db78f85548.txt","type":"text/plain","size":673},{"uid":"157ab6b41a73a71","name":"Screenshot: Click signup button (success)","source":"157ab6b41a73a71.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1764466361588,"stop":1764466361903,"duration":315},"status":"passed","steps":[],"attachments":[{"uid":"d49b90a09c97e865","name":"Page URL","source":"d49b90a09c97e865.txt","type":"text/plain","size":216},{"uid":"2543f16bee8bb909","name":"Screenshot: Enter email (success)","source":"2543f16bee8bb909.png","type":"image/png","size":44350}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1764466361903,"stop":1764466362241,"duration":338},"status":"passed","steps":[],"attachments":[{"uid":"51ab5a0fca42d60c","name":"Page URL","source":"51ab5a0fca42d60c.txt","type":"text/plain","size":216},{"uid":"be6534ab3dc1cd2a","name":"Screenshot: Enter password (success)","source":"be6534ab3dc1cd2a.png","type":"image/png","size":63514}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1764466362241,"stop":1764466363997,"duration":1756},"status":"passed","steps":[],"attachments":[{"uid":"c0fbd9a7c168e5e4","name":"Page URL","source":"c0fbd9a7c168e5e4.txt","type":"text/plain","size":216},{"uid":"22590b052e633403","name":"Screenshot: Click continue button (success)","source":"22590b052e633403.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1764466363998,"stop":1764466365068,"duration":1070},"status":"passed","steps":[],"attachments":[{"uid":"e89a2544b032d063","name":"Page URL","source":"e89a2544b032d063.txt","type":"text/plain","size":194},{"uid":"d7e1cc637dc75b3e","name":"HTTP 200 - GET config","source":"d7e1cc637dc75b3e.txt","type":"text/plain","size":673},{"uid":"777f0d857c08775a","name":"Screenshot: Verify that Verify email message displayed (success)","source":"777f0d857c08775a.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1764466365068,"stop":1764466366724,"duration":1656},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1764466365521,"stop":1764466366499,"duration":978},"status":"passed","steps":[],"attachments":[{"uid":"f236358009a7b0cb","name":"Page URL","source":"f236358009a7b0cb.txt","type":"text/plain","size":184},{"uid":"7bccc925b0d2105d","name":"Screenshot: Navigate to URL (success)","source":"7bccc925b0d2105d.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1764466366724,"stop":1764466368250,"duration":1526},"status":"passed","steps":[],"attachments":[{"uid":"de1fb59828cc43dd","name":"Page URL","source":"de1fb59828cc43dd.txt","type":"text/plain","size":87},{"uid":"44239ed402a0238a","name":"HTTP 200 - GET config","source":"44239ed402a0238a.txt","type":"text/plain","size":673},{"uid":"2d3802dfda9e361","name":"Screenshot: Navigate to URL (success)","source":"2d3802dfda9e361.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1764466368251,"stop":1764466368327,"duration":76},"status":"passed","steps":[],"attachments":[{"uid":"21b15ae749c64a7b","name":"Page URL","source":"21b15ae749c64a7b.txt","type":"text/plain","size":33},{"uid":"c4cb0d6e2f61b524","name":"Screenshot: Verify that Auth page displayed (success)","source":"c4cb0d6e2f61b524.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1764466368327,"stop":1764466369719,"duration":1392},"status":"passed","steps":[],"attachments":[{"uid":"ea5ec3af4f86b26c","name":"Page URL","source":"ea5ec3af4f86b26c.txt","type":"text/plain","size":33},{"uid":"2ed85ce2d71fa276","name":"HTTP 404 - HEAD regression-s5k6990x74","source":"2ed85ce2d71fa276.txt","type":"text/plain","size":179},{"uid":"223f18376c1ff5b1","name":"Screenshot: Click login button (success)","source":"223f18376c1ff5b1.png","type":"image/png","size":37647}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1764466369719,"stop":1764466370819,"duration":1100},"status":"passed","steps":[],"attachments":[{"uid":"134a36aad932fc4b","name":"Page URL","source":"134a36aad932fc4b.txt","type":"text/plain","size":362},{"uid":"4f5ac4da269ca35b","name":"Screenshot: Verify that Signup username page displayed (success)","source":"4f5ac4da269ca35b.png","type":"image/png","size":37772}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1764466370819,"stop":1764466371653,"duration":834},"status":"passed","steps":[],"attachments":[{"uid":"ce633fd46826bfab","name":"Page URL","source":"ce633fd46826bfab.txt","type":"text/plain","size":362},{"uid":"4d53333cc4e39c8a","name":"HTTP 404 - HEAD ","source":"4d53333cc4e39c8a.txt","type":"text/plain","size":158},{"uid":"1de0b56ef5a1a4b3","name":"HTTP 404 - HEAD regression-s5k6990x74","source":"1de0b56ef5a1a4b3.txt","type":"text/plain","size":179},{"uid":"3d946e0d88a927c4","name":"Screenshot: Enter username (success)","source":"3d946e0d88a927c4.png","type":"image/png","size":38085}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1764466371653,"stop":1764466374539,"duration":2886},"status":"passed","steps":[],"attachments":[{"uid":"362f16b02653f131","name":"Page URL","source":"362f16b02653f131.txt","type":"text/plain","size":362},{"uid":"aa14342d2b7f1f3e","name":"HTTP 200 - GET config","source":"aa14342d2b7f1f3e.txt","type":"text/plain","size":771},{"uid":"cf09392373941eed","name":"HTTP 200 - GET permissions?uri=blob:","source":"cf09392373941eed.txt","type":"text/plain","size":182},{"uid":"aa59c4a95ad7a0c3","name":"HTTP 200 - GET regression-s5k6990x74?include=orgs","source":"aa59c4a95ad7a0c3.txt","type":"text/plain","size":380},{"uid":"e455855380ce24f3","name":"HTTP 200 - GET regression-s5k6990x74?include=clusters&include=system_role","source":"e455855380ce24f3.txt","type":"text/plain","size":408},{"uid":"805968d2f59d9e46","name":"HTTP 200 - GET incoming","source":"805968d2f59d9e46.txt","type":"text/plain","size":156},{"uid":"9a7059745e27bb7a","name":"HTTP 200 - GET config","source":"9a7059745e27bb7a.txt","type":"text/plain","size":771},{"uid":"125d95d577c4ba01","name":"HTTP 200 - GET permissions?uri=blob:","source":"125d95d577c4ba01.txt","type":"text/plain","size":182},{"uid":"7622e93106cc252c","name":"HTTP 200 - GET regression-s5k6990x74?include=orgs","source":"7622e93106cc252c.txt","type":"text/plain","size":380},{"uid":"f801518fde21a77","name":"HTTP 200 - GET incoming","source":"f801518fde21a77.txt","type":"text/plain","size":156},{"uid":"8419c7c3e60f8b46","name":"HTTP 200 - GET regression-s5k6990x74?include=clusters&include=system_role","source":"8419c7c3e60f8b46.txt","type":"text/plain","size":408},{"uid":"69970a10cc0c64fb","name":"Screenshot: Click signup button on Signup username page (success)","source":"69970a10cc0c64fb.png","type":"image/png","size":37794}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1764466374539,"stop":1764466374606,"duration":67},"status":"passed","steps":[],"attachments":[{"uid":"9406ddf6c86577ba","name":"Page URL","source":"9406ddf6c86577ba.txt","type":"text/plain","size":151},{"uid":"e0e43ca5038886b2","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"e0e43ca5038886b2.png","type":"image/png","size":40576}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1764466374606,"stop":1764466375226,"duration":620},"status":"passed","steps":[],"attachments":[{"uid":"3ce7e7886bdf3ab5","name":"Page URL","source":"3ce7e7886bdf3ab5.txt","type":"text/plain","size":151},{"uid":"d0db59f4d06067c4","name":"Screenshot: Check agreement checkbox (success)","source":"d0db59f4d06067c4.png","type":"image/png","size":42190}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1764466375226,"stop":1764466375842,"duration":616},"status":"passed","steps":[],"attachments":[{"uid":"93f7ee4a4160a374","name":"Page URL","source":"93f7ee4a4160a374.txt","type":"text/plain","size":151},{"uid":"22f7ace90df295be","name":"Screenshot: Click I Agree button (success)","source":"22f7ace90df295be.png","type":"image/png","size":43001}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1764466375842,"stop":1764466375973,"duration":131},"status":"passed","steps":[],"attachments":[{"uid":"1d0f49fec4672cf6","name":"Page URL","source":"1d0f49fec4672cf6.txt","type":"text/plain","size":151},{"uid":"a139b70080e43e75","name":"HTTP 204 - PUT profile","source":"a139b70080e43e75.txt","type":"text/plain","size":253},{"uid":"1d946c87edf2e257","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"1d946c87edf2e257.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1764466375973,"stop":1764466379057,"duration":3084},"status":"passed","steps":[],"attachments":[{"uid":"1b70e1ed7a9b8bb2","name":"Page URL","source":"1b70e1ed7a9b8bb2.txt","type":"text/plain","size":44},{"uid":"561a2570207f239b","name":"Screenshot: Wait for timeout (success)","source":"561a2570207f239b.png","type":"image/png","size":162202}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1764466379057,"stop":1764466380151,"duration":1094},"status":"passed","steps":[],"attachments":[{"uid":"9d9ed80b0314d096","name":"Page URL","source":"9d9ed80b0314d096.txt","type":"text/plain","size":44},{"uid":"7f65d2cb8fe3564e","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"7f65d2cb8fe3564e.png","type":"image/png","size":162202}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"885dd3dbd790f1b7","name":"Page URL","source":"885dd3dbd790f1b7.txt","type":"text/plain","size":29},{"uid":"f34065d59372bbcc","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"f34065d59372bbcc.png","type":"image/png","size":162202}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":55,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e313151137aefa91","name":"HTTP 200 - GET config","source":"e313151137aefa91.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":61,"hasContent":true,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1764466328821,"stop":1764466328821,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1764466328821,"stop":1764466328821,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1764466380236,"stop":1764466380236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1764466380236,"stop":1764466380236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1764466380236,"stop":1764466381252,"duration":1016},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1764466380236,"stop":1764466381252,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"b6829efac65edeae","name":"Executed CLI command","source":"b6829efac65edeae.txt","type":"text/plain","size":15},{"uid":"538b97cc8c06715d","name":"Executed CLI command output","source":"538b97cc8c06715d.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:726: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_cli_login.py:31: in test_login_with_token_cli\n    await self._ui_steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1764466381253,"stop":1764466381259,"duration":6},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Verify that Auth page displayed","time":{"start":1764466381253,"stop":1764466381257,"duration":4},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"d4119314ebb1ce8a","name":"Page URL","source":"d4119314ebb1ce8a.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"552b8215e95367c3","name":"Page URL","source":"552b8215e95367c3.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"96a83e79dc237e58","name":"log","source":"96a83e79dc237e58.txt","type":"text/plain","size":25695}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1764466381361,"stop":1764466381361,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1764466381361,"stop":1764466384929,"duration":3568},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1764466381362,"stop":1764466384929,"duration":3567},"status":"passed","steps":[],"attachments":[{"uid":"23c6ece0439bd8fd","name":"Cleanup note","source":"23c6ece0439bd8fd.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1764466381361,"stop":1764466381361,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1764466384931,"stop":1764466384931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1764466384932,"stop":1764466384933,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Login"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"3080-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"af96c075354990e.json","parameterValues":[]}