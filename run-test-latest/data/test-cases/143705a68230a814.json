{"uid":"143705a68230a814","name":"User with organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_with_token_cli","historyId":"075596f237e9dcd99027c3eb0247d079","time":{"start":1764380034422,"stop":1764380076570,"duration":42148},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1764379860135,"stop":1764379860135,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764379860135,"stop":1764379860135,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1764379860135,"stop":1764379860135,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764379860135,"stop":1764379860135,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1764379860136,"stop":1764379860136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1764379860136,"stop":1764379860136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1764379860136,"stop":1764379860136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1764380032922,"stop":1764380032925,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1764380032925,"stop":1764380033882,"duration":957},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1764380032925,"stop":1764380032925,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1764380033882,"stop":1764380033883,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1764380033883,"stop":1764380033883,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1764380033883,"stop":1764380033883,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1764380033883,"stop":1764380033884,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1764380033884,"stop":1764380033884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1764380033884,"stop":1764380033884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1764380033885,"stop":1764380033885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1764380033885,"stop":1764380034421,"duration":536},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1764380033885,"stop":1764380034421,"duration":536},"status":"passed","steps":[],"attachments":[{"uid":"6e2a260ac1a4a014","name":"HTTP 200 - GET config","source":"6e2a260ac1a4a014.txt","type":"text/plain","size":673},{"uid":"8fed6086c5a72aff","name":"Executed CLI command","source":"8fed6086c5a72aff.txt","type":"text/plain","size":15},{"uid":"3d99daa127142a4f","name":"Executed CLI command output","source":"3d99daa127142a4f.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1764380034422,"stop":1764380049662,"duration":15240},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1764380034423,"stop":1764380034538,"duration":115},"status":"passed","steps":[],"attachments":[{"uid":"41ebab989fffd932","name":"Page URL","source":"41ebab989fffd932.txt","type":"text/plain","size":33},{"uid":"bc6366c99f6e76b4","name":"Screenshot: Verify that Auth page displayed (success)","source":"bc6366c99f6e76b4.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1764380034538,"stop":1764380035550,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"769523001cd69e82","name":"Page URL","source":"769523001cd69e82.txt","type":"text/plain","size":33},{"uid":"1a98d49716bd502","name":"Screenshot: Click login button (success)","source":"1a98d49716bd502.png","type":"image/png","size":41341}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1764380035550,"stop":1764380035632,"duration":82},"status":"passed","steps":[],"attachments":[{"uid":"5a6eac9a3e04ab0e","name":"Page URL","source":"5a6eac9a3e04ab0e.txt","type":"text/plain","size":215},{"uid":"b30247bde20998f7","name":"Screenshot: Verify that Login page displayed (success)","source":"b30247bde20998f7.png","type":"image/png","size":41617}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1764380035632,"stop":1764380035949,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"fcb2961b753809f4","name":"Page URL","source":"fcb2961b753809f4.txt","type":"text/plain","size":215},{"uid":"1e53118cdd182049","name":"Screenshot: Enter email (success)","source":"1e53118cdd182049.png","type":"image/png","size":45464}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1764380035949,"stop":1764380036264,"duration":315},"status":"passed","steps":[],"attachments":[{"uid":"5b1b5151571c42b4","name":"Page URL","source":"5b1b5151571c42b4.txt","type":"text/plain","size":215},{"uid":"b8ce9ff4f9b02c19","name":"Screenshot: Enter password (success)","source":"b8ce9ff4f9b02c19.png","type":"image/png","size":45591}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1764380036264,"stop":1764380048484,"duration":12220},"status":"passed","steps":[],"attachments":[{"uid":"ac12c7a21439be88","name":"Page URL","source":"ac12c7a21439be88.txt","type":"text/plain","size":215},{"uid":"9955c5b65175844","name":"HTTP 200 - GET config","source":"9955c5b65175844.txt","type":"text/plain","size":771},{"uid":"d23ead7fe5c32268","name":"HTTP 200 - GET permissions?uri=blob:","source":"d23ead7fe5c32268.txt","type":"text/plain","size":182},{"uid":"f592619b74851c0f","name":"HTTP 200 - GET incoming","source":"f592619b74851c0f.txt","type":"text/plain","size":156},{"uid":"f8860d85850da7cb","name":"HTTP 200 - GET regression-vf2pqldakd?include=orgs","source":"f8860d85850da7cb.txt","type":"text/plain","size":379},{"uid":"4aaa81b53bd979d0","name":"HTTP 200 - GET regression-vf2pqldakd?include=clusters&include=system_role","source":"4aaa81b53bd979d0.txt","type":"text/plain","size":407},{"uid":"f9f66142566831b5","name":"Screenshot: Click Continue button (success)","source":"f9f66142566831b5.png","type":"image/png","size":159780}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1764380048492,"stop":1764380049583,"duration":1091},"status":"passed","steps":[],"attachments":[{"uid":"c6980724fd0da45b","name":"Page URL","source":"c6980724fd0da45b.txt","type":"text/plain","size":44},{"uid":"c61eae91ae811fe6","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"c61eae91ae811fe6.png","type":"image/png","size":159780}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f73db32a6d3c4bf2","name":"Page URL","source":"f73db32a6d3c4bf2.txt","type":"text/plain","size":33},{"uid":"35162d8fb803a4dc","name":"Screenshot: Login via UI (success)","source":"35162d8fb803a4dc.png","type":"image/png","size":159780}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":21,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1764380049662,"stop":1764380075548,"duration":25886},"status":"passed","steps":[{"name":"Reload page","time":{"start":1764380074836,"stop":1764380075481,"duration":645},"status":"passed","steps":[{"name":"Reload page","time":{"start":1764380074836,"stop":1764380075418,"duration":582},"status":"passed","steps":[],"attachments":[{"uid":"4176160804b68049","name":"Page URL","source":"4176160804b68049.txt","type":"text/plain","size":44},{"uid":"47752305f8debf98","name":"HTTP 200 - GET config","source":"47752305f8debf98.txt","type":"text/plain","size":2137},{"uid":"91b5415b89bb5ec0","name":"HTTP 200 - GET incoming","source":"91b5415b89bb5ec0.txt","type":"text/plain","size":156},{"uid":"87084d929945c50e","name":"HTTP 200 - GET regression-org-hj7yz9yoecjc","source":"87084d929945c50e.txt","type":"text/plain","size":444},{"uid":"2682924d78dcdf42","name":"HTTP 200 - GET permissions?uri=blob:","source":"2682924d78dcdf42.txt","type":"text/plain","size":255},{"uid":"c2c0cbafcfe29f3a","name":"HTTP 200 - GET regression-vf2pqldakd?include=orgs","source":"c2c0cbafcfe29f3a.txt","type":"text/plain","size":474},{"uid":"77c4c36e2a924d27","name":"HTTP 200 - GET regression-vf2pqldakd?include=clusters&include=system_role","source":"77c4c36e2a924d27.txt","type":"text/plain","size":529},{"uid":"f9063f273c3fb7c3","name":"HTTP 200 - GET tags","source":"f9063f273c3fb7c3.txt","type":"text/plain","size":948},{"uid":"c27bda742cba8d81","name":"Screenshot: Reload page (success)","source":"c27bda742cba8d81.png","type":"image/png","size":57332}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b81e71bca5152a9e","name":"Page URL","source":"b81e71bca5152a9e.txt","type":"text/plain","size":44},{"uid":"ab1c7e35aaaf795c","name":"Screenshot: Reload page (success)","source":"ab1c7e35aaaf795c.png","type":"image/png","size":57332}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"60af8e991b18d929","name":"Page URL","source":"60af8e991b18d929.txt","type":"text/plain","size":44},{"uid":"bee24063250c9874","name":"Screenshot: Add organization via API and reload page (success)","source":"bee24063250c9874.png","type":"image/png","size":57332}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1764380075548,"stop":1764380076569,"duration":1021},"status":"passed","steps":[],"attachments":[{"uid":"f6211eda449e070d","name":"Executed CLI command","source":"f6211eda449e070d.txt","type":"text/plain","size":1114},{"uid":"a4172e49f27c214d","name":"Executed CLI command output","source":"a4172e49f27c214d.txt","type":"text/plain","size":230}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1764380076569,"stop":1764380076570,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"a18914ba70582417","name":"Executed CLI command","source":"a18914ba70582417.txt","type":"text/plain","size":1114},{"uid":"61568496c005cfc9","name":"Executed CLI command output","source":"61568496c005cfc9.txt","type":"text/plain","size":230}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b4e03c4c6266bf23","name":"log","source":"b4e03c4c6266bf23.txt","type":"text/plain","size":19572}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":39,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1764380076571,"stop":1764380076571,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1764380076571,"stop":1764380080135,"duration":3564},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1764380076571,"stop":1764380080135,"duration":3564},"status":"passed","steps":[{"name":"Delete organisation: regression-org-hj7yz9yoecjc","time":{"start":1764380079545,"stop":1764380080092,"duration":547},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1764380076571,"stop":1764380076571,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1764380080136,"stop":1764380080136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1764380080137,"stop":1764380080138,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Login"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"3065-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":95,"unknown":0,"total":95},"items":[{"uid":"400d90cca8450977","status":"passed","time":{"start":1764293563019,"stop":1764293593432,"duration":30413}},{"uid":"89cc89159cac985f","status":"passed","time":{"start":1764207198122,"stop":1764207235088,"duration":36966}},{"uid":"59ce48e882d52bbd","status":"passed","time":{"start":1764120771944,"stop":1764120813565,"duration":41621}},{"uid":"dcf61e466fb17edb","status":"passed","time":{"start":1764034375502,"stop":1764034413471,"duration":37969}},{"uid":"4c01d5abb3fd5ec9","status":"passed","time":{"start":1763947973142,"stop":1763948021598,"duration":48456}},{"uid":"a640bea4ee1d4b22","status":"passed","time":{"start":1763861569579,"stop":1763861602688,"duration":33109}},{"uid":"26b8839e583c7961","status":"passed","time":{"start":1763775125021,"stop":1763775193707,"duration":68686}},{"uid":"a5c388065a886821","status":"passed","time":{"start":1763688839530,"stop":1763688870956,"duration":31426}},{"uid":"99cee693bb482e2d","status":"passed","time":{"start":1763602481767,"stop":1763602513153,"duration":31386}},{"uid":"c29c1ef10bda7e24","status":"passed","time":{"start":1763516042076,"stop":1763516074918,"duration":32842}},{"uid":"5d89a9299394de1f","status":"passed","time":{"start":1763429542213,"stop":1763429579687,"duration":37474}},{"uid":"fdd3b911a8e78019","status":"passed","time":{"start":1763343247276,"stop":1763343281420,"duration":34144}},{"uid":"c0987b9b473985b9","status":"passed","time":{"start":1763256757233,"stop":1763256802602,"duration":45369}},{"uid":"1618e82fa1eb6f2a","status":"passed","time":{"start":1763170331457,"stop":1763170371822,"duration":40365}},{"uid":"b5b8d579259f40c","status":"passed","time":{"start":1763083951485,"stop":1763083982500,"duration":31015}},{"uid":"16112791a9b39f9c","status":"passed","time":{"start":1762997604522,"stop":1762997636767,"duration":32245}},{"uid":"d9e999d44284e099","status":"passed","time":{"start":1762911158376,"stop":1762911209675,"duration":51299}},{"uid":"d475e69d1e21099d","status":"passed","time":{"start":1762824914910,"stop":1762824945789,"duration":30879}},{"uid":"742b8bc9ac5b7602","status":"passed","time":{"start":1762738471244,"stop":1762738502310,"duration":31066}},{"uid":"bc17167c0088e801","status":"passed","time":{"start":1762652158942,"stop":1762652181851,"duration":22909}}]},"tags":["asyncio"]},"source":"143705a68230a814.json","parameterValues":[]}