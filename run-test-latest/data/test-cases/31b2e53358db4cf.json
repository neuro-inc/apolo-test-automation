{"uid":"31b2e53358db4cf","name":"User removes organization via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_remove_organization_cli","historyId":"a5aed9e26487d1557b98b4ed8dc5d667","time":{"start":1763690075199,"stop":1763690135917,"duration":60718},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can remove organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1763688697363,"stop":1763688697363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1763688697363,"stop":1763688697363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1763688697363,"stop":1763688697363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1763688697363,"stop":1763688697363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1763688697363,"stop":1763688697363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1763688697363,"stop":1763688697363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1763688697363,"stop":1763688697363,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1763690074002,"stop":1763690074005,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1763690074005,"stop":1763690074702,"duration":697},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1763690074005,"stop":1763690074006,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1763690074702,"stop":1763690074703,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1763690074703,"stop":1763690074703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1763690074703,"stop":1763690074704,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1763690074703,"stop":1763690074703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1763690074703,"stop":1763690074703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1763690074704,"stop":1763690074704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1763690074704,"stop":1763690074704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1763690074704,"stop":1763690075198,"duration":494},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1763690074704,"stop":1763690075198,"duration":494},"status":"passed","steps":[],"attachments":[{"uid":"b7057575bf25bfbd","name":"Executed CLI command","source":"b7057575bf25bfbd.txt","type":"text/plain","size":15},{"uid":"5d3fdc14a1cde502","name":"Executed CLI command output","source":"5d3fdc14a1cde502.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can remove organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1763690075199,"stop":1763690090835,"duration":15636},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1763690075199,"stop":1763690075653,"duration":454},"status":"passed","steps":[],"attachments":[{"uid":"c18eb7cc1fedf34","name":"Page URL","source":"c18eb7cc1fedf34.txt","type":"text/plain","size":29},{"uid":"58d4947e555ada21","name":"HTTP 200 - GET config","source":"58d4947e555ada21.txt","type":"text/plain","size":673},{"uid":"dfa9ac6cf524a9f5","name":"Screenshot: Verify that Auth page displayed (success)","source":"dfa9ac6cf524a9f5.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1763690075653,"stop":1763690076767,"duration":1114},"status":"passed","steps":[],"attachments":[{"uid":"f6d3bed7fac49c84","name":"Page URL","source":"f6d3bed7fac49c84.txt","type":"text/plain","size":33},{"uid":"ba277a63dae95771","name":"Screenshot: Click login button (success)","source":"ba277a63dae95771.png","type":"image/png","size":40860}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1763690076767,"stop":1763690076851,"duration":84},"status":"passed","steps":[],"attachments":[{"uid":"a28a36b575d3002e","name":"Page URL","source":"a28a36b575d3002e.txt","type":"text/plain","size":215},{"uid":"d895ed732c275260","name":"Screenshot: Verify that Login page displayed (success)","source":"d895ed732c275260.png","type":"image/png","size":41779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1763690076851,"stop":1763690077171,"duration":320},"status":"passed","steps":[],"attachments":[{"uid":"2861d51c78ef54a4","name":"Page URL","source":"2861d51c78ef54a4.txt","type":"text/plain","size":215},{"uid":"1fda194e51ad1241","name":"Screenshot: Enter email (success)","source":"1fda194e51ad1241.png","type":"image/png","size":46005}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1763690077171,"stop":1763690077470,"duration":299},"status":"passed","steps":[],"attachments":[{"uid":"cba151c1e536bc94","name":"Page URL","source":"cba151c1e536bc94.txt","type":"text/plain","size":215},{"uid":"c1a902f4e4157b66","name":"Screenshot: Enter password (success)","source":"c1a902f4e4157b66.png","type":"image/png","size":46147}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1763690077470,"stop":1763690089676,"duration":12206},"status":"passed","steps":[],"attachments":[{"uid":"3c83c932468bb79","name":"Page URL","source":"3c83c932468bb79.txt","type":"text/plain","size":215},{"uid":"650e0e78baa77711","name":"HTTP 200 - GET config","source":"650e0e78baa77711.txt","type":"text/plain","size":771},{"uid":"a73de9d063e305f9","name":"HTTP 200 - GET permissions?uri=blob:","source":"a73de9d063e305f9.txt","type":"text/plain","size":182},{"uid":"180fbedb29ae43d","name":"HTTP 200 - GET incoming","source":"180fbedb29ae43d.txt","type":"text/plain","size":156},{"uid":"476f68790b0b689d","name":"HTTP 200 - GET regression-97huv7b9jk?include=orgs","source":"476f68790b0b689d.txt","type":"text/plain","size":379},{"uid":"9328952479a4566d","name":"HTTP 200 - GET regression-97huv7b9jk?include=clusters&include=system_role","source":"9328952479a4566d.txt","type":"text/plain","size":407},{"uid":"f433a9eb73ed1152","name":"Screenshot: Click Continue button (success)","source":"f433a9eb73ed1152.png","type":"image/png","size":160148}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1763690089686,"stop":1763690090766,"duration":1080},"status":"passed","steps":[],"attachments":[{"uid":"c85a97b5a8fddf14","name":"Page URL","source":"c85a97b5a8fddf14.txt","type":"text/plain","size":44},{"uid":"59731e00c07a5865","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"59731e00c07a5865.png","type":"image/png","size":160148}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"225616db9183a59c","name":"Page URL","source":"225616db9183a59c.txt","type":"text/plain","size":29},{"uid":"1306e0f0be132955","name":"Screenshot: Login via UI (success)","source":"1306e0f0be132955.png","type":"image/png","size":160148}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1763690090835,"stop":1763690091751,"duration":916},"status":"passed","steps":[],"attachments":[{"uid":"68d725859add1b3e","name":"Executed CLI command","source":"68d725859add1b3e.txt","type":"text/plain","size":1114},{"uid":"330a8adf29eaabb2","name":"Executed CLI command output","source":"330a8adf29eaabb2.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1763690091751,"stop":1763690096222,"duration":4471},"status":"passed","steps":[],"attachments":[{"uid":"96ead9aeac7833e4","name":"Executed CLI command","source":"96ead9aeac7833e4.txt","type":"text/plain","size":20},{"uid":"1a392c5c258d6df0","name":"Executed CLI command output","source":"1a392c5c258d6df0.txt","type":"text/plain","size":26}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1763690096222,"stop":1763690121567,"duration":25345},"status":"passed","steps":[],"attachments":[{"uid":"1124cee9c0bc5a79","name":"Executed CLI command","source":"1124cee9c0bc5a79.txt","type":"text/plain","size":1114},{"uid":"f46c8d52b29665d0","name":"Executed CLI command output","source":"f46c8d52b29665d0.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1763690121567,"stop":1763690126797,"duration":5230},"status":"passed","steps":[],"attachments":[{"uid":"7e4ebcdc1f22efdb","name":"Executed CLI command","source":"7e4ebcdc1f22efdb.txt","type":"text/plain","size":20},{"uid":"31e3a809b31fae8a","name":"Executed CLI command output","source":"31e3a809b31fae8a.txt","type":"text/plain","size":149}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization is listed in the CLI output","time":{"start":1763690126797,"stop":1763690126798,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"a5cab5c9b948ba05","name":"Executed CLI command","source":"a5cab5c9b948ba05.txt","type":"text/plain","size":20},{"uid":"92915b41649dcd7b","name":"Executed CLI command output","source":"92915b41649dcd7b.txt","type":"text/plain","size":149}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Remove organization via CLI","time":{"start":1763690126798,"stop":1763690131213,"duration":4415},"status":"passed","steps":[],"attachments":[{"uid":"562722def3e661c2","name":"Executed CLI command","source":"562722def3e661c2.txt","type":"text/plain","size":58},{"uid":"2a5b8b6d7a6ab47c","name":"Executed CLI command output","source":"2a5b8b6d7a6ab47c.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1763690131213,"stop":1763690135916,"duration":4703},"status":"passed","steps":[],"attachments":[{"uid":"b1e1a11ed398ddb5","name":"Executed CLI command","source":"b1e1a11ed398ddb5.txt","type":"text/plain","size":20},{"uid":"50afc89327af0bf4","name":"Executed CLI command output","source":"50afc89327af0bf4.txt","type":"text/plain","size":26}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"53f7adba6929731c","name":"log","source":"53f7adba6929731c.txt","type":"text/plain","size":15901}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":15,"attachmentsCount":37,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1763690135917,"stop":1763690135917,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1763690135917,"stop":1763690135918,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1763690135918,"stop":1763690139249,"duration":3331},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1763690135918,"stop":1763690139249,"duration":3331},"status":"passed","steps":[],"attachments":[{"uid":"779c596ec0098d87","name":"Cleanup note","source":"779c596ec0098d87.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1763690139249,"stop":1763690139249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1763690139250,"stop":1763690139251,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"3080-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":7,"broken":0,"skipped":0,"passed":83,"unknown":0,"total":90},"items":[{"uid":"addedcf004fd850f","status":"passed","time":{"start":1763603651019,"stop":1763603705912,"duration":54893}},{"uid":"7c299f1dc2dbe1b5","status":"passed","time":{"start":1763517266172,"stop":1763517324849,"duration":58677}},{"uid":"17dce31e91ff20b7","status":"passed","time":{"start":1763430670119,"stop":1763430719563,"duration":49444}},{"uid":"3216b8e937df8c38","status":"passed","time":{"start":1763344346192,"stop":1763344389704,"duration":43512}},{"uid":"874e49142bccf872","status":"passed","time":{"start":1763257916216,"stop":1763257969129,"duration":52913}},{"uid":"a051792bc58351be","status":"passed","time":{"start":1763171425546,"stop":1763171479028,"duration":53482}},{"uid":"8dbf8dcc304ba352","status":"passed","time":{"start":1763085388266,"stop":1763085431360,"duration":43094}},{"uid":"18f2b9d7aa9f22dc","status":"passed","time":{"start":1762998958111,"stop":1762999021811,"duration":63700}},{"uid":"9db079d4b09bac24","status":"passed","time":{"start":1762912215233,"stop":1762912279550,"duration":64317}},{"uid":"b78b8049abf24f1c","status":"passed","time":{"start":1762826096560,"stop":1762826147446,"duration":50886}},{"uid":"a43382e7f36d53af","status":"passed","time":{"start":1762739649371,"stop":1762739690467,"duration":41096}},{"uid":"9704b878e4bb4713","status":"passed","time":{"start":1762653206173,"stop":1762653258112,"duration":51939}},{"uid":"8a9a24002a381497","status":"passed","time":{"start":1762566665575,"stop":1762566715668,"duration":50093}},{"uid":"4a10373dcce587db","status":"passed","time":{"start":1762480233077,"stop":1762480287207,"duration":54130}},{"uid":"882d43ed295c0c53","status":"passed","time":{"start":1762393870059,"stop":1762393921864,"duration":51805}},{"uid":"5027f61d4f52a58c","status":"passed","time":{"start":1762307554707,"stop":1762307606423,"duration":51716}},{"uid":"635865c0f508c748","status":"passed","time":{"start":1762221056692,"stop":1762221097456,"duration":40764}},{"uid":"ec088aa47613d20f","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Welcome new user page displayed\nMessage: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"h3.truncate.text-h3\").filter(has_text=\"Welcome, regression-g1hu8kx237@apolo.us\")","time":{"start":1762134742756,"stop":1762134763104,"duration":20348}},{"uid":"c27f2ead1f339d8a","status":"passed","time":{"start":1762048391537,"stop":1762048439847,"duration":48310}},{"uid":"e16d07b42f990399","status":"passed","time":{"start":1761961864881,"stop":1761961909489,"duration":44608}}]},"tags":["asyncio"]},"source":"31b2e53358db4cf.json","parameterValues":[]}