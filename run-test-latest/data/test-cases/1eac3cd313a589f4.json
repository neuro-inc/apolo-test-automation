{"uid":"1eac3cd313a589f4","name":"Verify User cannot purchase credits via top pane","fullName":"tests.test_cases.tests_ui.test_credits_purchase.TestUICreditsPurchase#test_user_purchase_credits","historyId":"9db4884e512bd7f645eefd6d7ed8d097","time":{"start":1768008732268,"stop":1768008783210,"duration":50942},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nMessage: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/main_page_steps.py:31: in verify_ui_terms_of_agreement_displayed\n    assert await self._pm.main_page.is_user_agreement_title_displayed(), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:133: in ui_signup_new_user_ver_link\n    await self.main_page.verify_ui_terms_of_agreement_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:152: in ui_get_second_user\n    user = await self.ui_signup_new_user_ver_link()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:35: in test_user_purchase_credits\n    second_user = await u2_steps.ui_get_second_user()\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nE   Message: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1768008709955,"stop":1768008709955,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768008709955,"stop":1768008709955,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768008709955,"stop":1768008709955,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1768008709955,"stop":1768008709955,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1768008709955,"stop":1768008709955,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1768008709955,"stop":1768008709955,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1768008709956,"stop":1768008709960,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1768008709956,"stop":1768008709956,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1768008709960,"stop":1768008709960,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1768008709960,"stop":1768008711655,"duration":1695},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1768008711655,"stop":1768008711655,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1768008711655,"stop":1768008711655,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1768008711655,"stop":1768008711656,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1768008711656,"stop":1768008711657,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1768008711657,"stop":1768008732266,"duration":20609},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1768008712414,"stop":1768008732266,"duration":19852},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1768008712414,"stop":1768008713422,"duration":1008},"status":"passed","steps":[],"attachments":[{"uid":"438e0dfe9d11fcf4","name":"Page URL","source":"438e0dfe9d11fcf4.txt","type":"text/plain","size":29},{"uid":"75c8475214a0187c","name":"HTTP 200 - GET config","source":"75c8475214a0187c.txt","type":"text/plain","size":673},{"uid":"444d629b749534ba","name":"Screenshot: Click signup button (success)","source":"444d629b749534ba.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1768008713422,"stop":1768008713730,"duration":308},"status":"passed","steps":[],"attachments":[{"uid":"b6f0de47b4c5f629","name":"Page URL","source":"b6f0de47b4c5f629.txt","type":"text/plain","size":216},{"uid":"ffeea12114536623","name":"Screenshot: Enter email (success)","source":"ffeea12114536623.png","type":"image/png","size":43835}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1768008713730,"stop":1768008714051,"duration":321},"status":"passed","steps":[],"attachments":[{"uid":"d2c8ee540f02dfaf","name":"Page URL","source":"d2c8ee540f02dfaf.txt","type":"text/plain","size":216},{"uid":"aa2cf8f06b6840ac","name":"Screenshot: Enter password (success)","source":"aa2cf8f06b6840ac.png","type":"image/png","size":62566}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1768008714051,"stop":1768008716093,"duration":2042},"status":"passed","steps":[],"attachments":[{"uid":"978f24e72dc92987","name":"Page URL","source":"978f24e72dc92987.txt","type":"text/plain","size":216},{"uid":"6e172c627dad04fa","name":"Screenshot: Click continue button (success)","source":"6e172c627dad04fa.png","type":"image/png","size":10741}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1768008716093,"stop":1768008717164,"duration":1071},"status":"passed","steps":[],"attachments":[{"uid":"6f2a1a67300ab980","name":"Page URL","source":"6f2a1a67300ab980.txt","type":"text/plain","size":192},{"uid":"3356be55bc895662","name":"HTTP 200 - GET config","source":"3356be55bc895662.txt","type":"text/plain","size":673},{"uid":"96d5742f9e363a4b","name":"Screenshot: Verify that Verify email message displayed (success)","source":"96d5742f9e363a4b.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1768008717164,"stop":1768008718616,"duration":1452},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1768008717505,"stop":1768008718444,"duration":939},"status":"passed","steps":[],"attachments":[{"uid":"cf02ccbb1755ad1f","name":"Page URL","source":"cf02ccbb1755ad1f.txt","type":"text/plain","size":182},{"uid":"573395a62f16c95b","name":"Screenshot: Navigate to URL (success)","source":"573395a62f16c95b.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1768008718616,"stop":1768008720226,"duration":1610},"status":"passed","steps":[],"attachments":[{"uid":"8ae881fc054e645","name":"Page URL","source":"8ae881fc054e645.txt","type":"text/plain","size":87},{"uid":"7d24c30cb3d93fe4","name":"HTTP 200 - GET config","source":"7d24c30cb3d93fe4.txt","type":"text/plain","size":673},{"uid":"cd9b14f879793c56","name":"Screenshot: Navigate to URL (success)","source":"cd9b14f879793c56.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1768008720226,"stop":1768008720301,"duration":75},"status":"passed","steps":[],"attachments":[{"uid":"46f6ff13473abee9","name":"Page URL","source":"46f6ff13473abee9.txt","type":"text/plain","size":33},{"uid":"5d6e215bdf151c5e","name":"Screenshot: Verify that Auth page displayed (success)","source":"5d6e215bdf151c5e.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1768008720301,"stop":1768008721695,"duration":1394},"status":"passed","steps":[],"attachments":[{"uid":"13411bf49d5cfd38","name":"Page URL","source":"13411bf49d5cfd38.txt","type":"text/plain","size":33},{"uid":"d5dc375ef0fc8587","name":"HTTP 404 - HEAD regression-f9kfjjt7zx","source":"d5dc375ef0fc8587.txt","type":"text/plain","size":179},{"uid":"752f4a07e89d25da","name":"Screenshot: Click login button (success)","source":"752f4a07e89d25da.png","type":"image/png","size":37009}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1768008721695,"stop":1768008722779,"duration":1084},"status":"passed","steps":[],"attachments":[{"uid":"c5878edf14dbae35","name":"Page URL","source":"c5878edf14dbae35.txt","type":"text/plain","size":362},{"uid":"901bd45d98365b2b","name":"Screenshot: Verify that Signup username page displayed (success)","source":"901bd45d98365b2b.png","type":"image/png","size":37092}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1768008722779,"stop":1768008723614,"duration":835},"status":"passed","steps":[],"attachments":[{"uid":"2295284053eb468b","name":"Page URL","source":"2295284053eb468b.txt","type":"text/plain","size":362},{"uid":"5e1afaeb26305478","name":"HTTP 404 - HEAD ","source":"5e1afaeb26305478.txt","type":"text/plain","size":158},{"uid":"4718acd38f906f75","name":"HTTP 404 - HEAD regression-f9kfjjt7zx","source":"4718acd38f906f75.txt","type":"text/plain","size":179},{"uid":"d8215681e198b727","name":"Screenshot: Enter username (success)","source":"d8215681e198b727.png","type":"image/png","size":37380}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1768008723614,"stop":1768008726604,"duration":2990},"status":"passed","steps":[],"attachments":[{"uid":"52fbd077b0af57b4","name":"Page URL","source":"52fbd077b0af57b4.txt","type":"text/plain","size":362},{"uid":"e4f0527bcce3c1c6","name":"HTTP 200 - GET config","source":"e4f0527bcce3c1c6.txt","type":"text/plain","size":832},{"uid":"6ce478d2f9a5ea9","name":"HTTP 200 - GET permissions?uri=blob:","source":"6ce478d2f9a5ea9.txt","type":"text/plain","size":182},{"uid":"c340dd4dc1c739cc","name":"HTTP 200 - GET regression-f9kfjjt7zx?include=orgs","source":"c340dd4dc1c739cc.txt","type":"text/plain","size":380},{"uid":"aa390976f48c9165","name":"HTTP 200 - GET regression-f9kfjjt7zx?include=clusters&include=system_role","source":"aa390976f48c9165.txt","type":"text/plain","size":408},{"uid":"6246f3302bbd2c33","name":"HTTP 200 - GET incoming","source":"6246f3302bbd2c33.txt","type":"text/plain","size":156},{"uid":"8f78870981c8b216","name":"HTTP 200 - GET config","source":"8f78870981c8b216.txt","type":"text/plain","size":832},{"uid":"30f82459f0c2c8f1","name":"HTTP 200 - GET permissions?uri=blob:","source":"30f82459f0c2c8f1.txt","type":"text/plain","size":182},{"uid":"975eb0851db75e92","name":"HTTP 200 - GET regression-f9kfjjt7zx?include=orgs","source":"975eb0851db75e92.txt","type":"text/plain","size":380},{"uid":"38daf99f87150b45","name":"HTTP 200 - GET regression-f9kfjjt7zx?include=clusters&include=system_role","source":"38daf99f87150b45.txt","type":"text/plain","size":408},{"uid":"35ad1e3d24bd4842","name":"HTTP 200 - GET incoming","source":"35ad1e3d24bd4842.txt","type":"text/plain","size":156},{"uid":"e574c8eda63e843d","name":"Screenshot: Click signup button on Signup username page (success)","source":"e574c8eda63e843d.png","type":"image/png","size":44524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1768008726604,"stop":1768008726685,"duration":81},"status":"passed","steps":[],"attachments":[{"uid":"c58422cbb0cb7f41","name":"Page URL","source":"c58422cbb0cb7f41.txt","type":"text/plain","size":151},{"uid":"7b9f231bb2359751","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"7b9f231bb2359751.png","type":"image/png","size":46668}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1768008726685,"stop":1768008727303,"duration":618},"status":"passed","steps":[],"attachments":[{"uid":"cd88ac7b7a922df8","name":"Page URL","source":"cd88ac7b7a922df8.txt","type":"text/plain","size":151},{"uid":"be40b1bb2ec9f864","name":"Screenshot: Check agreement checkbox (success)","source":"be40b1bb2ec9f864.png","type":"image/png","size":41973}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1768008727303,"stop":1768008727922,"duration":619},"status":"passed","steps":[],"attachments":[{"uid":"3fa02a7e8a503713","name":"Page URL","source":"3fa02a7e8a503713.txt","type":"text/plain","size":151},{"uid":"e6be118945fed295","name":"HTTP 204 - PUT profile","source":"e6be118945fed295.txt","type":"text/plain","size":253},{"uid":"f33489d100ac8d42","name":"Screenshot: Click I Agree button (success)","source":"f33489d100ac8d42.png","type":"image/png","size":42862}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1768008727922,"stop":1768008728000,"duration":78},"status":"passed","steps":[],"attachments":[{"uid":"2ae8b7b474bd43cb","name":"Page URL","source":"2ae8b7b474bd43cb.txt","type":"text/plain","size":44},{"uid":"dccc2d762b4bb4bc","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"dccc2d762b4bb4bc.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1768008728000,"stop":1768008731081,"duration":3081},"status":"passed","steps":[],"attachments":[{"uid":"3cab19df84e4b3d2","name":"Page URL","source":"3cab19df84e4b3d2.txt","type":"text/plain","size":44},{"uid":"45a28e11263b9924","name":"Screenshot: Wait for timeout (success)","source":"45a28e11263b9924.png","type":"image/png","size":160412}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1768008731081,"stop":1768008732173,"duration":1092},"status":"passed","steps":[],"attachments":[{"uid":"c682dd0cf1e6ed30","name":"Page URL","source":"c682dd0cf1e6ed30.txt","type":"text/plain","size":44},{"uid":"8a9cacb907a770fd","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"8a9cacb907a770fd.png","type":"image/png","size":160412}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3632678192c0f045","name":"Page URL","source":"3632678192c0f045.txt","type":"text/plain","size":29},{"uid":"5bf2625be72e2c50","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"5bf2625be72e2c50.png","type":"image/png","size":160412}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":55,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1ea6fd0109c4d758","name":"HTTP 200 - GET config","source":"1ea6fd0109c4d758.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":20,"attachmentsCount":56,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1768008732267,"stop":1768008732267,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1768008732267,"stop":1768008732267,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1768008732267,"stop":1768008732267,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nMessage: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/main_page_steps.py:31: in verify_ui_terms_of_agreement_displayed\n    assert await self._pm.main_page.is_user_agreement_title_displayed(), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:133: in ui_signup_new_user_ver_link\n    await self.main_page.verify_ui_terms_of_agreement_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:152: in ui_get_second_user\n    user = await self.ui_signup_new_user_ver_link()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:35: in test_user_purchase_credits\n    second_user = await u2_steps.ui_get_second_user()\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nE   Message: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!","steps":[{"name":"Login via UI","time":{"start":1768008732268,"stop":1768008747481,"duration":15213},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1768008732269,"stop":1768008732370,"duration":101},"status":"passed","steps":[],"attachments":[{"uid":"3f74f0528d527ed","name":"Page URL","source":"3f74f0528d527ed.txt","type":"text/plain","size":33},{"uid":"b7fdc4ec6d301b5c","name":"Screenshot: Verify that Auth page displayed (success)","source":"b7fdc4ec6d301b5c.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1768008732370,"stop":1768008733380,"duration":1010},"status":"passed","steps":[],"attachments":[{"uid":"9e028f8dced08918","name":"Page URL","source":"9e028f8dced08918.txt","type":"text/plain","size":33},{"uid":"d63ec6077f558dae","name":"Screenshot: Click login button (success)","source":"d63ec6077f558dae.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1768008733380,"stop":1768008733479,"duration":99},"status":"passed","steps":[],"attachments":[{"uid":"9fae1844cb7cbe3","name":"Page URL","source":"9fae1844cb7cbe3.txt","type":"text/plain","size":215},{"uid":"c025c9ceb5865e42","name":"Screenshot: Verify that Login page displayed (success)","source":"c025c9ceb5865e42.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1768008733479,"stop":1768008733796,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"d526871d0c70f11f","name":"Page URL","source":"d526871d0c70f11f.txt","type":"text/plain","size":215},{"uid":"c75abac6ec017d9d","name":"Screenshot: Enter email (success)","source":"c75abac6ec017d9d.png","type":"image/png","size":45939}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1768008733797,"stop":1768008734114,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"ee08b1c80e51c8a","name":"Page URL","source":"ee08b1c80e51c8a.txt","type":"text/plain","size":215},{"uid":"6ee618dbdb5a1c77","name":"Screenshot: Enter password (success)","source":"6ee618dbdb5a1c77.png","type":"image/png","size":46061}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1768008734114,"stop":1768008746291,"duration":12177},"status":"passed","steps":[],"attachments":[{"uid":"ed0adaeccdff1ad4","name":"Page URL","source":"ed0adaeccdff1ad4.txt","type":"text/plain","size":215},{"uid":"8f3e63a65a2f8f8b","name":"HTTP 200 - GET config","source":"8f3e63a65a2f8f8b.txt","type":"text/plain","size":832},{"uid":"7735d0dab7fd44e1","name":"HTTP 200 - GET permissions?uri=blob:","source":"7735d0dab7fd44e1.txt","type":"text/plain","size":182},{"uid":"f1bef9e786154d69","name":"HTTP 200 - GET regression-f9kfjjt7zx?include=orgs","source":"f1bef9e786154d69.txt","type":"text/plain","size":379},{"uid":"83f7d3ebd7bc0184","name":"HTTP 200 - GET incoming","source":"83f7d3ebd7bc0184.txt","type":"text/plain","size":156},{"uid":"8a669dbd67f39e4b","name":"HTTP 200 - GET regression-f9kfjjt7zx?include=clusters&include=system_role","source":"8a669dbd67f39e4b.txt","type":"text/plain","size":407},{"uid":"b17f8922ebad76bd","name":"Screenshot: Click Continue button (success)","source":"b17f8922ebad76bd.png","type":"image/png","size":160412}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1768008746299,"stop":1768008747389,"duration":1090},"status":"passed","steps":[],"attachments":[{"uid":"2ff491d2a5e73854","name":"Page URL","source":"2ff491d2a5e73854.txt","type":"text/plain","size":44},{"uid":"2ea14847f6432c73","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"2ea14847f6432c73.png","type":"image/png","size":160412}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8e42877f6ddcb5b8","name":"Page URL","source":"8e42877f6ddcb5b8.txt","type":"text/plain","size":33},{"uid":"3206ee0de4d33ce2","name":"Screenshot: Login via UI (success)","source":"3206ee0de4d33ce2.png","type":"image/png","size":160412}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":21,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Get second user","time":{"start":1768008748196,"stop":1768008783209,"duration":35013},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nMessage: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"<<User2>> :: Signup new user via UI and activate email verification link","time":{"start":1768008748196,"stop":1768008783144,"duration":34948},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"<<User2>> :: Click signup button","time":{"start":1768008748196,"stop":1768008749280,"duration":1084},"status":"passed","steps":[],"attachments":[{"uid":"b85e3a82e45401f7","name":"Page URL","source":"b85e3a82e45401f7.txt","type":"text/plain","size":29},{"uid":"2b6208ea33202be9","name":"HTTP 200 - GET config","source":"2b6208ea33202be9.txt","type":"text/plain","size":673},{"uid":"bbd0423418ef7191","name":"Screenshot: <<User2>> :: Click signup button (success)","source":"bbd0423418ef7191.png","type":"image/png","size":39477}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter email","time":{"start":1768008749280,"stop":1768008749595,"duration":315},"status":"passed","steps":[],"attachments":[{"uid":"afe5297010094dd4","name":"Page URL","source":"afe5297010094dd4.txt","type":"text/plain","size":216},{"uid":"4d29b2426f7410f5","name":"Screenshot: <<User2>> :: Enter email (success)","source":"4d29b2426f7410f5.png","type":"image/png","size":43800}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter password","time":{"start":1768008749595,"stop":1768008749919,"duration":324},"status":"passed","steps":[],"attachments":[{"uid":"42e84b953ade1159","name":"Page URL","source":"42e84b953ade1159.txt","type":"text/plain","size":216},{"uid":"c4dae434c59e6924","name":"Screenshot: <<User2>> :: Enter password (success)","source":"c4dae434c59e6924.png","type":"image/png","size":63020}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click continue button","time":{"start":1768008749919,"stop":1768008751924,"duration":2005},"status":"passed","steps":[],"attachments":[{"uid":"323fd2db98eb8c01","name":"Page URL","source":"323fd2db98eb8c01.txt","type":"text/plain","size":216},{"uid":"1d34368528f3a5b2","name":"Screenshot: <<User2>> :: Click continue button (success)","source":"1d34368528f3a5b2.png","type":"image/png","size":10741}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Verify email message displayed","time":{"start":1768008751924,"stop":1768008752358,"duration":434},"status":"passed","steps":[],"attachments":[{"uid":"8ca87a89d1455927","name":"Page URL","source":"8ca87a89d1455927.txt","type":"text/plain","size":192},{"uid":"b7369db30b5f3515","name":"HTTP 200 - GET config","source":"b7369db30b5f3515.txt","type":"text/plain","size":673},{"uid":"ad7baff6eefef9c2","name":"Screenshot: <<User2>> :: Verify that Verify email message displayed (success)","source":"ad7baff6eefef9c2.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1768008752358,"stop":1768008753905,"duration":1547},"status":"passed","steps":[{"name":"<<User2>> :: Navigate to URL","time":{"start":1768008752740,"stop":1768008753714,"duration":974},"status":"passed","steps":[],"attachments":[{"uid":"5561fd17ea11c5b2","name":"Page URL","source":"5561fd17ea11c5b2.txt","type":"text/plain","size":182},{"uid":"424d195daf0a2b5d","name":"Screenshot: <<User2>> :: Navigate to URL (success)","source":"424d195daf0a2b5d.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Navigate to URL","time":{"start":1768008753905,"stop":1768008755352,"duration":1447},"status":"passed","steps":[],"attachments":[{"uid":"37432103df7f0ff5","name":"Page URL","source":"37432103df7f0ff5.txt","type":"text/plain","size":87},{"uid":"3e601d8b8c6bf8ce","name":"HTTP 200 - GET config","source":"3e601d8b8c6bf8ce.txt","type":"text/plain","size":673},{"uid":"ad6a087f427c8f4b","name":"Screenshot: <<User2>> :: Navigate to URL (success)","source":"ad6a087f427c8f4b.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Auth page displayed","time":{"start":1768008755352,"stop":1768008755434,"duration":82},"status":"passed","steps":[],"attachments":[{"uid":"ae731322173c589","name":"Page URL","source":"ae731322173c589.txt","type":"text/plain","size":33},{"uid":"6c7fab64a656500d","name":"Screenshot: <<User2>> :: Verify that Auth page displayed (success)","source":"6c7fab64a656500d.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click login button","time":{"start":1768008755434,"stop":1768008756960,"duration":1526},"status":"passed","steps":[],"attachments":[{"uid":"a0c5428892a86b76","name":"Page URL","source":"a0c5428892a86b76.txt","type":"text/plain","size":33},{"uid":"8036823415026c35","name":"HTTP 404 - HEAD regression-mi0x9msxf4","source":"8036823415026c35.txt","type":"text/plain","size":179},{"uid":"709b0bbf11e35259","name":"Screenshot: <<User2>> :: Click login button (success)","source":"709b0bbf11e35259.png","type":"image/png","size":37426}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Signup username page displayed","time":{"start":1768008756960,"stop":1768008758026,"duration":1066},"status":"passed","steps":[],"attachments":[{"uid":"beed4ada5d92cb9a","name":"Page URL","source":"beed4ada5d92cb9a.txt","type":"text/plain","size":362},{"uid":"1429912b84aab26","name":"Screenshot: <<User2>> :: Verify that Signup username page displayed (success)","source":"1429912b84aab26.png","type":"image/png","size":37488}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter username","time":{"start":1768008758026,"stop":1768008758845,"duration":819},"status":"passed","steps":[],"attachments":[{"uid":"e476d5fdb0053abf","name":"Page URL","source":"e476d5fdb0053abf.txt","type":"text/plain","size":362},{"uid":"4ef0b3031c09c240","name":"HTTP 404 - HEAD ","source":"4ef0b3031c09c240.txt","type":"text/plain","size":158},{"uid":"e94e12a4263f710","name":"HTTP 404 - HEAD regression-mi0x9msxf4","source":"e94e12a4263f710.txt","type":"text/plain","size":179},{"uid":"f57aedbb51835422","name":"Screenshot: <<User2>> :: Enter username (success)","source":"f57aedbb51835422.png","type":"image/png","size":37795}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click signup button on Signup username page","time":{"start":1768008758845,"stop":1768008772967,"duration":14122},"status":"passed","steps":[],"attachments":[{"uid":"e88f4b7dd16b7121","name":"Page URL","source":"e88f4b7dd16b7121.txt","type":"text/plain","size":362},{"uid":"ffa414f492e92bd5","name":"HTTP 200 - GET config","source":"ffa414f492e92bd5.txt","type":"text/plain","size":673},{"uid":"44a8a37bd0e8cf45","name":"Screenshot: <<User2>> :: Click signup button on Signup username page (success)","source":"44a8a37bd0e8cf45.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that User agreement pop up displayed","time":{"start":1768008772967,"stop":1768008783077,"duration":10110},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"c0df8f26e0d7fed4","name":"Page URL","source":"c0df8f26e0d7fed4.txt","type":"text/plain","size":222},{"uid":"2f1d755e73797d85","name":"Screenshot: <<User2>> :: Verify that User agreement pop up displayed (fail)","source":"2f1d755e73797d85.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5768572d3a814bb4","name":"Page URL","source":"5768572d3a814bb4.txt","type":"text/plain","size":29},{"uid":"c429b92d1432c903","name":"Screenshot: <<User2>> :: Signup new user via UI and activate email verification link (fail)","source":"c429b92d1432c903.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":35,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"19ad5d5789b749fc","name":"Page URL","source":"19ad5d5789b749fc.txt","type":"text/plain","size":29},{"uid":"717d7f6d75034f11","name":"Screenshot: <<User2>> :: Get second user (fail)","source":"717d7f6d75034f11.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":37,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b38f01102b1015f4","name":"log","source":"b38f01102b1015f4.txt","type":"text/plain","size":41118}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":24,"attachmentsCount":59,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1768008783291,"stop":1768008783291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1768008783291,"stop":1768008783291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1768008783291,"stop":1768008788220,"duration":4929},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1768008783291,"stop":1768008788220,"duration":4929},"status":"passed","steps":[],"attachments":[{"uid":"9b608411f6eb6743","name":"Cleanup note","source":"9b608411f6eb6743.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1768008788221,"stop":1768008788222,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1768008788223,"stop":1768008788224,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"UI Credits Purchase"},{"name":"parentSuite","value":"UI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUICreditsPurchase"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2989-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_credits_purchase"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"1eac3cd313a589f4.json","parameterValues":[]}