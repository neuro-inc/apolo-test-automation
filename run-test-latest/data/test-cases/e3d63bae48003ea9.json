{"uid":"e3d63bae48003ea9","name":"User with organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_with_token_cli","historyId":"075596f237e9dcd99027c3eb0247d079","time":{"start":1762306364735,"stop":1762306395725,"duration":30990},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1762306301986,"stop":1762306301986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1762306301986,"stop":1762306301986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1762306301986,"stop":1762306301986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1762306301986,"stop":1762306301986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1762306301986,"stop":1762306301986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1762306301986,"stop":1762306301986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1762306301986,"stop":1762306301986,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1762306363345,"stop":1762306363348,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1762306363348,"stop":1762306363349,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1762306363348,"stop":1762306364215,"duration":867},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1762306364215,"stop":1762306364215,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1762306364215,"stop":1762306364216,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1762306364216,"stop":1762306364216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1762306364216,"stop":1762306364216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1762306364217,"stop":1762306364217,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1762306364217,"stop":1762306364218,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1762306364217,"stop":1762306364217,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1762306364218,"stop":1762306364735,"duration":517},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1762306364218,"stop":1762306364735,"duration":517},"status":"passed","steps":[],"attachments":[{"uid":"1e33e0fc26ba244a","name":"Executed CLI command","source":"1e33e0fc26ba244a.txt","type":"text/plain","size":15},{"uid":"c09c834cd48eb73f","name":"Executed CLI command output","source":"c09c834cd48eb73f.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1762306364736,"stop":1762306381304,"duration":16568},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1762306364736,"stop":1762306364964,"duration":228},"status":"passed","steps":[],"attachments":[{"uid":"ddb3b3771b2ea5f9","name":"Page URL","source":"ddb3b3771b2ea5f9.txt","type":"text/plain","size":29},{"uid":"e83306b67f139cd7","name":"HTTP 200 - GET config","source":"e83306b67f139cd7.txt","type":"text/plain","size":673},{"uid":"1b2e9b1f177ca374","name":"Screenshot: Verify that Auth page displayed (success)","source":"1b2e9b1f177ca374.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1762306364964,"stop":1762306366579,"duration":1615},"status":"passed","steps":[],"attachments":[{"uid":"b5364d61d47e4a4c","name":"Page URL","source":"b5364d61d47e4a4c.txt","type":"text/plain","size":33},{"uid":"f6a987b83ce7b8aa","name":"Screenshot: Click login button (success)","source":"f6a987b83ce7b8aa.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1762306366579,"stop":1762306367239,"duration":660},"status":"passed","steps":[],"attachments":[{"uid":"e00b21c69a6f723d","name":"Page URL","source":"e00b21c69a6f723d.txt","type":"text/plain","size":33},{"uid":"3b32304b59e88728","name":"Screenshot: Verify that Login page displayed (success)","source":"3b32304b59e88728.png","type":"image/png","size":41599}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1762306367239,"stop":1762306367554,"duration":315},"status":"passed","steps":[],"attachments":[{"uid":"b20fba31a494b247","name":"Page URL","source":"b20fba31a494b247.txt","type":"text/plain","size":215},{"uid":"afe9f063770749d5","name":"Screenshot: Enter email (success)","source":"afe9f063770749d5.png","type":"image/png","size":45765}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1762306367555,"stop":1762306367871,"duration":316},"status":"passed","steps":[],"attachments":[{"uid":"84665b33fdb6fe1a","name":"Page URL","source":"84665b33fdb6fe1a.txt","type":"text/plain","size":215},{"uid":"a713f318d565e76e","name":"Screenshot: Enter password (success)","source":"a713f318d565e76e.png","type":"image/png","size":45910}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1762306367871,"stop":1762306380122,"duration":12251},"status":"passed","steps":[],"attachments":[{"uid":"e5aeb0c7aec4e50","name":"Page URL","source":"e5aeb0c7aec4e50.txt","type":"text/plain","size":215},{"uid":"8d43b3c8b82f07de","name":"HTTP 200 - GET config","source":"8d43b3c8b82f07de.txt","type":"text/plain","size":771},{"uid":"ccd92b0f9c7b024e","name":"HTTP 200 - GET permissions?uri=blob:","source":"ccd92b0f9c7b024e.txt","type":"text/plain","size":182},{"uid":"17a429cd67422a6d","name":"HTTP 200 - GET regression-m0m33y1mab?include=clusters&include=system_role","source":"17a429cd67422a6d.txt","type":"text/plain","size":407},{"uid":"7d85c3a34aaa708e","name":"HTTP 200 - GET regression-m0m33y1mab?include=orgs","source":"7d85c3a34aaa708e.txt","type":"text/plain","size":379},{"uid":"edcae9a7910f10f8","name":"HTTP 200 - GET incoming","source":"edcae9a7910f10f8.txt","type":"text/plain","size":156},{"uid":"d94a546087b7e3f0","name":"Screenshot: Click Continue button (success)","source":"d94a546087b7e3f0.png","type":"image/png","size":160042}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1762306380131,"stop":1762306381221,"duration":1090},"status":"passed","steps":[],"attachments":[{"uid":"3c383ca3ba11c612","name":"Page URL","source":"3c383ca3ba11c612.txt","type":"text/plain","size":44},{"uid":"5713bc6c3a03dc0","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"5713bc6c3a03dc0.png","type":"image/png","size":160042}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"716927f125202b42","name":"Page URL","source":"716927f125202b42.txt","type":"text/plain","size":29},{"uid":"37cef078622bbdb7","name":"Screenshot: Login via UI (success)","source":"37cef078622bbdb7.png","type":"image/png","size":160042}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1762306381304,"stop":1762306394875,"duration":13571},"status":"passed","steps":[{"name":"Reload page","time":{"start":1762306394115,"stop":1762306394790,"duration":675},"status":"passed","steps":[{"name":"Reload page","time":{"start":1762306394115,"stop":1762306394713,"duration":598},"status":"passed","steps":[],"attachments":[{"uid":"c0a155afbce8e9d7","name":"Page URL","source":"c0a155afbce8e9d7.txt","type":"text/plain","size":44},{"uid":"69765a35eaec6122","name":"HTTP 200 - GET config","source":"69765a35eaec6122.txt","type":"text/plain","size":2137},{"uid":"e1c85ba3b39c18a3","name":"HTTP 200 - GET regression-m0m33y1mab?include=clusters&include=system_role","source":"e1c85ba3b39c18a3.txt","type":"text/plain","size":529},{"uid":"b0fba844b4e5fe4f","name":"HTTP 200 - GET permissions?uri=blob:","source":"b0fba844b4e5fe4f.txt","type":"text/plain","size":255},{"uid":"33742579a0b24df7","name":"HTTP 200 - GET incoming","source":"33742579a0b24df7.txt","type":"text/plain","size":156},{"uid":"3d7a996fc1991ff0","name":"HTTP 200 - GET regression-m0m33y1mab?include=orgs","source":"3d7a996fc1991ff0.txt","type":"text/plain","size":474},{"uid":"df80caa0c8dbeed4","name":"HTTP 200 - GET regression-org-48th875j8lmo","source":"df80caa0c8dbeed4.txt","type":"text/plain","size":444},{"uid":"99a7f7a1cdd69624","name":"HTTP 200 - GET tags","source":"99a7f7a1cdd69624.txt","type":"text/plain","size":867},{"uid":"8d7be07f5fa437","name":"Screenshot: Reload page (success)","source":"8d7be07f5fa437.png","type":"image/png","size":57032}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e577acfeab85b82c","name":"Page URL","source":"e577acfeab85b82c.txt","type":"text/plain","size":44},{"uid":"c3b86adcb3c1ab80","name":"Screenshot: Reload page (success)","source":"c3b86adcb3c1ab80.png","type":"image/png","size":57032}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a4b37c8639217eba","name":"Page URL","source":"a4b37c8639217eba.txt","type":"text/plain","size":44},{"uid":"190f5c1514c63a98","name":"Screenshot: Add organization via API and reload page (success)","source":"190f5c1514c63a98.png","type":"image/png","size":57032}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1762306394875,"stop":1762306395724,"duration":849},"status":"passed","steps":[],"attachments":[{"uid":"f80b2044ad698696","name":"Executed CLI command","source":"f80b2044ad698696.txt","type":"text/plain","size":1114},{"uid":"47220a6b670a3d39","name":"Executed CLI command output","source":"47220a6b670a3d39.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1762306395724,"stop":1762306395724,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"cfbc84360311a3ec","name":"Executed CLI command","source":"cfbc84360311a3ec.txt","type":"text/plain","size":1114},{"uid":"8255835896f5ded0","name":"Executed CLI command output","source":"8255835896f5ded0.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b0aae38deb1a065c","name":"log","source":"b0aae38deb1a065c.txt","type":"text/plain","size":19237}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":40,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1762306395725,"stop":1762306395726,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1762306395726,"stop":1762306395726,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1762306395726,"stop":1762306400077,"duration":4351},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1762306395726,"stop":1762306400077,"duration":4351},"status":"passed","steps":[{"name":"Delete organisation: regression-org-48th875j8lmo","time":{"start":1762306399578,"stop":1762306400038,"duration":460},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1762306400078,"stop":1762306400078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1762306400079,"stop":1762306400079,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"3560-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":71,"unknown":0,"total":71},"items":[{"uid":"a18c06dba2c3003","status":"passed","time":{"start":1762219967592,"stop":1762219997525,"duration":29933}},{"uid":"411ff61f6a91b412","status":"passed","time":{"start":1762133639207,"stop":1762133671536,"duration":32329}},{"uid":"e64e2ac0efe2324b","status":"passed","time":{"start":1762047261999,"stop":1762047291741,"duration":29742}},{"uid":"95f11fb4e42e313","status":"passed","time":{"start":1761960736050,"stop":1761960766578,"duration":30528}},{"uid":"561584117a02e58e","status":"passed","time":{"start":1761874512771,"stop":1761874542718,"duration":29947}},{"uid":"ae1cba64e9a2d92f","status":"passed","time":{"start":1761788054153,"stop":1761788088583,"duration":34430}},{"uid":"d46f257068147237","status":"passed","time":{"start":1761701642912,"stop":1761701680884,"duration":37972}},{"uid":"88165879b973d31e","status":"passed","time":{"start":1761615561495,"stop":1761615595059,"duration":33564}},{"uid":"8436cdddd6b6228","status":"passed","time":{"start":1761593119602,"stop":1761593149869,"duration":30267}},{"uid":"ed0b0a5ffeedb66e","status":"passed","time":{"start":1761559522635,"stop":1761559573303,"duration":50668}},{"uid":"cd0aa5304f5c265c","status":"passed","time":{"start":1759550605068,"stop":1759550627424,"duration":22356}},{"uid":"ea424f3f01fdb754","status":"passed","time":{"start":1759463991449,"stop":1759464023608,"duration":32159}},{"uid":"39dd5d786703e040","status":"passed","time":{"start":1759380537706,"stop":1759380566867,"duration":29161}},{"uid":"a7cab5aba9cca80","status":"passed","time":{"start":1759288373757,"stop":1759288400430,"duration":26673}},{"uid":"10e001f50d4b637a","status":"passed","time":{"start":1759201902757,"stop":1759201929227,"duration":26470}},{"uid":"d38fc2c630b9b535","status":"passed","time":{"start":1759159609619,"stop":1759159640715,"duration":31096}},{"uid":"231330e5571d285","status":"passed","time":{"start":1759116255827,"stop":1759116278347,"duration":22520}},{"uid":"ed0b3f1ef0888c7c","status":"passed","time":{"start":1759029898113,"stop":1759029924885,"duration":26772}},{"uid":"c686391351173997","status":"passed","time":{"start":1758943345663,"stop":1758943372330,"duration":26667}},{"uid":"57f8d7c1f404a346","status":"passed","time":{"start":1758855980340,"stop":1758855997816,"duration":17476}}]},"tags":["asyncio"]},"source":"e3d63bae48003ea9.json","parameterValues":[]}