{"uid":"234293c18e4a1bdf","name":"User with organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_with_token_cli","historyId":"075596f237e9dcd99027c3eb0247d079","time":{"start":1764984859487,"stop":1764984904616,"duration":45129},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1764984673127,"stop":1764984673127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764984673127,"stop":1764984673128,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1764984673127,"stop":1764984673127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764984673127,"stop":1764984673127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1764984673128,"stop":1764984673128,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1764984673128,"stop":1764984673128,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1764984673128,"stop":1764984673128,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1764984858153,"stop":1764984858156,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1764984858156,"stop":1764984858966,"duration":810},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1764984858156,"stop":1764984858157,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1764984858966,"stop":1764984858966,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1764984858966,"stop":1764984858967,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1764984858966,"stop":1764984858966,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1764984858967,"stop":1764984858968,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1764984858967,"stop":1764984858967,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1764984858967,"stop":1764984858967,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1764984858968,"stop":1764984859487,"duration":519},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1764984858968,"stop":1764984859487,"duration":519},"status":"passed","steps":[],"attachments":[{"uid":"540453c36c296d31","name":"Executed CLI command","source":"540453c36c296d31.txt","type":"text/plain","size":15},{"uid":"6020ab3c6104432e","name":"Executed CLI command output","source":"6020ab3c6104432e.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1764984858968,"stop":1764984858968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1764984859488,"stop":1764984875108,"duration":15620},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1764984859488,"stop":1764984859714,"duration":226},"status":"passed","steps":[],"attachments":[{"uid":"3d0c9857c97ccb21","name":"Page URL","source":"3d0c9857c97ccb21.txt","type":"text/plain","size":29},{"uid":"3b634ed05b2e9f5f","name":"HTTP 200 - GET config","source":"3b634ed05b2e9f5f.txt","type":"text/plain","size":673},{"uid":"c172e72315141e01","name":"Screenshot: Verify that Auth page displayed (success)","source":"c172e72315141e01.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1764984859714,"stop":1764984860775,"duration":1061},"status":"passed","steps":[],"attachments":[{"uid":"ac110b8509b36df4","name":"Page URL","source":"ac110b8509b36df4.txt","type":"text/plain","size":33},{"uid":"11867e92771c133f","name":"Screenshot: Click login button (success)","source":"11867e92771c133f.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1764984860775,"stop":1764984860874,"duration":99},"status":"passed","steps":[],"attachments":[{"uid":"d748870279eaa611","name":"Page URL","source":"d748870279eaa611.txt","type":"text/plain","size":215},{"uid":"283af07b22a83a71","name":"Screenshot: Verify that Login page displayed (success)","source":"283af07b22a83a71.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1764984860874,"stop":1764984861193,"duration":319},"status":"passed","steps":[],"attachments":[{"uid":"74d7a78ff16798b7","name":"Page URL","source":"74d7a78ff16798b7.txt","type":"text/plain","size":215},{"uid":"5cfe4f80c1eacd19","name":"Screenshot: Enter email (success)","source":"5cfe4f80c1eacd19.png","type":"image/png","size":45957}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1764984861193,"stop":1764984861509,"duration":316},"status":"passed","steps":[],"attachments":[{"uid":"5716e5016e1aa789","name":"Page URL","source":"5716e5016e1aa789.txt","type":"text/plain","size":215},{"uid":"83af5176f9df183c","name":"Screenshot: Enter password (success)","source":"83af5176f9df183c.png","type":"image/png","size":46081}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1764984861510,"stop":1764984873932,"duration":12422},"status":"passed","steps":[],"attachments":[{"uid":"46ce288b766e607a","name":"Page URL","source":"46ce288b766e607a.txt","type":"text/plain","size":215},{"uid":"2adf1dfd101a78f3","name":"HTTP 200 - GET config","source":"2adf1dfd101a78f3.txt","type":"text/plain","size":771},{"uid":"c033e9521e5988e3","name":"HTTP 200 - GET permissions?uri=blob:","source":"c033e9521e5988e3.txt","type":"text/plain","size":182},{"uid":"30e5e3be0c836592","name":"HTTP 200 - GET incoming","source":"30e5e3be0c836592.txt","type":"text/plain","size":156},{"uid":"6512a101278f676a","name":"HTTP 200 - GET regression-050folnlx9?include=clusters&include=system_role","source":"6512a101278f676a.txt","type":"text/plain","size":407},{"uid":"a23fe1e8a60ba6b6","name":"HTTP 200 - GET regression-050folnlx9?include=orgs","source":"a23fe1e8a60ba6b6.txt","type":"text/plain","size":379},{"uid":"379f59cf94182cea","name":"Screenshot: Click Continue button (success)","source":"379f59cf94182cea.png","type":"image/png","size":160376}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1764984873940,"stop":1764984875028,"duration":1088},"status":"passed","steps":[],"attachments":[{"uid":"9a559a3b97b22e86","name":"Page URL","source":"9a559a3b97b22e86.txt","type":"text/plain","size":44},{"uid":"2cb020fb1efdacb1","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"2cb020fb1efdacb1.png","type":"image/png","size":160376}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c6edabb95894e5da","name":"Page URL","source":"c6edabb95894e5da.txt","type":"text/plain","size":29},{"uid":"4bc3bee522c4d9c1","name":"Screenshot: Login via UI (success)","source":"4bc3bee522c4d9c1.png","type":"image/png","size":160376}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1764984875108,"stop":1764984903794,"duration":28686},"status":"passed","steps":[{"name":"Reload page","time":{"start":1764984902744,"stop":1764984903727,"duration":983},"status":"passed","steps":[{"name":"Reload page","time":{"start":1764984902744,"stop":1764984903665,"duration":921},"status":"passed","steps":[],"attachments":[{"uid":"4b8845e23c980853","name":"Page URL","source":"4b8845e23c980853.txt","type":"text/plain","size":44},{"uid":"e6a04b04a87296f2","name":"HTTP 200 - GET config","source":"e6a04b04a87296f2.txt","type":"text/plain","size":2137},{"uid":"c1f9f7d2ef7ee535","name":"HTTP 200 - GET incoming","source":"c1f9f7d2ef7ee535.txt","type":"text/plain","size":156},{"uid":"e8dc865e71600d83","name":"HTTP 200 - GET permissions?uri=blob:","source":"e8dc865e71600d83.txt","type":"text/plain","size":255},{"uid":"fa6f8af5a66562e2","name":"HTTP 200 - GET regression-050folnlx9?include=clusters&include=system_role","source":"fa6f8af5a66562e2.txt","type":"text/plain","size":529},{"uid":"9289aac81a623dd3","name":"HTTP 200 - GET regression-org-fghp2ynnc85d","source":"9289aac81a623dd3.txt","type":"text/plain","size":444},{"uid":"4d9bdc52013e0b66","name":"HTTP 200 - GET regression-050folnlx9?include=orgs","source":"4d9bdc52013e0b66.txt","type":"text/plain","size":474},{"uid":"62f58c5c33350c82","name":"HTTP 200 - GET tags","source":"62f58c5c33350c82.txt","type":"text/plain","size":948},{"uid":"a10b45a7468c4940","name":"Screenshot: Reload page (success)","source":"a10b45a7468c4940.png","type":"image/png","size":58165}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8ed344b614b833b7","name":"Page URL","source":"8ed344b614b833b7.txt","type":"text/plain","size":44},{"uid":"d9c30f0adebf2abe","name":"Screenshot: Reload page (success)","source":"d9c30f0adebf2abe.png","type":"image/png","size":58165}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1538e5c5f6142a2e","name":"Page URL","source":"1538e5c5f6142a2e.txt","type":"text/plain","size":44},{"uid":"e03fb895acffba8","name":"Screenshot: Add organization via API and reload page (success)","source":"e03fb895acffba8.png","type":"image/png","size":58165}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1764984903794,"stop":1764984904615,"duration":821},"status":"passed","steps":[],"attachments":[{"uid":"7e1e8e19381dc571","name":"Executed CLI command","source":"7e1e8e19381dc571.txt","type":"text/plain","size":1114},{"uid":"68e3402c468b4f27","name":"Executed CLI command output","source":"68e3402c468b4f27.txt","type":"text/plain","size":230}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1764984904615,"stop":1764984904616,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"e1ceab74dc994512","name":"Executed CLI command","source":"e1ceab74dc994512.txt","type":"text/plain","size":1114},{"uid":"be1268482357686d","name":"Executed CLI command output","source":"be1268482357686d.txt","type":"text/plain","size":230}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a9ffcfac6403a323","name":"log","source":"a9ffcfac6403a323.txt","type":"text/plain","size":19572}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":40,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1764984904617,"stop":1764984904617,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1764984904617,"stop":1764984904617,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1764984904617,"stop":1764984911464,"duration":6847},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1764984904617,"stop":1764984911464,"duration":6847},"status":"passed","steps":[{"name":"Delete organisation: regression-org-fghp2ynnc85d","time":{"start":1764984909154,"stop":1764984911422,"duration":2268},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1764984911465,"stop":1764984911465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1764984911466,"stop":1764984911467,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"3135-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":102,"unknown":0,"total":102},"items":[{"uid":"c45ba1a42fbf2005","status":"passed","time":{"start":1764898500529,"stop":1764898544031,"duration":43502}},{"uid":"54bfc7214b61d51e","status":"passed","time":{"start":1764811995111,"stop":1764812028562,"duration":33451}},{"uid":"bbaec8032dcee9ed","status":"passed","time":{"start":1764725580940,"stop":1764725617423,"duration":36483}},{"uid":"42d92889928b294c","status":"passed","time":{"start":1764639313396,"stop":1764639346798,"duration":33402}},{"uid":"c7e6d6964a233919","status":"passed","time":{"start":1764552850315,"stop":1764552887213,"duration":36898}},{"uid":"b826afc6bb4b911d","status":"passed","time":{"start":1764466417883,"stop":1764466450957,"duration":33074}},{"uid":"143705a68230a814","status":"passed","time":{"start":1764380034422,"stop":1764380076570,"duration":42148}},{"uid":"400d90cca8450977","status":"passed","time":{"start":1764293563019,"stop":1764293593432,"duration":30413}},{"uid":"89cc89159cac985f","status":"passed","time":{"start":1764207198122,"stop":1764207235088,"duration":36966}},{"uid":"59ce48e882d52bbd","status":"passed","time":{"start":1764120771944,"stop":1764120813565,"duration":41621}},{"uid":"dcf61e466fb17edb","status":"passed","time":{"start":1764034375502,"stop":1764034413471,"duration":37969}},{"uid":"4c01d5abb3fd5ec9","status":"passed","time":{"start":1763947973142,"stop":1763948021598,"duration":48456}},{"uid":"a640bea4ee1d4b22","status":"passed","time":{"start":1763861569579,"stop":1763861602688,"duration":33109}},{"uid":"26b8839e583c7961","status":"passed","time":{"start":1763775125021,"stop":1763775193707,"duration":68686}},{"uid":"a5c388065a886821","status":"passed","time":{"start":1763688839530,"stop":1763688870956,"duration":31426}},{"uid":"99cee693bb482e2d","status":"passed","time":{"start":1763602481767,"stop":1763602513153,"duration":31386}},{"uid":"c29c1ef10bda7e24","status":"passed","time":{"start":1763516042076,"stop":1763516074918,"duration":32842}},{"uid":"5d89a9299394de1f","status":"passed","time":{"start":1763429542213,"stop":1763429579687,"duration":37474}},{"uid":"fdd3b911a8e78019","status":"passed","time":{"start":1763343247276,"stop":1763343281420,"duration":34144}},{"uid":"c0987b9b473985b9","status":"passed","time":{"start":1763256757233,"stop":1763256802602,"duration":45369}}]},"tags":["asyncio"]},"source":"234293c18e4a1bdf.json","parameterValues":[]}