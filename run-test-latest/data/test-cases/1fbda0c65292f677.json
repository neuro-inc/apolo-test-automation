{"uid":"1fbda0c65292f677","name":"Verify Admin can purchase organization credits with custom amount","fullName":"tests.test_cases.tests_ui.test_credits_purchase.TestUICreditsPurchase#test_admin_purchase_credits","historyId":"fd4c09752399b53a74b87a0aea0bec06","time":{"start":1757041375177,"stop":1757041427144,"duration":51967},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n\n### Verify that:\n\n- Admin can purchase credits by input custom amount.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Admin can purchase credits by input custom amount.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Payment page displayed\nMessage: Payment page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/payment_page_steps.py:14: in verify_ui_page_displayed\n    assert await self._pm.payment_page.is_loaded(email=email), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Payment page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:149: in test_admin_purchase_credits\n    await steps.payment_page.verify_ui_page_displayed(email=user.email)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify that Payment page displayed\nE   Message: Payment page should be displayed!","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1757035899253,"stop":1757035899254,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1757035899253,"stop":1757035899253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1757035899253,"stop":1757035899253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757035899253,"stop":1757035899253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757035899254,"stop":1757035899254,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1757035899254,"stop":1757035929254,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1757035929255,"stop":1757035929255,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1757041372946,"stop":1757041372948,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757041372948,"stop":1757041375174,"duration":2226},"status":"passed","steps":[],"attachments":[{"uid":"9920ceee231de89c","name":"HTTP 200 - GET config","source":"9920ceee231de89c.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757041372948,"stop":1757041372948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1757041375174,"stop":1757041375175,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1757041375175,"stop":1757041375175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757041375175,"stop":1757041375176,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1757041375175,"stop":1757041375175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757041375175,"stop":1757041375175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1757041375176,"stop":1757041375176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1757041375176,"stop":1757041375176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1757041375176,"stop":1757041375176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n\n### Verify that:\n\n- Admin can purchase credits by input custom amount.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Admin can purchase credits by input custom amount.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Payment page displayed\nMessage: Payment page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/payment_page_steps.py:14: in verify_ui_page_displayed\n    assert await self._pm.payment_page.is_loaded(email=email), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Payment page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:149: in test_admin_purchase_credits\n    await steps.payment_page.verify_ui_page_displayed(email=user.email)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify that Payment page displayed\nE   Message: Payment page should be displayed!","steps":[{"name":"Login via UI","time":{"start":1757041375177,"stop":1757041380425,"duration":5248},"status":"passed","steps":[{"name":"Click login button","time":{"start":1757041375178,"stop":1757041376279,"duration":1101},"status":"passed","steps":[],"attachments":[{"uid":"63b31207d4468763","name":"Page URL","source":"63b31207d4468763.txt","type":"text/plain","size":33},{"uid":"f13d1f87aacbdd38","name":"Screenshot: Click login button (success)","source":"f13d1f87aacbdd38.png","type":"image/png","size":41537}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757041376279,"stop":1757041376443,"duration":164},"status":"passed","steps":[],"attachments":[{"uid":"8ebb32014d0d888d","name":"Page URL","source":"8ebb32014d0d888d.txt","type":"text/plain","size":215},{"uid":"ce7c781c0d279be0","name":"Screenshot: Enter email (success)","source":"ce7c781c0d279be0.png","type":"image/png","size":46533}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757041376443,"stop":1757041376596,"duration":153},"status":"passed","steps":[],"attachments":[{"uid":"29c791672ca1609f","name":"Page URL","source":"29c791672ca1609f.txt","type":"text/plain","size":215},{"uid":"433993ff3e42880e","name":"Screenshot: Enter password (success)","source":"433993ff3e42880e.png","type":"image/png","size":47058}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1757041376597,"stop":1757041379214,"duration":2617},"status":"passed","steps":[],"attachments":[{"uid":"74b51f12a1700c62","name":"Page URL","source":"74b51f12a1700c62.txt","type":"text/plain","size":215},{"uid":"871267c10bbc708f","name":"HTTP 200 - GET config","source":"871267c10bbc708f.txt","type":"text/plain","size":752},{"uid":"cdcedde7155cb3e4","name":"HTTP 200 - GET permissions?uri=blob:","source":"cdcedde7155cb3e4.txt","type":"text/plain","size":163},{"uid":"b5c12a468f10ae93","name":"HTTP 200 - GET regression-e27snc45yo?include=clusters&include=system_role","source":"b5c12a468f10ae93.txt","type":"text/plain","size":388},{"uid":"1c300870b259280a","name":"HTTP 200 - GET incoming","source":"1c300870b259280a.txt","type":"text/plain","size":137},{"uid":"ea31dd3206c9d487","name":"HTTP 200 - GET regression-e27snc45yo?include=orgs","source":"ea31dd3206c9d487.txt","type":"text/plain","size":360},{"uid":"5cd2a9f3d77035a1","name":"Screenshot: Click Continue button (success)","source":"5cd2a9f3d77035a1.png","type":"image/png","size":160182}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757041379232,"stop":1757041380329,"duration":1097},"status":"passed","steps":[],"attachments":[{"uid":"f496a1e162b1abe4","name":"Page URL","source":"f496a1e162b1abe4.txt","type":"text/plain","size":44},{"uid":"e9e794c61d3cab09","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"e9e794c61d3cab09.png","type":"image/png","size":160182}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"51bc9d044f4e2e1b","name":"Page URL","source":"51bc9d044f4e2e1b.txt","type":"text/plain","size":33},{"uid":"527fa0111a0d66e3","name":"Screenshot: Login via UI (success)","source":"527fa0111a0d66e3.png","type":"image/png","size":160182}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1757041380426,"stop":1757041394994,"duration":14568},"status":"passed","steps":[{"name":"Reload page","time":{"start":1757041388130,"stop":1757041394912,"duration":6782},"status":"passed","steps":[],"attachments":[{"uid":"59da2450276e73a4","name":"Page URL","source":"59da2450276e73a4.txt","type":"text/plain","size":44},{"uid":"24ecbe03708dce9a","name":"HTTP 200 - GET config","source":"24ecbe03708dce9a.txt","type":"text/plain","size":1118},{"uid":"208cbb36470fac73","name":"HTTP 200 - GET permissions?uri=blob:","source":"208cbb36470fac73.txt","type":"text/plain","size":236},{"uid":"39762b462e9606fe","name":"HTTP 200 - GET regression-e27snc45yo?include=clusters&include=system_role","source":"39762b462e9606fe.txt","type":"text/plain","size":510},{"uid":"f1e90063cd4d0fdd","name":"HTTP 200 - GET regression-e27snc45yo?include=orgs","source":"f1e90063cd4d0fdd.txt","type":"text/plain","size":455},{"uid":"58e8671bfce6b8bd","name":"HTTP 200 - GET regression-org-eu49g6bqo7v1","source":"58e8671bfce6b8bd.txt","type":"text/plain","size":425},{"uid":"8d105348c8a528f1","name":"HTTP 200 - GET incoming","source":"8d105348c8a528f1.txt","type":"text/plain","size":137},{"uid":"3cb680ec7f443a2b","name":"Screenshot: Reload page (success)","source":"3cb680ec7f443a2b.png","type":"image/png","size":56815}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a6f23ee0a04c8702","name":"Page URL","source":"a6f23ee0a04c8702.txt","type":"text/plain","size":44},{"uid":"99435482888c7862","name":"Screenshot: Add organization via API and reload page (success)","source":"99435482888c7862.png","type":"image/png","size":56815}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Verify Credits button on the top pane of the main page is enabled","time":{"start":1757041394994,"stop":1757041395076,"duration":82},"status":"passed","steps":[],"attachments":[{"uid":"f8cfc1c77b9e800d","name":"Page URL","source":"f8cfc1c77b9e800d.txt","type":"text/plain","size":81},{"uid":"60de17ad366de4b0","name":"Screenshot: Verify Credits button on the top pane of the main page is enabled (success)","source":"60de17ad366de4b0.png","type":"image/png","size":56815}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Get current credits amount","time":{"start":1757041395076,"stop":1757041395145,"duration":69},"status":"passed","steps":[],"attachments":[{"uid":"261920deeda68d8c","name":"Page URL","source":"261920deeda68d8c.txt","type":"text/plain","size":81},{"uid":"19b71a2d729814e0","name":"Screenshot: Get current credits amount (success)","source":"19b71a2d729814e0.png","type":"image/png","size":56815}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Credits button on the top pane of the main page","time":{"start":1757041395145,"stop":1757041395854,"duration":709},"status":"passed","steps":[],"attachments":[{"uid":"22ebb9dd5e6b5d47","name":"Page URL","source":"22ebb9dd5e6b5d47.txt","type":"text/plain","size":81},{"uid":"ba371e015bd5e611","name":"Screenshot: Click Credits button on the top pane of the main page (success)","source":"ba371e015bd5e611.png","type":"image/png","size":78811}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify Buy credits popup displayed","time":{"start":1757041395854,"stop":1757041396002,"duration":148},"status":"passed","steps":[],"attachments":[{"uid":"16a7b79ac3bfbc6e","name":"Page URL","source":"16a7b79ac3bfbc6e.txt","type":"text/plain","size":81},{"uid":"9191f31d1e2490b","name":"Screenshot: Verify Buy credits popup displayed (success)","source":"9191f31d1e2490b.png","type":"image/png","size":77114}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter credits amount","time":{"start":1757041396002,"stop":1757041396168,"duration":166},"status":"passed","steps":[],"attachments":[{"uid":"eb6296893e0a6020","name":"Page URL","source":"eb6296893e0a6020.txt","type":"text/plain","size":81},{"uid":"f06243185c32d5a4","name":"Screenshot: Enter credits amount (success)","source":"f06243185c32d5a4.png","type":"image/png","size":67754}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Buy credits button","time":{"start":1757041396168,"stop":1757041396834,"duration":666},"status":"passed","steps":[],"attachments":[{"uid":"4f3921fb99d84ccf","name":"Page URL","source":"4f3921fb99d84ccf.txt","type":"text/plain","size":81},{"uid":"62304eef74e3bea3","name":"Screenshot: Click Buy credits button (success)","source":"62304eef74e3bea3.png","type":"image/png","size":60938}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Payment page displayed","time":{"start":1757041396834,"stop":1757041427143,"duration":30309},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Payment page displayed\nMessage: Payment page should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"da316ae9c7882fd7","name":"Page URL","source":"da316ae9c7882fd7.txt","type":"text/plain","size":81},{"uid":"27f84e083378443d","name":"HTTP 200 - POST checkout","source":"27f84e083378443d.txt","type":"text/plain","size":150},{"uid":"857ef18f326b98e","name":"Screenshot: Verify that Payment page displayed (fail)","source":"857ef18f326b98e.png","type":"image/png","size":54569}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e5ad6c250a4fb7d8","name":"log","source":"e5ad6c250a4fb7d8.txt","type":"text/plain","size":41135}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":43,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1757041427154,"stop":1757041431338,"duration":4184},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757041427154,"stop":1757041431338,"duration":4184},"status":"passed","steps":[{"name":"Delete organisation: regression-org-eu49g6bqo7v1","time":{"start":1757041430929,"stop":1757041431281,"duration":352},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1757041427154,"stop":1757041427154,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757041431339,"stop":1757041431339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757041431340,"stop":1757041431341,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"UI Tests"},{"name":"suite","value":"UI Credits Purchase"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUICreditsPurchase"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"5993-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_credits_purchase"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"1fbda0c65292f677.json","parameterValues":[]}