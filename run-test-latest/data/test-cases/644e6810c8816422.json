{"uid":"644e6810c8816422","name":"Admin create second secret via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_second_secret_cli","historyId":"845e221e8b146c443519ec46a03e8fea","time":{"start":1759463794635,"stop":1759463860604,"duration":65969},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create first secret via **CLI**.\n\n### Verify that:\n\n- User can create second secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create first secret via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1759463791823,"stop":1759463791827,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759463791827,"stop":1759463791827,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759463791827,"stop":1759463794108,"duration":2281},"status":"passed","steps":[],"attachments":[{"uid":"f2b52d440384851","name":"HTTP 200 - GET config","source":"f2b52d440384851.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1759463794108,"stop":1759463794109,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759463794109,"stop":1759463794110,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759463794109,"stop":1759463794109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759463794109,"stop":1759463794109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759463794109,"stop":1759463794109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759463794110,"stop":1759463794110,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759463794110,"stop":1759463794110,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759463794110,"stop":1759463794634,"duration":524},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759463794111,"stop":1759463794634,"duration":523},"status":"passed","steps":[],"attachments":[{"uid":"e653f07164652492","name":"Executed CLI command","source":"e653f07164652492.txt","type":"text/plain","size":15},{"uid":"189526308c6b942c","name":"Executed CLI command output","source":"189526308c6b942c.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create first secret via **CLI**.\n\n### Verify that:\n\n- User can create second secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create first secret via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1759463794635,"stop":1759463800683,"duration":6048},"status":"passed","steps":[{"name":"Click login button","time":{"start":1759463794635,"stop":1759463795752,"duration":1117},"status":"passed","steps":[],"attachments":[{"uid":"525796d20b54827e","name":"Page URL","source":"525796d20b54827e.txt","type":"text/plain","size":33},{"uid":"69dddc5710b8a98c","name":"Screenshot: Click login button (success)","source":"69dddc5710b8a98c.png","type":"image/png","size":41537}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759463795752,"stop":1759463796099,"duration":347},"status":"passed","steps":[],"attachments":[{"uid":"1e807ebdb136733a","name":"Page URL","source":"1e807ebdb136733a.txt","type":"text/plain","size":215},{"uid":"8fe5f08f3e4d412d","name":"Screenshot: Enter email (success)","source":"8fe5f08f3e4d412d.png","type":"image/png","size":45755}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759463796099,"stop":1759463796467,"duration":368},"status":"passed","steps":[],"attachments":[{"uid":"769c8c72ce8b7f7f","name":"Page URL","source":"769c8c72ce8b7f7f.txt","type":"text/plain","size":215},{"uid":"7dd16572e2279e82","name":"Screenshot: Enter password (success)","source":"7dd16572e2279e82.png","type":"image/png","size":45902}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1759463796467,"stop":1759463799451,"duration":2984},"status":"passed","steps":[],"attachments":[{"uid":"357788d1c6f64915","name":"Page URL","source":"357788d1c6f64915.txt","type":"text/plain","size":215},{"uid":"81a041ff879f30ea","name":"HTTP 200 - GET config","source":"81a041ff879f30ea.txt","type":"text/plain","size":752},{"uid":"2320a826d54d6523","name":"HTTP 200 - GET permissions?uri=blob:","source":"2320a826d54d6523.txt","type":"text/plain","size":163},{"uid":"fc7bc4211e2de9e","name":"HTTP 200 - GET regression-b4bplc8wuo?include=orgs","source":"fc7bc4211e2de9e.txt","type":"text/plain","size":360},{"uid":"8001ec560cd106d6","name":"HTTP 200 - GET incoming","source":"8001ec560cd106d6.txt","type":"text/plain","size":137},{"uid":"3fb59072d6cc37cc","name":"HTTP 200 - GET regression-b4bplc8wuo?include=clusters&include=system_role","source":"3fb59072d6cc37cc.txt","type":"text/plain","size":388},{"uid":"513980f3cc879041","name":"Screenshot: Click Continue button (success)","source":"513980f3cc879041.png","type":"image/png","size":159676}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759463799462,"stop":1759463800585,"duration":1123},"status":"passed","steps":[],"attachments":[{"uid":"ce39aa8c57387053","name":"Page URL","source":"ce39aa8c57387053.txt","type":"text/plain","size":44},{"uid":"8d86c92ea4279062","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"8d86c92ea4279062.png","type":"image/png","size":159676}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"cdb68c9938242790","name":"Page URL","source":"cdb68c9938242790.txt","type":"text/plain","size":33},{"uid":"e405cafa7bce5b79","name":"Screenshot: Login via UI (success)","source":"e405cafa7bce5b79.png","type":"image/png","size":159676}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1759463800683,"stop":1759463815816,"duration":15133},"status":"passed","steps":[{"name":"Reload page","time":{"start":1759463812263,"stop":1759463815736,"duration":3473},"status":"passed","steps":[],"attachments":[{"uid":"6f8ad2ab2fdd7154","name":"Page URL","source":"6f8ad2ab2fdd7154.txt","type":"text/plain","size":44},{"uid":"81ea88a6fc49242b","name":"HTTP 200 - GET config","source":"81ea88a6fc49242b.txt","type":"text/plain","size":1118},{"uid":"37ab3747912649b3","name":"HTTP 200 - GET regression-b4bplc8wuo?include=orgs","source":"37ab3747912649b3.txt","type":"text/plain","size":455},{"uid":"631f869d795ff5dc","name":"HTTP 200 - GET permissions?uri=blob:","source":"631f869d795ff5dc.txt","type":"text/plain","size":236},{"uid":"3e97dc54177b58ee","name":"HTTP 200 - GET regression-b4bplc8wuo?include=clusters&include=system_role","source":"3e97dc54177b58ee.txt","type":"text/plain","size":510},{"uid":"e7ffaa6956dbde1c","name":"HTTP 200 - GET tags","source":"e7ffaa6956dbde1c.txt","type":"text/plain","size":848},{"uid":"f03998746ef0028c","name":"HTTP 200 - GET regression-org-v4csnp9c4vec","source":"f03998746ef0028c.txt","type":"text/plain","size":425},{"uid":"bc7a19ebd23a71e5","name":"Screenshot: Reload page (success)","source":"bc7a19ebd23a71e5.png","type":"image/png","size":56931}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c26cfc4f9660a838","name":"Page URL","source":"c26cfc4f9660a838.txt","type":"text/plain","size":44},{"uid":"6299f62627c53d73","name":"Screenshot: Add organization via API and reload page (success)","source":"6299f62627c53d73.png","type":"image/png","size":56931}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1759463815816,"stop":1759463816631,"duration":815},"status":"passed","steps":[],"attachments":[{"uid":"bb6bac2faa09fcef","name":"Executed CLI command","source":"bb6bac2faa09fcef.txt","type":"text/plain","size":1114},{"uid":"b56adde40e110ad8","name":"Executed CLI command output","source":"b56adde40e110ad8.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1759463816631,"stop":1759463858268,"duration":41637},"status":"passed","steps":[],"attachments":[{"uid":"7c572d62ce551b59","name":"HTTP 200 - GET incoming","source":"7c572d62ce551b59.txt","type":"text/plain","size":137},{"uid":"5a472142832091f8","name":"Executed CLI command","source":"5a472142832091f8.txt","type":"text/plain","size":114},{"uid":"11dc1372f7c2c312","name":"Executed CLI command output","source":"11dc1372f7c2c312.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1759463858269,"stop":1759463859080,"duration":811},"status":"passed","steps":[],"attachments":[{"uid":"3b8e24ad9029d8d5","name":"Executed CLI command","source":"3b8e24ad9029d8d5.txt","type":"text/plain","size":39},{"uid":"4f9053fd3931d934","name":"Executed CLI command output","source":"4f9053fd3931d934.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1759463859080,"stop":1759463859858,"duration":778},"status":"passed","steps":[],"attachments":[{"uid":"a3a2c6f7c02c8224","name":"Executed CLI command","source":"a3a2c6f7c02c8224.txt","type":"text/plain","size":43},{"uid":"15ac58dde41a3b76","name":"Executed CLI command output","source":"15ac58dde41a3b76.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"List secrets via CLI","time":{"start":1759463859858,"stop":1759463860603,"duration":745},"status":"passed","steps":[],"attachments":[{"uid":"1b372e5236789651","name":"Executed CLI command","source":"1b372e5236789651.txt","type":"text/plain","size":15},{"uid":"f035476fe54dd089","name":"Executed CLI command output","source":"f035476fe54dd089.txt","type":"text/plain","size":493}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify secret listed in list secrets output","time":{"start":1759463860603,"stop":1759463860603,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify secret listed in list secrets output","time":{"start":1759463860603,"stop":1759463860604,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"327905f06056a99d","name":"log","source":"327905f06056a99d.txt","type":"text/plain","size":21309}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":15,"attachmentsCount":39,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1759463860605,"stop":1759463860605,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759463860605,"stop":1759463897759,"duration":37154},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759463860605,"stop":1759463897759,"duration":37154},"status":"passed","steps":[{"name":"Delete organisation: regression-org-v4csnp9c4vec","time":{"start":1759463865005,"stop":1759463897722,"duration":32717},"status":"passed","steps":[{"name":"Delete project: regression-proj-duegokiwhl","time":{"start":1759463865187,"stop":1759463897076,"duration":31889},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1759463860605,"stop":1759463860605,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759463897760,"stop":1759463897760,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759463897761,"stop":1759463897762,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Secrets"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"3576-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":51,"unknown":0,"total":54},"items":[{"uid":"3c0075125613a67e","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Illegal argument(s) (stream timeout)","time":{"start":1759380844696,"stop":1759380900728,"duration":56032}},{"uid":"f0a529360cdf8a90","status":"passed","time":{"start":1759288264542,"stop":1759288317388,"duration":52846}},{"uid":"3cc7712a7f4d2160","status":"passed","time":{"start":1759201955924,"stop":1759201993162,"duration":37238}},{"uid":"6d47ec36b952e092","status":"passed","time":{"start":1759159601153,"stop":1759159637308,"duration":36155}},{"uid":"5347cc01457e4bf","status":"passed","time":{"start":1759116136969,"stop":1759116180376,"duration":43407}},{"uid":"d9ad994d6db4e031","status":"passed","time":{"start":1759029944298,"stop":1759029972993,"duration":28695}},{"uid":"46b84e381b54beb6","status":"passed","time":{"start":1758943468384,"stop":1758943509476,"duration":41092}},{"uid":"ef0e21d20e718bd","status":"passed","time":{"start":1758855851957,"stop":1758855893028,"duration":41071}},{"uid":"1d7a890acd34257b","status":"passed","time":{"start":1758769486178,"stop":1758769537002,"duration":50824}},{"uid":"7199f0697502f7db","status":"passed","time":{"start":1758711611263,"stop":1758711653056,"duration":41793}},{"uid":"3f66d76cf154ae20","status":"passed","time":{"start":1758696489160,"stop":1758696518590,"duration":29430}},{"uid":"106f9d9459823d70","status":"passed","time":{"start":1758684387492,"stop":1758684433134,"duration":45642}},{"uid":"517f73ecae9f083d","status":"passed","time":{"start":1758596648376,"stop":1758596685185,"duration":36809}},{"uid":"235f76e5aa807bba","status":"passed","time":{"start":1758510330319,"stop":1758510369425,"duration":39106}},{"uid":"8e6378089c958455","status":"passed","time":{"start":1758423938364,"stop":1758423976273,"duration":37909}},{"uid":"bd2c3c474ee129e6","status":"passed","time":{"start":1758337732565,"stop":1758337770822,"duration":38257}},{"uid":"3f58e4249284acb1","status":"passed","time":{"start":1758251078535,"stop":1758251113822,"duration":35287}},{"uid":"302250098563bb7b","status":"passed","time":{"start":1758164437508,"stop":1758164476548,"duration":39040}},{"uid":"bcffecb8efe6bee3","status":"passed","time":{"start":1758108078513,"stop":1758108109914,"duration":31401}},{"uid":"84ba6b1146ff30e7","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Illegal argument(s) (stream timeout)","time":{"start":1758089688563,"stop":1758089742718,"duration":54155}}]},"tags":["asyncio"]},"source":"644e6810c8816422.json","parameterValues":[]}