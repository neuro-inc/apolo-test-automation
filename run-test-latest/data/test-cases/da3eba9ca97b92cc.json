{"uid":"da3eba9ca97b92cc","name":"User creates a second organization via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_create_second_organization_cli","historyId":"3f04693ad6d2c8e029fc8b5235603349","time":{"start":1758508196453,"stop":1758508243482,"duration":47029},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n\n### Verify that:\n\n- User can create second organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1758504816785,"stop":1758504816785,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758504816785,"stop":1758504816785,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758504816785,"stop":1758504816785,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758504816786,"stop":1758504816786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1758504816786,"stop":1758504816786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1758504816786,"stop":1758504846786,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1758504846786,"stop":1758504846787,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1758508193813,"stop":1758508193816,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1758508193816,"stop":1758508195882,"duration":2066},"status":"passed","steps":[],"attachments":[{"uid":"9595412853e44bcf","name":"HTTP 200 - GET config","source":"9595412853e44bcf.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1758508193816,"stop":1758508193816,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1758508195882,"stop":1758508195882,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1758508195882,"stop":1758508195883,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1758508195882,"stop":1758508195882,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1758508195883,"stop":1758508195883,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1758508195883,"stop":1758508195884,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1758508195884,"stop":1758508196452,"duration":568},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1758508195884,"stop":1758508196452,"duration":568},"status":"passed","steps":[],"attachments":[{"uid":"421511ef93d6106b","name":"Executed CLI command","source":"421511ef93d6106b.txt","type":"text/plain","size":15},{"uid":"c1853202a227c004","name":"Executed CLI command output","source":"c1853202a227c004.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1758508195884,"stop":1758508195884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1758508195884,"stop":1758508195884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n\n### Verify that:\n\n- User can create second organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1758508196454,"stop":1758508202501,"duration":6047},"status":"passed","steps":[{"name":"Click login button","time":{"start":1758508196454,"stop":1758508197625,"duration":1171},"status":"passed","steps":[],"attachments":[{"uid":"539f93457f392de9","name":"Page URL","source":"539f93457f392de9.txt","type":"text/plain","size":33},{"uid":"ea9b2e40efe011c6","name":"Screenshot: Click login button (success)","source":"ea9b2e40efe011c6.png","type":"image/png","size":41476}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758508197625,"stop":1758508197747,"duration":122},"status":"passed","steps":[],"attachments":[{"uid":"564c9d42ffcac6d","name":"Page URL","source":"564c9d42ffcac6d.txt","type":"text/plain","size":215},{"uid":"1b4e367781e96d32","name":"Screenshot: Enter email (success)","source":"1b4e367781e96d32.png","type":"image/png","size":46357}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758508197747,"stop":1758508197899,"duration":152},"status":"passed","steps":[],"attachments":[{"uid":"ebaa1e06bff8b945","name":"Page URL","source":"ebaa1e06bff8b945.txt","type":"text/plain","size":215},{"uid":"9fb629ce6e6aea21","name":"Screenshot: Enter password (success)","source":"9fb629ce6e6aea21.png","type":"image/png","size":46869}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1758508197900,"stop":1758508201266,"duration":3366},"status":"passed","steps":[],"attachments":[{"uid":"af431a07f70f326c","name":"Page URL","source":"af431a07f70f326c.txt","type":"text/plain","size":215},{"uid":"ebb957cfcde51745","name":"HTTP 200 - GET config","source":"ebb957cfcde51745.txt","type":"text/plain","size":752},{"uid":"1b4dedd35e43e16a","name":"HTTP 200 - GET permissions?uri=blob:","source":"1b4dedd35e43e16a.txt","type":"text/plain","size":163},{"uid":"f59538ba0fd79ea6","name":"HTTP 200 - GET incoming","source":"f59538ba0fd79ea6.txt","type":"text/plain","size":137},{"uid":"5aff79d1b803469a","name":"HTTP 200 - GET regression-f2zmbgwa6w?include=orgs","source":"5aff79d1b803469a.txt","type":"text/plain","size":360},{"uid":"c4cc77fafabd0237","name":"HTTP 200 - GET regression-f2zmbgwa6w?include=clusters&include=system_role","source":"c4cc77fafabd0237.txt","type":"text/plain","size":388},{"uid":"19b9c43daba12b02","name":"Screenshot: Click Continue button (success)","source":"19b9c43daba12b02.png","type":"image/png","size":160370}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1758508201277,"stop":1758508202402,"duration":1125},"status":"passed","steps":[],"attachments":[{"uid":"6f815e70663fddc7","name":"Page URL","source":"6f815e70663fddc7.txt","type":"text/plain","size":44},{"uid":"71a80aeb6400a484","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"71a80aeb6400a484.png","type":"image/png","size":160370}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6fca253381f7127","name":"Page URL","source":"6fca253381f7127.txt","type":"text/plain","size":33},{"uid":"91fe10e3f935e26d","name":"Screenshot: Login via UI (success)","source":"91fe10e3f935e26d.png","type":"image/png","size":160370}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1758508202501,"stop":1758508203385,"duration":884},"status":"passed","steps":[],"attachments":[{"uid":"d5b9b370591650a9","name":"Executed CLI command","source":"d5b9b370591650a9.txt","type":"text/plain","size":1114},{"uid":"e4729ed5ab2748a7","name":"Executed CLI command output","source":"e4729ed5ab2748a7.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1758508203386,"stop":1758508208081,"duration":4695},"status":"passed","steps":[],"attachments":[{"uid":"b90fe4d2d00bdcc3","name":"Executed CLI command","source":"b90fe4d2d00bdcc3.txt","type":"text/plain","size":20},{"uid":"7e875e1a9dc6ec4a","name":"Executed CLI command output","source":"7e875e1a9dc6ec4a.txt","type":"text/plain","size":26}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1758508208081,"stop":1758508220321,"duration":12240},"status":"passed","steps":[],"attachments":[{"uid":"2de41e281362ee98","name":"Executed CLI command","source":"2de41e281362ee98.txt","type":"text/plain","size":1114},{"uid":"ec3df6d2f4c28f28","name":"Executed CLI command output","source":"ec3df6d2f4c28f28.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1758508220321,"stop":1758508224994,"duration":4673},"status":"passed","steps":[],"attachments":[{"uid":"87eddd576d4d40d0","name":"Executed CLI command","source":"87eddd576d4d40d0.txt","type":"text/plain","size":20},{"uid":"819fcb839d7aeb7f","name":"Executed CLI command output","source":"819fcb839d7aeb7f.txt","type":"text/plain","size":149}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization is listed in the CLI output","time":{"start":1758508224994,"stop":1758508224994,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"a0171227094150f2","name":"Executed CLI command","source":"a0171227094150f2.txt","type":"text/plain","size":20},{"uid":"3b89a7ef819c3ba3","name":"Executed CLI command output","source":"3b89a7ef819c3ba3.txt","type":"text/plain","size":149}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1758508224994,"stop":1758508239676,"duration":14682},"status":"passed","steps":[],"attachments":[{"uid":"d86436870e2df8f2","name":"Executed CLI command","source":"d86436870e2df8f2.txt","type":"text/plain","size":47},{"uid":"362f7564e51c60df","name":"Executed CLI command output","source":"362f7564e51c60df.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1758508239677,"stop":1758508243480,"duration":3803},"status":"passed","steps":[],"attachments":[{"uid":"28af901b71cf2bc6","name":"Executed CLI command","source":"28af901b71cf2bc6.txt","type":"text/plain","size":20},{"uid":"ba1854da80966444","name":"Executed CLI command output","source":"ba1854da80966444.txt","type":"text/plain","size":181}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization is listed in the CLI output","time":{"start":1758508243481,"stop":1758508243481,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"870356e19d32d066","name":"Executed CLI command","source":"870356e19d32d066.txt","type":"text/plain","size":20},{"uid":"8374b7ccb44e6450","name":"Executed CLI command output","source":"8374b7ccb44e6450.txt","type":"text/plain","size":181}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization is listed in the CLI output","time":{"start":1758508243481,"stop":1758508243481,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"bc89a6d0275d00ac","name":"Executed CLI command","source":"bc89a6d0275d00ac.txt","type":"text/plain","size":20},{"uid":"74192c2f0662ca0b","name":"Executed CLI command output","source":"74192c2f0662ca0b.txt","type":"text/plain","size":181}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d638780325d1718e","name":"log","source":"d638780325d1718e.txt","type":"text/plain","size":17474}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":15,"attachmentsCount":36,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1758508243483,"stop":1758508243483,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758508243483,"stop":1758508248558,"duration":5075},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1758508243483,"stop":1758508248558,"duration":5075},"status":"passed","steps":[{"name":"Delete organisation: regression-org-sj7wilhddz9g","time":{"start":1758508247081,"stop":1758508247387,"duration":306},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Delete organisation: regression-org-vorg2757mg62","time":{"start":1758508247387,"stop":1758508248519,"duration":1132},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1758508243483,"stop":1758508243483,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1758508248559,"stop":1758508248559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1758508248560,"stop":1758508248561,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3665-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":5,"broken":0,"skipped":0,"passed":43,"unknown":0,"total":48},"items":[{"uid":"92f86ac70afd5aa6","status":"passed","time":{"start":1758422061373,"stop":1758422110110,"duration":48737}},{"uid":"dd13931c9abfaea6","status":"passed","time":{"start":1758335558210,"stop":1758335610162,"duration":51952}},{"uid":"1b822fec7cebbe4f","status":"passed","time":{"start":1758249131869,"stop":1758249183311,"duration":51442}},{"uid":"45de1931180cfa86","status":"passed","time":{"start":1758162526019,"stop":1758162568263,"duration":42244}},{"uid":"1051dba5f5f4fdba","status":"passed","time":{"start":1758105997424,"stop":1758106056297,"duration":58873}},{"uid":"b1b68fa09ca63afa","status":"passed","time":{"start":1758083462442,"stop":1758083510009,"duration":47567}},{"uid":"dfc9f57587cd17d7","status":"passed","time":{"start":1757990360380,"stop":1757990415823,"duration":55443}},{"uid":"c790a815a2afd30c","status":"passed","time":{"start":1757904521779,"stop":1757904560689,"duration":38910}},{"uid":"182fc14277a8f544","status":"passed","time":{"start":1757817023698,"stop":1757817066585,"duration":42887}},{"uid":"3626ea08cdaeff16","status":"passed","time":{"start":1757730468125,"stop":1757730524399,"duration":56274}},{"uid":"a938411e9f0a2f4e","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify organization_count\nMessage: Expected 2 organizations, got 1","time":{"start":1757643965921,"stop":1757644017037,"duration":51116}},{"uid":"33a54ab3bdb42c5e","status":"passed","time":{"start":1757557227524,"stop":1757557269695,"duration":42171}},{"uid":"fc8113c1f0df2bab","status":"passed","time":{"start":1757471153046,"stop":1757471209927,"duration":56881}},{"uid":"3d867e5e6d6dbe3f","status":"passed","time":{"start":1757419256917,"stop":1757419313428,"duration":56511}},{"uid":"119bdf2cd137f534","status":"passed","time":{"start":1757384957003,"stop":1757384996781,"duration":39778}},{"uid":"9750a37acff5fabb","status":"passed","time":{"start":1757298457550,"stop":1757298513954,"duration":56404}},{"uid":"6aeded00e4fa68a0","status":"passed","time":{"start":1757212446635,"stop":1757212493829,"duration":47194}},{"uid":"36c7cd5360cbd88d","status":"passed","time":{"start":1757141572320,"stop":1757141614067,"duration":41747}},{"uid":"518fbb87cbe40b0f","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: You are using apolo-extras tool 24.10.0, however 25.9.0 is available.\nERROR: There are no clusters available. Please run 'apolo logout' and then 'apolo login'.","time":{"start":1757125813328,"stop":1757125833574,"duration":20246}},{"uid":"1a5f237994bde2fb","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: You are using apolo-extras tool 24.10.0, however 25.8.0 is available.\nERROR: There are no clusters available. Please run 'apolo logout' and then 'apolo login'.","time":{"start":1757039178354,"stop":1757039199125,"duration":20771}}]},"tags":["asyncio"]},"source":"da3eba9ca97b92cc.json","parameterValues":[]}