{"uid":"98d92a88732b6f7f","name":"Verify Manager cannot remove Admin from organization","fullName":"tests.test_cases.tests_ui.test_organization_remove_members.TestUIOrganizationRemoveMembers#test_manager_remove_admin_from_org","historyId":"e4354eac7ce3e561c989f13e6db125ef","time":{"start":1763176078720,"stop":1763176217989,"duration":139269},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `Manager` role via **API**.\n- Signup `third user`.\n- Invite `third user` to organization with `Admin` role via **API**.\n\n### Verify that:\n\n- `Manager` **cannot** remove another `Admin` from organization.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> role via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> <strong>cannot</strong> remove another <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> from organization.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Login via UI\nMessage: [AssertionError] during step: <<User2>> :: Verify that Auth page displayed\nMessage: Auth page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Auth page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Verify that Auth page displayed\nE   Message: Auth page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_organization_remove_members.py:461: in test_manager_remove_admin_from_org\n    await u2_steps.ui_login(second_user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Login via UI\nE   Message: [AssertionError] during step: <<User2>> :: Verify that Auth page displayed\nE   Message: Auth page should be displayed!","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1763176077595,"stop":1763176077598,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1763176077598,"stop":1763176077598,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1763176077598,"stop":1763176078717,"duration":1119},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1763176078717,"stop":1763176078718,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1763176078717,"stop":1763176078717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1763176078718,"stop":1763176078718,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1763176078718,"stop":1763176078718,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1763176078718,"stop":1763176078719,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1763176078719,"stop":1763176078719,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1763176078719,"stop":1763176078719,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1763176078719,"stop":1763176078719,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `Manager` role via **API**.\n- Signup `third user`.\n- Invite `third user` to organization with `Admin` role via **API**.\n\n### Verify that:\n\n- `Manager` **cannot** remove another `Admin` from organization.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> role via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> <strong>cannot</strong> remove another <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> from organization.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Login via UI\nMessage: [AssertionError] during step: <<User2>> :: Verify that Auth page displayed\nMessage: Auth page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Auth page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Verify that Auth page displayed\nE   Message: Auth page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_organization_remove_members.py:461: in test_manager_remove_admin_from_org\n    await u2_steps.ui_login(second_user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Login via UI\nE   Message: [AssertionError] during step: <<User2>> :: Verify that Auth page displayed\nE   Message: Auth page should be displayed!","steps":[{"name":"Login via UI","time":{"start":1763176078720,"stop":1763176095398,"duration":16678},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1763176078720,"stop":1763176079806,"duration":1086},"status":"passed","steps":[],"attachments":[{"uid":"f9382ef49579895d","name":"Page URL","source":"f9382ef49579895d.txt","type":"text/plain","size":29},{"uid":"e55bb4b1e1c727b0","name":"HTTP 200 - GET config","source":"e55bb4b1e1c727b0.txt","type":"text/plain","size":673},{"uid":"a6e2244f24d952ee","name":"Screenshot: Verify that Auth page displayed (success)","source":"a6e2244f24d952ee.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1763176079807,"stop":1763176080949,"duration":1142},"status":"passed","steps":[],"attachments":[{"uid":"f029630968b6a87b","name":"Page URL","source":"f029630968b6a87b.txt","type":"text/plain","size":33},{"uid":"b19ed5f3565931f4","name":"Screenshot: Click login button (success)","source":"b19ed5f3565931f4.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1763176080949,"stop":1763176081048,"duration":99},"status":"passed","steps":[],"attachments":[{"uid":"382412d23c7e1713","name":"Page URL","source":"382412d23c7e1713.txt","type":"text/plain","size":215},{"uid":"6444f6d2a7a07175","name":"Screenshot: Verify that Login page displayed (success)","source":"6444f6d2a7a07175.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1763176081048,"stop":1763176081366,"duration":318},"status":"passed","steps":[],"attachments":[{"uid":"5067f67c90e9d8dd","name":"Page URL","source":"5067f67c90e9d8dd.txt","type":"text/plain","size":215},{"uid":"a19f61ac49deca2d","name":"Screenshot: Enter email (success)","source":"a19f61ac49deca2d.png","type":"image/png","size":46007}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1763176081366,"stop":1763176081683,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"bc3733de178cd00c","name":"Page URL","source":"bc3733de178cd00c.txt","type":"text/plain","size":215},{"uid":"e81c84b66c163144","name":"Screenshot: Enter password (success)","source":"e81c84b66c163144.png","type":"image/png","size":46127}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1763176081683,"stop":1763176094223,"duration":12540},"status":"passed","steps":[],"attachments":[{"uid":"956e38c378a00dd1","name":"Page URL","source":"956e38c378a00dd1.txt","type":"text/plain","size":215},{"uid":"4ed71824ecb34777","name":"HTTP 200 - GET config","source":"4ed71824ecb34777.txt","type":"text/plain","size":771},{"uid":"9b38c84563f92183","name":"HTTP 200 - GET incoming","source":"9b38c84563f92183.txt","type":"text/plain","size":156},{"uid":"c1b76d5a465a9070","name":"HTTP 200 - GET regression-a4xku5zhdr?include=orgs","source":"c1b76d5a465a9070.txt","type":"text/plain","size":379},{"uid":"b1206767867e5e41","name":"HTTP 200 - GET permissions?uri=blob:","source":"b1206767867e5e41.txt","type":"text/plain","size":182},{"uid":"365c16a20ea115fe","name":"HTTP 200 - GET regression-a4xku5zhdr?include=clusters&include=system_role","source":"365c16a20ea115fe.txt","type":"text/plain","size":407},{"uid":"d3d8ba937be64c2d","name":"Screenshot: Click Continue button (success)","source":"d3d8ba937be64c2d.png","type":"image/png","size":160158}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1763176094231,"stop":1763176095319,"duration":1088},"status":"passed","steps":[],"attachments":[{"uid":"7631d783ea1012c","name":"Page URL","source":"7631d783ea1012c.txt","type":"text/plain","size":44},{"uid":"7e7ee27162b0c6e3","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"7e7ee27162b0c6e3.png","type":"image/png","size":160158}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"355f3f1c231e0976","name":"Page URL","source":"355f3f1c231e0976.txt","type":"text/plain","size":29},{"uid":"1a6b8a32f5ed537e","name":"Screenshot: Login via UI (success)","source":"1a6b8a32f5ed537e.png","type":"image/png","size":160158}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Get second user","time":{"start":1763176097287,"stop":1763176097370,"duration":83},"status":"passed","steps":[],"attachments":[{"uid":"39ab5ba232ac37ba","name":"Page URL","source":"39ab5ba232ac37ba.txt","type":"text/plain","size":33},{"uid":"10aafbe3c5798a89","name":"Screenshot: <<User2>> :: Get second user (success)","source":"10aafbe3c5798a89.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Login via UI","time":{"start":1763176097370,"stop":1763176217988,"duration":120618},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Login via UI\nMessage: [AssertionError] during step: <<User2>> :: Verify that Auth page displayed\nMessage: Auth page should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"<<User2>> :: Verify that Auth page displayed","time":{"start":1763176097370,"stop":1763176217930,"duration":120560},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Verify that Auth page displayed\nMessage: Auth page should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"6ce9eb89a4001e2f","name":"Page URL","source":"6ce9eb89a4001e2f.txt","type":"text/plain","size":33},{"uid":"d1bd474e7a1fe29d","name":"HTTP 200 - GET config","source":"d1bd474e7a1fe29d.txt","type":"text/plain","size":673},{"uid":"4ffe082496d5c58a","name":"Screenshot: <<User2>> :: Verify that Auth page displayed (fail)","source":"4ffe082496d5c58a.png","type":"image/png","size":28243}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"fb24650950614589","name":"Page URL","source":"fb24650950614589.txt","type":"text/plain","size":33},{"uid":"ddc96470c9fb11aa","name":"Screenshot: <<User2>> :: Login via UI (fail)","source":"ddc96470c9fb11aa.png","type":"image/png","size":28243}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1321d666e022cbd9","name":"HTTP 200 - GET config","source":"1321d666e022cbd9.txt","type":"text/plain","size":673},{"uid":"2739ad3b794ad59f","name":"log","source":"2739ad3b794ad59f.txt","type":"text/plain","size":12927}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":31,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1763176218012,"stop":1763176218012,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1763176218012,"stop":1763176221829,"duration":3817},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1763176218012,"stop":1763176221828,"duration":3816},"status":"passed","steps":[],"attachments":[{"uid":"3eff6c1c8c55beff","name":"Cleanup note","source":"3eff6c1c8c55beff.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1763176218012,"stop":1763176218012,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1763176221829,"stop":1763176221830,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1763176221830,"stop":1763176221831,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"UI Tests"},{"name":"suite","value":"UI Organization Remove Members"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUIOrganizationRemoveMembers"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2978-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_organization_remove_members"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"98d92a88732b6f7f.json","parameterValues":[]}