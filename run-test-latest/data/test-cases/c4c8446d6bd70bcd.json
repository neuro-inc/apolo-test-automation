{"uid":"c4c8446d6bd70bcd","name":"Admin change member role from Reader to Writer in project via CLI","fullName":"tests.test_cases.tests_cli.test_project_change_member_roles.TestCLIProjectStructureSetup#test_admin_change_reader_to_writer_cli","historyId":"238ad4c581585e2dce3cc4b5a0bc6b18","time":{"start":1759541554647,"stop":1759541554657,"duration":10},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:73: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1759541460703,"stop":1759541460703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1759541460704,"stop":1759541490705,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759541460704,"stop":1759541460704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759541460704,"stop":1759541460704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1759541460704,"stop":1759541460704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759541460704,"stop":1759541460704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1759541490705,"stop":1759541490710,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1759541490705,"stop":1759541490705,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759541490710,"stop":1759541490710,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759541490710,"stop":1759541493464,"duration":2754},"status":"passed","steps":[],"attachments":[{"uid":"47c2667088be00f0","name":"HTTP 200 - GET config","source":"47c2667088be00f0.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1759541493464,"stop":1759541493464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759541493464,"stop":1759541493464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759541493465,"stop":1759541493465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759541493465,"stop":1759541493465,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759541493465,"stop":1759541553559,"duration":60094},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1759541496143,"stop":1759541529858,"duration":33715},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1759541496144,"stop":1759541497435,"duration":1291},"status":"passed","steps":[],"attachments":[{"uid":"2079983df41f33c0","name":"Page URL","source":"2079983df41f33c0.txt","type":"text/plain","size":33},{"uid":"70df50aa1118cc37","name":"Screenshot: Click signup button (success)","source":"70df50aa1118cc37.png","type":"image/png","size":39582}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759541497435,"stop":1759541497781,"duration":346},"status":"passed","steps":[],"attachments":[{"uid":"3a82684591882f14","name":"Page URL","source":"3a82684591882f14.txt","type":"text/plain","size":216},{"uid":"c04a4ac7403641da","name":"Screenshot: Enter email (success)","source":"c04a4ac7403641da.png","type":"image/png","size":44072}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759541497781,"stop":1759541498178,"duration":397},"status":"passed","steps":[],"attachments":[{"uid":"a27586e42198c339","name":"Page URL","source":"a27586e42198c339.txt","type":"text/plain","size":216},{"uid":"4c576379b7aa1fb0","name":"Screenshot: Enter password (success)","source":"4c576379b7aa1fb0.png","type":"image/png","size":63793}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1759541498179,"stop":1759541500756,"duration":2577},"status":"passed","steps":[],"attachments":[{"uid":"2b0c7d568637f264","name":"Page URL","source":"2b0c7d568637f264.txt","type":"text/plain","size":216},{"uid":"3a43907537ed448d","name":"Screenshot: Click continue button (success)","source":"3a43907537ed448d.png","type":"image/png","size":11162}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1759541500756,"stop":1759541501845,"duration":1089},"status":"passed","steps":[],"attachments":[{"uid":"e8d4977ba1d4ab8e","name":"Page URL","source":"e8d4977ba1d4ab8e.txt","type":"text/plain","size":192},{"uid":"26e83f5ffa70b036","name":"HTTP 200 - GET config","source":"26e83f5ffa70b036.txt","type":"text/plain","size":654},{"uid":"fce45a6878f8d195","name":"Screenshot: Verify that Verify email message displayed (success)","source":"fce45a6878f8d195.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1759541501845,"stop":1759541503511,"duration":1666},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1759541502284,"stop":1759541503300,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"2906465bb2273d3e","name":"Page URL","source":"2906465bb2273d3e.txt","type":"text/plain","size":182},{"uid":"6a69103f9db2cdc1","name":"Screenshot: Navigate to URL (success)","source":"6a69103f9db2cdc1.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1759541503511,"stop":1759541506142,"duration":2631},"status":"passed","steps":[],"attachments":[{"uid":"d13106380cbf918e","name":"Page URL","source":"d13106380cbf918e.txt","type":"text/plain","size":87},{"uid":"9391dd58fd8f5455","name":"HTTP 200 - GET config","source":"9391dd58fd8f5455.txt","type":"text/plain","size":654},{"uid":"bf99b0970b0823ca","name":"Screenshot: Navigate to URL (success)","source":"bf99b0970b0823ca.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1759541506142,"stop":1759541506251,"duration":109},"status":"passed","steps":[],"attachments":[{"uid":"5aef4ddccf8bcfe2","name":"Page URL","source":"5aef4ddccf8bcfe2.txt","type":"text/plain","size":33},{"uid":"99591aa3204aa86e","name":"Screenshot: Verify that Auth page displayed (success)","source":"99591aa3204aa86e.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1759541506251,"stop":1759541507376,"duration":1125},"status":"passed","steps":[],"attachments":[{"uid":"ed681c5ba20c251d","name":"Page URL","source":"ed681c5ba20c251d.txt","type":"text/plain","size":33},{"uid":"54d3261baa8d552f","name":"Screenshot: Click login button (success)","source":"54d3261baa8d552f.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1759541507376,"stop":1759541508481,"duration":1105},"status":"passed","steps":[],"attachments":[{"uid":"53925fd0f0b5fc41","name":"Page URL","source":"53925fd0f0b5fc41.txt","type":"text/plain","size":33},{"uid":"df46cc7c0469113","name":"HTTP 404 - HEAD regression-cun053fmvf","source":"df46cc7c0469113.txt","type":"text/plain","size":160},{"uid":"e48e3ebde2e8f3ff","name":"Screenshot: Verify that Signup username page displayed (success)","source":"e48e3ebde2e8f3ff.png","type":"image/png","size":37302}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1759541508481,"stop":1759541509327,"duration":846},"status":"passed","steps":[],"attachments":[{"uid":"8e5a2dd854cb731a","name":"Page URL","source":"8e5a2dd854cb731a.txt","type":"text/plain","size":362},{"uid":"6d9d5130e139e14c","name":"HTTP 404 - HEAD ","source":"6d9d5130e139e14c.txt","type":"text/plain","size":139},{"uid":"d2d8e1fef6176288","name":"HTTP 404 - HEAD regression-cun053fmvf","source":"d2d8e1fef6176288.txt","type":"text/plain","size":160},{"uid":"735c7ccaa8da9e7c","name":"Screenshot: Enter username (success)","source":"735c7ccaa8da9e7c.png","type":"image/png","size":37616}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1759541509327,"stop":1759541519658,"duration":10331},"status":"passed","steps":[],"attachments":[{"uid":"55c921adcf681bde","name":"Page URL","source":"55c921adcf681bde.txt","type":"text/plain","size":362},{"uid":"d2c319f8a422f1fa","name":"HTTP 200 - GET config","source":"d2c319f8a422f1fa.txt","type":"text/plain","size":654},{"uid":"2e6594dc988984c6","name":"Screenshot: Click signup button on Signup username page (success)","source":"2e6594dc988984c6.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1759541519659,"stop":1759541529792,"duration":10133},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"8ac3758a21ed1774","name":"Page URL","source":"8ac3758a21ed1774.txt","type":"text/plain","size":222},{"uid":"634ab926c8bec79d","name":"Screenshot: Verify that User agreement pop up displayed (fail)","source":"634ab926c8bec79d.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"bfb8e1784d223891","name":"Page URL","source":"bfb8e1784d223891.txt","type":"text/plain","size":33},{"uid":"b4b92d6d175e7c69","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"b4b92d6d175e7c69.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1759541532543,"stop":1759541553559,"duration":21016},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1759541532544,"stop":1759541533660,"duration":1116},"status":"passed","steps":[],"attachments":[{"uid":"91f5ebf12d3e179d","name":"Page URL","source":"91f5ebf12d3e179d.txt","type":"text/plain","size":33},{"uid":"e754aa627b6bc06a","name":"Screenshot: Click signup button (success)","source":"e754aa627b6bc06a.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759541533661,"stop":1759541534013,"duration":352},"status":"passed","steps":[],"attachments":[{"uid":"eefc3166d85b3f5","name":"Page URL","source":"eefc3166d85b3f5.txt","type":"text/plain","size":216},{"uid":"811ffcbf1e8b5ef","name":"Screenshot: Enter email (success)","source":"811ffcbf1e8b5ef.png","type":"image/png","size":44330}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759541534013,"stop":1759541534379,"duration":366},"status":"passed","steps":[],"attachments":[{"uid":"92c65b54fe6d3b79","name":"Page URL","source":"92c65b54fe6d3b79.txt","type":"text/plain","size":216},{"uid":"7afd2476b9010cf4","name":"Screenshot: Enter password (success)","source":"7afd2476b9010cf4.png","type":"image/png","size":64032}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1759541534379,"stop":1759541536375,"duration":1996},"status":"passed","steps":[],"attachments":[{"uid":"900849781fae64f","name":"Page URL","source":"900849781fae64f.txt","type":"text/plain","size":216},{"uid":"6c86f3bd71fb31dc","name":"Screenshot: Click continue button (success)","source":"6c86f3bd71fb31dc.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1759541536375,"stop":1759541537458,"duration":1083},"status":"passed","steps":[],"attachments":[{"uid":"b5173162a402ae61","name":"Page URL","source":"b5173162a402ae61.txt","type":"text/plain","size":192},{"uid":"7bdb69c11664196e","name":"HTTP 200 - GET config","source":"7bdb69c11664196e.txt","type":"text/plain","size":654},{"uid":"b00c030a0365ccb","name":"Screenshot: Verify that Verify email message displayed (success)","source":"b00c030a0365ccb.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1759541537458,"stop":1759541539213,"duration":1755},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1759541537965,"stop":1759541538958,"duration":993},"status":"passed","steps":[],"attachments":[{"uid":"90d6bf3031fb020d","name":"Page URL","source":"90d6bf3031fb020d.txt","type":"text/plain","size":182},{"uid":"7de098e70cdbd0a5","name":"Screenshot: Navigate to URL (success)","source":"7de098e70cdbd0a5.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1759541539214,"stop":1759541541064,"duration":1850},"status":"passed","steps":[],"attachments":[{"uid":"480cde3063c0fdd1","name":"Page URL","source":"480cde3063c0fdd1.txt","type":"text/plain","size":87},{"uid":"6b48fc758fdca21e","name":"HTTP 200 - GET config","source":"6b48fc758fdca21e.txt","type":"text/plain","size":654},{"uid":"2c86636e59e9277","name":"Screenshot: Navigate to URL (success)","source":"2c86636e59e9277.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1759541541064,"stop":1759541541164,"duration":100},"status":"passed","steps":[],"attachments":[{"uid":"8fe137d6fde67eb7","name":"Page URL","source":"8fe137d6fde67eb7.txt","type":"text/plain","size":33},{"uid":"56490f0f9f08ca4f","name":"Screenshot: Verify that Auth page displayed (success)","source":"56490f0f9f08ca4f.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1759541541164,"stop":1759541542371,"duration":1207},"status":"passed","steps":[],"attachments":[{"uid":"a6df0c558658baa4","name":"Page URL","source":"a6df0c558658baa4.txt","type":"text/plain","size":33},{"uid":"3d255f22bba7bf99","name":"Screenshot: Click login button (success)","source":"3d255f22bba7bf99.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1759541542371,"stop":1759541543476,"duration":1105},"status":"passed","steps":[],"attachments":[{"uid":"4c1ef3dbae802cc2","name":"Page URL","source":"4c1ef3dbae802cc2.txt","type":"text/plain","size":33},{"uid":"5f759afa928c192a","name":"HTTP 404 - HEAD regression-v23y9n2ynn","source":"5f759afa928c192a.txt","type":"text/plain","size":160},{"uid":"c5b91f09ba4bd146","name":"Screenshot: Verify that Signup username page displayed (success)","source":"c5b91f09ba4bd146.png","type":"image/png","size":37599}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1759541543476,"stop":1759541544325,"duration":849},"status":"passed","steps":[],"attachments":[{"uid":"c6f72f5dc8db9817","name":"Page URL","source":"c6f72f5dc8db9817.txt","type":"text/plain","size":362},{"uid":"def5ac2c89df0384","name":"HTTP 404 - HEAD ","source":"def5ac2c89df0384.txt","type":"text/plain","size":139},{"uid":"95dfa18e637ca180","name":"HTTP 404 - HEAD regression-v23y9n2ynn","source":"95dfa18e637ca180.txt","type":"text/plain","size":160},{"uid":"8b74ac0deea3502c","name":"Screenshot: Enter username (success)","source":"8b74ac0deea3502c.png","type":"image/png","size":37847}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1759541544325,"stop":1759541547664,"duration":3339},"status":"passed","steps":[],"attachments":[{"uid":"1d543552c03b0db8","name":"Page URL","source":"1d543552c03b0db8.txt","type":"text/plain","size":362},{"uid":"14fa2274bc018114","name":"HTTP 200 - GET config","source":"14fa2274bc018114.txt","type":"text/plain","size":752},{"uid":"b98612275986e81f","name":"HTTP 200 - GET permissions?uri=blob:","source":"b98612275986e81f.txt","type":"text/plain","size":174},{"uid":"a8a10d34d01645cc","name":"HTTP 200 - GET config","source":"a8a10d34d01645cc.txt","type":"text/plain","size":752},{"uid":"e487a95c7e6ca5a3","name":"HTTP 200 - GET permissions?uri=blob:","source":"e487a95c7e6ca5a3.txt","type":"text/plain","size":163},{"uid":"2d5c89978e051f1d","name":"HTTP 200 - GET regression-v23y9n2ynn?include=orgs","source":"2d5c89978e051f1d.txt","type":"text/plain","size":361},{"uid":"d0f4131b09c79289","name":"HTTP 200 - GET incoming","source":"d0f4131b09c79289.txt","type":"text/plain","size":137},{"uid":"251115be12f5011a","name":"HTTP 200 - GET regression-v23y9n2ynn?include=clusters&include=system_role","source":"251115be12f5011a.txt","type":"text/plain","size":389},{"uid":"e5c4142f836b69d6","name":"Screenshot: Click signup button on Signup username page (success)","source":"e5c4142f836b69d6.png","type":"image/png","size":40093}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1759541547664,"stop":1759541547779,"duration":115},"status":"passed","steps":[],"attachments":[{"uid":"a4dad5a9c5ba92ea","name":"Page URL","source":"a4dad5a9c5ba92ea.txt","type":"text/plain","size":153},{"uid":"31cdb55f3b63e7f1","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"31cdb55f3b63e7f1.png","type":"image/png","size":46652}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1759541547779,"stop":1759541548427,"duration":648},"status":"passed","steps":[],"attachments":[{"uid":"ff95530ed87593fc","name":"Page URL","source":"ff95530ed87593fc.txt","type":"text/plain","size":153},{"uid":"8ce1520170e88bd5","name":"Screenshot: Check agreement checkbox (success)","source":"8ce1520170e88bd5.png","type":"image/png","size":41823}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1759541548427,"stop":1759541549121,"duration":694},"status":"passed","steps":[],"attachments":[{"uid":"1f49b508006bce5c","name":"Page URL","source":"1f49b508006bce5c.txt","type":"text/plain","size":153},{"uid":"b04d732c0cfe8f27","name":"Screenshot: Click I Agree button (success)","source":"b04d732c0cfe8f27.png","type":"image/png","size":42494}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1759541549122,"stop":1759541549253,"duration":131},"status":"passed","steps":[],"attachments":[{"uid":"509ea2abbcaed530","name":"Page URL","source":"509ea2abbcaed530.txt","type":"text/plain","size":44},{"uid":"1bc0b8ece5533969","name":"HTTP 204 - PUT profile","source":"1bc0b8ece5533969.txt","type":"text/plain","size":154},{"uid":"a08be5eb1f1aeef6","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"a08be5eb1f1aeef6.png","type":"image/png","size":52218}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1759541549253,"stop":1759541552342,"duration":3089},"status":"passed","steps":[],"attachments":[{"uid":"4cd4c872338465e9","name":"Page URL","source":"4cd4c872338465e9.txt","type":"text/plain","size":44},{"uid":"6b128b05ad652af5","name":"Screenshot: Wait for timeout (success)","source":"6b128b05ad652af5.png","type":"image/png","size":160887}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759541552342,"stop":1759541553446,"duration":1104},"status":"passed","steps":[],"attachments":[{"uid":"84cb867a3d94642b","name":"Page URL","source":"84cb867a3d94642b.txt","type":"text/plain","size":44},{"uid":"5feb7d6a5472d27e","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"5feb7d6a5472d27e.png","type":"image/png","size":160887}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b9b23b682b0eae67","name":"Page URL","source":"b9b23b682b0eae67.txt","type":"text/plain","size":33},{"uid":"21202e367ed83156","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"21202e367ed83156.png","type":"image/png","size":160887}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":51,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f3d27f09682b8e96","name":"HTTP 200 - GET config","source":"f3d27f09682b8e96.txt","type":"text/plain","size":654},{"uid":"1bfef13c347d59f4","name":"HTTP 200 - GET config","source":"1bfef13c347d59f4.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":35,"attachmentsCount":87,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759541553559,"stop":1759541553559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759541553559,"stop":1759541553559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759541553560,"stop":1759541554647,"duration":1087},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759541553560,"stop":1759541554646,"duration":1086},"status":"passed","steps":[],"attachments":[{"uid":"c558bc5b906a5ac5","name":"Executed CLI command","source":"c558bc5b906a5ac5.txt","type":"text/plain","size":15},{"uid":"5995a5be18db6dc9","name":"Executed CLI command output","source":"5995a5be18db6dc9.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:73: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1759541554648,"stop":1759541554656,"duration":8},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click login button","time":{"start":1759541554648,"stop":1759541554653,"duration":5},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"a5b626c4e6a16df4","name":"Page URL","source":"a5b626c4e6a16df4.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"44bcb1db44b756a3","name":"Page URL","source":"44bcb1db44b756a3.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"556404ca2d1f8b4c","name":"log","source":"556404ca2d1f8b4c.txt","type":"text/plain","size":34640}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1759541554863,"stop":1759541554863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759541554863,"stop":1759541554863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759541554863,"stop":1759541558716,"duration":3853},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759541554863,"stop":1759541558716,"duration":3853},"status":"passed","steps":[],"attachments":[{"uid":"ae5ac2d2fe35231a","name":"Cleanup note","source":"ae5ac2d2fe35231a.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759541558718,"stop":1759541558719,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759541558720,"stop":1759541558721,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Project Remove Members"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"3580-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"c4c8446d6bd70bcd.json","parameterValues":[]}