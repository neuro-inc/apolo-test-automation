{"uid":"7e80965e347b82bc","name":"User switch organization via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_switch_org_cli","historyId":"6d9a96c974d0ffc10b372ad7c4a9cdc5","time":{"start":1761127837593,"stop":1761127870870,"duration":33277},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can switch between organizations via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can switch between organizations via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1761117879479,"stop":1761117879479,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761117879479,"stop":1761117879479,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1761117879479,"stop":1761117879479,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761117879479,"stop":1761117879479,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1761117879479,"stop":1761117879479,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1761117879480,"stop":1761117894480,"duration":15000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1761117894480,"stop":1761117894480,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1761127836204,"stop":1761127836207,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1761127836207,"stop":1761127837044,"duration":837},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1761127836208,"stop":1761127836208,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1761127837045,"stop":1761127837046,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1761127837045,"stop":1761127837045,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1761127837045,"stop":1761127837045,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1761127837046,"stop":1761127837046,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1761127837046,"stop":1761127837047,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1761127837047,"stop":1761127837047,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1761127837048,"stop":1761127837048,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1761127837048,"stop":1761127837592,"duration":544},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1761127837049,"stop":1761127837592,"duration":543},"status":"passed","steps":[],"attachments":[{"uid":"e7fd1471a339d8cd","name":"HTTP 200 - GET config","source":"e7fd1471a339d8cd.txt","type":"text/plain","size":673},{"uid":"9ad77da19964b725","name":"Executed CLI command","source":"9ad77da19964b725.txt","type":"text/plain","size":15},{"uid":"83fd961c08c4eef4","name":"Executed CLI command output","source":"83fd961c08c4eef4.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can switch between organizations via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can switch between organizations via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1761127837593,"stop":1761127842793,"duration":5200},"status":"passed","steps":[{"name":"Click login button","time":{"start":1761127837594,"stop":1761127838417,"duration":823},"status":"passed","steps":[],"attachments":[{"uid":"56248d4f161d1546","name":"Page URL","source":"56248d4f161d1546.txt","type":"text/plain","size":33},{"uid":"caaf9def7ef8db58","name":"Screenshot: Click login button (success)","source":"caaf9def7ef8db58.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1761127838417,"stop":1761127838795,"duration":378},"status":"passed","steps":[],"attachments":[{"uid":"eb07be4757fa5f8f","name":"Page URL","source":"eb07be4757fa5f8f.txt","type":"text/plain","size":215},{"uid":"a34d39fed473ed6d","name":"Screenshot: Enter email (success)","source":"a34d39fed473ed6d.png","type":"image/png","size":46210}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1761127838795,"stop":1761127839126,"duration":331},"status":"passed","steps":[],"attachments":[{"uid":"9c29cab9c63d9f1b","name":"Page URL","source":"9c29cab9c63d9f1b.txt","type":"text/plain","size":215},{"uid":"50cd3c9100eccb26","name":"Screenshot: Enter password (success)","source":"50cd3c9100eccb26.png","type":"image/png","size":46335}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1761127839126,"stop":1761127841560,"duration":2434},"status":"passed","steps":[],"attachments":[{"uid":"2e1c4c22b07c8483","name":"Page URL","source":"2e1c4c22b07c8483.txt","type":"text/plain","size":215},{"uid":"f85eae3c417e6182","name":"HTTP 200 - GET config","source":"f85eae3c417e6182.txt","type":"text/plain","size":771},{"uid":"2b60c7969c04b2ce","name":"HTTP 200 - GET regression-wf7g3ikqba?include=clusters&include=system_role","source":"2b60c7969c04b2ce.txt","type":"text/plain","size":407},{"uid":"83112c41897193f4","name":"HTTP 200 - GET permissions?uri=blob:","source":"83112c41897193f4.txt","type":"text/plain","size":182},{"uid":"c20b0bcb4c629a4d","name":"HTTP 200 - GET incoming","source":"c20b0bcb4c629a4d.txt","type":"text/plain","size":156},{"uid":"594d448e4ef517fd","name":"HTTP 200 - GET regression-wf7g3ikqba?include=orgs","source":"594d448e4ef517fd.txt","type":"text/plain","size":379},{"uid":"16fd1f2b9146fc05","name":"Screenshot: Click Continue button (success)","source":"16fd1f2b9146fc05.png","type":"image/png","size":160429}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1761127841570,"stop":1761127842701,"duration":1131},"status":"passed","steps":[],"attachments":[{"uid":"f0b6f5d193de6f59","name":"Page URL","source":"f0b6f5d193de6f59.txt","type":"text/plain","size":44},{"uid":"4c97304c1200ba7f","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"4c97304c1200ba7f.png","type":"image/png","size":160429}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"674e195a356d474c","name":"Page URL","source":"674e195a356d474c.txt","type":"text/plain","size":33},{"uid":"78f6a768f8b8004f","name":"Screenshot: Login via UI (success)","source":"78f6a768f8b8004f.png","type":"image/png","size":160429}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1761127842794,"stop":1761127843580,"duration":786},"status":"passed","steps":[],"attachments":[{"uid":"b0605154d331a5c5","name":"Executed CLI command","source":"b0605154d331a5c5.txt","type":"text/plain","size":1114},{"uid":"c535bc7601be77d6","name":"Executed CLI command output","source":"c535bc7601be77d6.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1761127843580,"stop":1761127856238,"duration":12658},"status":"passed","steps":[],"attachments":[{"uid":"56260c5aa5c62f4d","name":"Executed CLI command","source":"56260c5aa5c62f4d.txt","type":"text/plain","size":1114},{"uid":"4c0b25f9d0c9555e","name":"Executed CLI command output","source":"4c0b25f9d0c9555e.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1761127856238,"stop":1761127868328,"duration":12090},"status":"passed","steps":[],"attachments":[{"uid":"e26168e68fa60dcc","name":"Executed CLI command","source":"e26168e68fa60dcc.txt","type":"text/plain","size":47},{"uid":"41b8cc3051518c22","name":"Executed CLI command output","source":"41b8cc3051518c22.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Switch organization via CLI","time":{"start":1761127868328,"stop":1761127869084,"duration":756},"status":"passed","steps":[],"attachments":[{"uid":"51b8b2f25586c49e","name":"Executed CLI command","source":"51b8b2f25586c49e.txt","type":"text/plain","size":51},{"uid":"db9d2361b75ac884","name":"Executed CLI command output","source":"db9d2361b75ac884.txt","type":"text/plain","size":51}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Run config show command via CLI","time":{"start":1761127869084,"stop":1761127870869,"duration":1785},"status":"passed","steps":[],"attachments":[{"uid":"cbeb6dfe95f75aa4","name":"Executed CLI command","source":"cbeb6dfe95f75aa4.txt","type":"text/plain","size":17},{"uid":"7556acd5fdd46ed7","name":"Executed CLI command output","source":"7556acd5fdd46ed7.txt","type":"text/plain","size":3640}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify config show command output","time":{"start":1761127870869,"stop":1761127870870,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"6a1a6b925d17deac","name":"Executed CLI command","source":"6a1a6b925d17deac.txt","type":"text/plain","size":17},{"uid":"aca8e249e44f6db","name":"Executed CLI command output","source":"aca8e249e44f6db.txt","type":"text/plain","size":3640}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2e77106510b05e35","name":"log","source":"2e77106510b05e35.txt","type":"text/plain","size":20547}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":30,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1761127870871,"stop":1761127870871,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761127870871,"stop":1761127870871,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761127870871,"stop":1761127877164,"duration":6293},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1761127870871,"stop":1761127877163,"duration":6292},"status":"passed","steps":[{"name":"Delete organisation: regression-org-vya81vdzc0zz","time":{"start":1761127874404,"stop":1761127876272,"duration":1868},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Delete organisation: regression-org-9hc4i7w7trwe","time":{"start":1761127876273,"stop":1761127877120,"duration":847},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1761127877164,"stop":1761127877164,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1761127877165,"stop":1761127877166,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3601-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":57,"unknown":0,"total":63},"items":[{"uid":"fb8cb8002b098109","status":"passed","time":{"start":1759547548689,"stop":1759547597110,"duration":48421}},{"uid":"3e3abc19cc9008c0","status":"passed","time":{"start":1759461369135,"stop":1759461407337,"duration":38202}},{"uid":"43858e192b1655dd","status":"passed","time":{"start":1759376759498,"stop":1759376803930,"duration":44432}},{"uid":"63559a86791e814d","status":"passed","time":{"start":1759286657630,"stop":1759286707857,"duration":50227}},{"uid":"dc4f531c467c6f26","status":"passed","time":{"start":1759200149840,"stop":1759200192119,"duration":42279}},{"uid":"74617933e401628e","status":"passed","time":{"start":1759157495938,"stop":1759157552204,"duration":56266}},{"uid":"869839cad85f102c","status":"passed","time":{"start":1759114464669,"stop":1759114513453,"duration":48784}},{"uid":"ee1f12aa2e855ea5","status":"passed","time":{"start":1759028058178,"stop":1759028104124,"duration":45946}},{"uid":"e04a7b2a53d15623","status":"passed","time":{"start":1758941647335,"stop":1758941687213,"duration":39878}},{"uid":"3287972d8bde3640","status":"passed","time":{"start":1758853923732,"stop":1758853963782,"duration":40050}},{"uid":"e27074f862bbdb49","status":"passed","time":{"start":1758767822518,"stop":1758767870321,"duration":47803}},{"uid":"ead5743b6c2fde71","status":"passed","time":{"start":1758709666558,"stop":1758709713061,"duration":46503}},{"uid":"d1f34b72b5a2b1a5","status":"passed","time":{"start":1758694462941,"stop":1758694506932,"duration":43991}},{"uid":"95131def58225368","status":"passed","time":{"start":1758682509269,"stop":1758682548703,"duration":39434}},{"uid":"14f5424e0b8720ab","status":"passed","time":{"start":1758594946599,"stop":1758594995487,"duration":48888}},{"uid":"84acc9e7755bcc80","status":"passed","time":{"start":1758508402665,"stop":1758508433805,"duration":31140}},{"uid":"ea64aed1f879675f","status":"passed","time":{"start":1758422202291,"stop":1758422239863,"duration":37572}},{"uid":"acf53ddd5717aef4","status":"passed","time":{"start":1758335703732,"stop":1758335735751,"duration":32019}},{"uid":"880777e012b9f3b7","status":"passed","time":{"start":1758249266277,"stop":1758249303914,"duration":37637}},{"uid":"2d6e6183e81e6429","status":"passed","time":{"start":1758162650564,"stop":1758162690922,"duration":40358}}]},"tags":["asyncio"]},"source":"7e80965e347b82bc.json","parameterValues":[]}