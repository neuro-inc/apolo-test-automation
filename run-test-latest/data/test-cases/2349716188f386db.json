{"uid":"2349716188f386db","name":"Verify Admin can demote Admin to Manager","fullName":"tests.test_cases.tests_ui.test_project_change_member_roles.TestUIProjectChangeMemberRoles#test_admin_change_admin_to_manager","historyId":"5c7596eb028f72a863f16e0b118356f7","time":{"start":1761012696500,"stop":1761012767567,"duration":71067},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Create new project via **API**.\n- Signup `second user`.\n- Invite `second user` to organization via **API**.\n- Invite `second user` to project with `Admin` role.\n\n### Verify that:\n\n- `Admin` can demote `Admin` to `Manager`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Create new project via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>API</strong>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can demote <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span>.</li>\n</ul></div>","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 5000ms exceeded.","statusTrace":"tests/test_cases/tests_ui/test_project_change_member_roles.py:907: in test_admin_change_admin_to_manager\n    u2_steps = await self.init_ui_test_steps()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/base_test_class.py:86: in init_ui_test_steps\n    pm = await self._pick_pm()\n         ^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/base_test_class.py:66: in _pick_pm\n    pm = await self._add_pm()\n         ^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/conftest.py:81: in _factory\n    pm = await _create_page_manager(test_config, request)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/conftest.py:407: in _create_page_manager\n    await page.wait_for_load_state(\"networkidle\", timeout=5000)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:9088: in wait_for_load_state\n    await self._impl_obj.wait_for_load_state(state=state, timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:576: in wait_for_load_state\n    return await self._main_frame.wait_for_load_state(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:273: in wait_for_load_state\n    return await self._wait_for_load_state_impl(state, timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:301: in _wait_for_load_state_impl\n    await waiter.result()\nE   playwright._impl._errors.TimeoutError: Timeout 5000ms exceeded.","flaky":true,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1761010287016,"stop":1761010287016,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1761010287017,"stop":1761010287017,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761010287017,"stop":1761010287017,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1761010287017,"stop":1761010287018,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1761010287017,"stop":1761010287017,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761010287017,"stop":1761010287017,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761010287017,"stop":1761010287017,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1761012693625,"stop":1761012693628,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1761012693628,"stop":1761012696497,"duration":2869},"status":"passed","steps":[],"attachments":[{"uid":"cb7a7aa0c2327bb3","name":"HTTP 200 - GET config","source":"cb7a7aa0c2327bb3.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1761012693629,"stop":1761012693629,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1761012696497,"stop":1761012696497,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1761012696497,"stop":1761012696498,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1761012696498,"stop":1761012696498,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1761012696498,"stop":1761012696499,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1761012696498,"stop":1761012696498,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1761012696499,"stop":1761012696499,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1761012696499,"stop":1761012696499,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1761012696499,"stop":1761012696499,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Create new project via **API**.\n- Signup `second user`.\n- Invite `second user` to organization via **API**.\n- Invite `second user` to project with `Admin` role.\n\n### Verify that:\n\n- `Admin` can demote `Admin` to `Manager`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Create new project via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>API</strong>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can demote <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span>.</li>\n</ul></div>","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Timeout 5000ms exceeded.","statusTrace":"tests/test_cases/tests_ui/test_project_change_member_roles.py:907: in test_admin_change_admin_to_manager\n    u2_steps = await self.init_ui_test_steps()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/base_test_class.py:86: in init_ui_test_steps\n    pm = await self._pick_pm()\n         ^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/base_test_class.py:66: in _pick_pm\n    pm = await self._add_pm()\n         ^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/conftest.py:81: in _factory\n    pm = await _create_page_manager(test_config, request)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/conftest.py:407: in _create_page_manager\n    await page.wait_for_load_state(\"networkidle\", timeout=5000)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:9088: in wait_for_load_state\n    await self._impl_obj.wait_for_load_state(state=state, timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:576: in wait_for_load_state\n    return await self._main_frame.wait_for_load_state(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:273: in wait_for_load_state\n    return await self._wait_for_load_state_impl(state, timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:301: in _wait_for_load_state_impl\n    await waiter.result()\nE   playwright._impl._errors.TimeoutError: Timeout 5000ms exceeded.","steps":[{"name":"Login via UI","time":{"start":1761012696500,"stop":1761012702141,"duration":5641},"status":"passed","steps":[{"name":"Click login button","time":{"start":1761012696500,"stop":1761012697635,"duration":1135},"status":"passed","steps":[],"attachments":[{"uid":"24944edcafc273e","name":"Page URL","source":"24944edcafc273e.txt","type":"text/plain","size":33},{"uid":"530500f0b160b061","name":"Screenshot: Click login button (success)","source":"530500f0b160b061.png","type":"image/png","size":41537}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1761012697635,"stop":1761012697984,"duration":349},"status":"passed","steps":[],"attachments":[{"uid":"5fa47b8d9b1bde94","name":"Page URL","source":"5fa47b8d9b1bde94.txt","type":"text/plain","size":215},{"uid":"aed052348b027aaa","name":"Screenshot: Enter email (success)","source":"aed052348b027aaa.png","type":"image/png","size":46237}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1761012697984,"stop":1761012698316,"duration":332},"status":"passed","steps":[],"attachments":[{"uid":"b5a355b5202e4b40","name":"Page URL","source":"b5a355b5202e4b40.txt","type":"text/plain","size":215},{"uid":"d209015ccfb3d405","name":"Screenshot: Enter password (success)","source":"d209015ccfb3d405.png","type":"image/png","size":46378}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1761012698316,"stop":1761012700907,"duration":2591},"status":"passed","steps":[],"attachments":[{"uid":"4ee16a2fdb8c6f17","name":"Page URL","source":"4ee16a2fdb8c6f17.txt","type":"text/plain","size":215},{"uid":"3aa4ae10485509f6","name":"HTTP 200 - GET config","source":"3aa4ae10485509f6.txt","type":"text/plain","size":771},{"uid":"b39696ed6a9a7587","name":"HTTP 200 - GET permissions?uri=blob:","source":"b39696ed6a9a7587.txt","type":"text/plain","size":182},{"uid":"df113ed8c83dc072","name":"HTTP 200 - GET incoming","source":"df113ed8c83dc072.txt","type":"text/plain","size":156},{"uid":"fa65ce37f5f759a4","name":"HTTP 200 - GET regression-1fl5673uqw?include=orgs","source":"fa65ce37f5f759a4.txt","type":"text/plain","size":379},{"uid":"a8d332505f685ba2","name":"HTTP 200 - GET regression-1fl5673uqw?include=clusters&include=system_role","source":"a8d332505f685ba2.txt","type":"text/plain","size":407},{"uid":"be8e6bd68c82ce6b","name":"Screenshot: Click Continue button (success)","source":"be8e6bd68c82ce6b.png","type":"image/png","size":40549}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1761012700918,"stop":1761012702017,"duration":1099},"status":"passed","steps":[],"attachments":[{"uid":"602b2d1a56bc7bf4","name":"Page URL","source":"602b2d1a56bc7bf4.txt","type":"text/plain","size":44},{"uid":"ad7faf7f12935e3c","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"ad7faf7f12935e3c.png","type":"image/png","size":161326}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"728a223fd4ccb07","name":"Page URL","source":"728a223fd4ccb07.txt","type":"text/plain","size":33},{"uid":"b618e0dd1da334df","name":"Screenshot: Login via UI (success)","source":"b618e0dd1da334df.png","type":"image/png","size":161326}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d77e5b4469ddf8b1","name":"log","source":"d77e5b4469ddf8b1.txt","type":"text/plain","size":9222}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":18,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1761012767715,"stop":1761012767715,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761012767716,"stop":1761012767716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761012767716,"stop":1761012783556,"duration":15840},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1761012767716,"stop":1761012783556,"duration":15840},"status":"passed","steps":[],"attachments":[{"uid":"8cabeef33557b50f","name":"Cleanup note","source":"8cabeef33557b50f.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1761012783557,"stop":1761012783557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1761012783558,"stop":1761012783559,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"UI Project Change Member Roles"},{"name":"parentSuite","value":"UI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUIProjectChangeMemberRoles"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3646-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b096e52e0b89ca02","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Timeout 5000ms exceeded.","time":{"start":1761012617999,"stop":1761012617999,"duration":0}},{"uid":"d4c4e6c0390e9496","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Timeout 5000ms exceeded.","time":{"start":1761012542395,"stop":1761012542395,"duration":0}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":1,"skipped":0,"passed":83,"unknown":0,"total":88},"items":[{"uid":"2958b6ffc5f0ba99","status":"passed","time":{"start":1759543363716,"stop":1759543443957,"duration":80241}},{"uid":"b9d582f05f5a8aa1","status":"passed","time":{"start":1759457468946,"stop":1759457549811,"duration":80865}},{"uid":"5e1acc1a8444f6d1","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Welcome new user page displayed\nMessage: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"h3.truncate.text-h3\").filter(has_text=\"Welcome, regression-gdr9hpgpbg@apolo.us\")","time":{"start":1759371668107,"stop":1759371680712,"duration":12605}},{"uid":"46b152292e0399a9","status":"passed","time":{"start":1759283805478,"stop":1759283878543,"duration":73065}},{"uid":"3e210c6b41057df3","status":"passed","time":{"start":1759197097810,"stop":1759197182884,"duration":85074}},{"uid":"7b1d34dc563aff14","status":"passed","time":{"start":1759154618074,"stop":1759154688219,"duration":70145}},{"uid":"e855e476dfd2faf1","status":"passed","time":{"start":1759110880783,"stop":1759110963232,"duration":82449}},{"uid":"d05c5665c2b114d6","status":"passed","time":{"start":1759024513578,"stop":1759024601462,"duration":87884}},{"uid":"a1c95f7230f60887","status":"passed","time":{"start":1758938186430,"stop":1758938264309,"duration":77879}},{"uid":"4f0934928aa55444","status":"passed","time":{"start":1758851357271,"stop":1758851441041,"duration":83770}},{"uid":"4022564df3078ac8","status":"passed","time":{"start":1758765155984,"stop":1758765238263,"duration":82279}},{"uid":"a51c6e63ad3a7ccf","status":"passed","time":{"start":1758707025115,"stop":1758707101981,"duration":76866}},{"uid":"557bd4fd888fc840","status":"passed","time":{"start":1758691136794,"stop":1758691214773,"duration":77979}},{"uid":"cf9c0a435f222319","status":"passed","time":{"start":1758678794055,"stop":1758678885014,"duration":90959}},{"uid":"10ac3e66fcba6a3a","status":"passed","time":{"start":1758592310505,"stop":1758592414139,"duration":103634}},{"uid":"becc5de6786f3450","status":"passed","time":{"start":1758506033143,"stop":1758506137651,"duration":104508}},{"uid":"1b23407ee2bd656a","status":"passed","time":{"start":1758419493087,"stop":1758419580136,"duration":87049}},{"uid":"4c7f3bf83df33da6","status":"passed","time":{"start":1758333069071,"stop":1758333159793,"duration":90722}},{"uid":"4c336d8606460691","status":"passed","time":{"start":1758246700429,"stop":1758246807876,"duration":107447}},{"uid":"fdffa83d3ac88ce7","status":"passed","time":{"start":1758160218238,"stop":1758160298618,"duration":80380}}]},"tags":["asyncio"]},"source":"2349716188f386db.json","parameterValues":[]}