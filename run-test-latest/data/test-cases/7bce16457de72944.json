{"uid":"7bce16457de72944","name":"Admin removes himself from org via **CLI**","fullName":"tests.test_cases.tests_cli.test_organization_remove_members.TestCLIOrganizationRemoveMembers#test_admin_remove_himself_from_org_cli","historyId":"638434ccb6e7c91d3d7ada2c62a9eb1d","time":{"start":1761189301285,"stop":1761189343962,"duration":42677},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Add `second user` to organization with `Admin` role via **CLI**.\n- `Second user` login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- `Admin` **cannot** remove `himself` from organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> role via <strong>CLI</strong>.</li>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Second user</span> login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> <strong>cannot</strong> remove <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>himself</span> from organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Remove user from organization via CLI\nMessage: Expected: \nERROR: Illegal argument(s) (Org users cannot remove themselves) \nbut got \nERROR: Not enough permissions ({\"missing\": [{\"uri\": \"org://regression-org-mu9lu9han0c4/users\", \"action\": \"write\"}]})","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:239: in cli_remove_user_from_org\n    assert error_message == expected_error, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Expected: \nE   ERROR: Illegal argument(s) (Org users cannot remove themselves) \nE   but got \nE   ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"org://regression-org-mu9lu9han0c4/users\", \"action\": \"write\"}]})\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_organization_remove_members.py:219: in test_admin_remove_himself_from_org_cli\n    await self._cli_steps.admin.cli_remove_user_from_org(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Remove user from organization via CLI\nE   Message: Expected: \nE   ERROR: Illegal argument(s) (Org users cannot remove themselves) \nE   but got \nE   ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"org://regression-org-mu9lu9han0c4/users\", \"action\": \"write\"}]})","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1761183183368,"stop":1761183183368,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761183183368,"stop":1761183183368,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1761183183368,"stop":1761183183368,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761183183369,"stop":1761183183369,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1761183183369,"stop":1761183213369,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761183183369,"stop":1761183183369,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1761183213369,"stop":1761183213370,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1761189299005,"stop":1761189299010,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1761189299010,"stop":1761189299010,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1761189299010,"stop":1761189300720,"duration":1710},"status":"passed","steps":[],"attachments":[{"uid":"3c445c759b8dcb36","name":"HTTP 200 - GET config","source":"3c445c759b8dcb36.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1761189300720,"stop":1761189300720,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1761189300721,"stop":1761189300722,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1761189300721,"stop":1761189300721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1761189300721,"stop":1761189300721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1761189300721,"stop":1761189300721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1761189300722,"stop":1761189300722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1761189300722,"stop":1761189301284,"duration":562},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1761189300722,"stop":1761189301284,"duration":562},"status":"passed","steps":[],"attachments":[{"uid":"2b6f19a0f76ac632","name":"Executed CLI command","source":"2b6f19a0f76ac632.txt","type":"text/plain","size":15},{"uid":"ea3293beb26dba0","name":"Executed CLI command output","source":"ea3293beb26dba0.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1761189300722,"stop":1761189300722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Add `second user` to organization with `Admin` role via **CLI**.\n- `Second user` login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- `Admin` **cannot** remove `himself` from organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> role via <strong>CLI</strong>.</li>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Second user</span> login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> <strong>cannot</strong> remove <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>himself</span> from organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Remove user from organization via CLI\nMessage: Expected: \nERROR: Illegal argument(s) (Org users cannot remove themselves) \nbut got \nERROR: Not enough permissions ({\"missing\": [{\"uri\": \"org://regression-org-mu9lu9han0c4/users\", \"action\": \"write\"}]})","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:239: in cli_remove_user_from_org\n    assert error_message == expected_error, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Expected: \nE   ERROR: Illegal argument(s) (Org users cannot remove themselves) \nE   but got \nE   ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"org://regression-org-mu9lu9han0c4/users\", \"action\": \"write\"}]})\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_organization_remove_members.py:219: in test_admin_remove_himself_from_org_cli\n    await self._cli_steps.admin.cli_remove_user_from_org(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Remove user from organization via CLI\nE   Message: Expected: \nE   ERROR: Illegal argument(s) (Org users cannot remove themselves) \nE   but got \nE   ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"org://regression-org-mu9lu9han0c4/users\", \"action\": \"write\"}]})","steps":[{"name":"Login via UI","time":{"start":1761189301286,"stop":1761189307801,"duration":6515},"status":"passed","steps":[{"name":"Click login button","time":{"start":1761189301286,"stop":1761189302509,"duration":1223},"status":"passed","steps":[],"attachments":[{"uid":"6d38e42a2499cb62","name":"Page URL","source":"6d38e42a2499cb62.txt","type":"text/plain","size":33},{"uid":"1dc48e307ea63ad1","name":"Screenshot: Click login button (success)","source":"1dc48e307ea63ad1.png","type":"image/png","size":41830}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1761189302509,"stop":1761189302866,"duration":357},"status":"passed","steps":[],"attachments":[{"uid":"cdf9eec7650453f1","name":"Page URL","source":"cdf9eec7650453f1.txt","type":"text/plain","size":215},{"uid":"32d8d8aca778e1fd","name":"Screenshot: Enter email (success)","source":"32d8d8aca778e1fd.png","type":"image/png","size":46227}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1761189302866,"stop":1761189303233,"duration":367},"status":"passed","steps":[],"attachments":[{"uid":"8f5542e6bec8da3a","name":"Page URL","source":"8f5542e6bec8da3a.txt","type":"text/plain","size":215},{"uid":"87051939a51daa09","name":"Screenshot: Enter password (success)","source":"87051939a51daa09.png","type":"image/png","size":46370}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1761189303233,"stop":1761189306574,"duration":3341},"status":"passed","steps":[],"attachments":[{"uid":"333e92b0cd2e4a","name":"Page URL","source":"333e92b0cd2e4a.txt","type":"text/plain","size":215},{"uid":"8eb5c307c4819bb6","name":"HTTP 200 - GET config","source":"8eb5c307c4819bb6.txt","type":"text/plain","size":771},{"uid":"5cf3463cdc9c8176","name":"HTTP 200 - GET permissions?uri=blob:","source":"5cf3463cdc9c8176.txt","type":"text/plain","size":182},{"uid":"9c7bfc6d016b432b","name":"HTTP 200 - GET incoming","source":"9c7bfc6d016b432b.txt","type":"text/plain","size":156},{"uid":"c25b73ebf26bac","name":"HTTP 200 - GET regression-wcu4j9k6ot?include=orgs","source":"c25b73ebf26bac.txt","type":"text/plain","size":379},{"uid":"1eb05ed0aafda8b4","name":"HTTP 200 - GET regression-wcu4j9k6ot?include=clusters&include=system_role","source":"1eb05ed0aafda8b4.txt","type":"text/plain","size":407},{"uid":"c645349b0e6a3717","name":"Screenshot: Click Continue button (success)","source":"c645349b0e6a3717.png","type":"image/png","size":161146}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1761189306589,"stop":1761189307702,"duration":1113},"status":"passed","steps":[],"attachments":[{"uid":"263a4c2f86e5b548","name":"Page URL","source":"263a4c2f86e5b548.txt","type":"text/plain","size":44},{"uid":"1876b45f5e7ac2b7","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"1876b45f5e7ac2b7.png","type":"image/png","size":161146}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6fcb8e7e02a5444d","name":"Page URL","source":"6fcb8e7e02a5444d.txt","type":"text/plain","size":33},{"uid":"bb18c7b954a5dbf8","name":"Screenshot: Login via UI (success)","source":"bb18c7b954a5dbf8.png","type":"image/png","size":161146}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1761189307801,"stop":1761189329215,"duration":21414},"status":"passed","steps":[{"name":"Reload page","time":{"start":1761189321949,"stop":1761189329136,"duration":7187},"status":"passed","steps":[],"attachments":[{"uid":"64bf8a1ecb16fa9f","name":"Page URL","source":"64bf8a1ecb16fa9f.txt","type":"text/plain","size":44},{"uid":"e34d4a3c92fac4f2","name":"HTTP 200 - GET config","source":"e34d4a3c92fac4f2.txt","type":"text/plain","size":2137},{"uid":"193c3d11a2714d16","name":"HTTP 200 - GET permissions?uri=blob:","source":"193c3d11a2714d16.txt","type":"text/plain","size":255},{"uid":"f3a64e4ecfeeb8b2","name":"HTTP 200 - GET incoming","source":"f3a64e4ecfeeb8b2.txt","type":"text/plain","size":156},{"uid":"1063b800c263f9ee","name":"HTTP 200 - GET regression-wcu4j9k6ot?include=clusters&include=system_role","source":"1063b800c263f9ee.txt","type":"text/plain","size":529},{"uid":"6041c29a6f7836e2","name":"HTTP 200 - GET regression-org-mu9lu9han0c4","source":"6041c29a6f7836e2.txt","type":"text/plain","size":444},{"uid":"68906e2150fbb13b","name":"HTTP 200 - GET regression-wcu4j9k6ot?include=orgs","source":"68906e2150fbb13b.txt","type":"text/plain","size":474},{"uid":"66cb85d8f709da33","name":"HTTP 200 - GET tags","source":"66cb85d8f709da33.txt","type":"text/plain","size":867},{"uid":"7dea263ca208daf2","name":"Screenshot: Reload page (success)","source":"7dea263ca208daf2.png","type":"image/png","size":57600}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6e772d8813b1031e","name":"Page URL","source":"6e772d8813b1031e.txt","type":"text/plain","size":44},{"uid":"7672d46b69b0fab2","name":"Screenshot: Add organization via API and reload page (success)","source":"7672d46b69b0fab2.png","type":"image/png","size":57600}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Get second user","time":{"start":1761189330831,"stop":1761189330936,"duration":105},"status":"passed","steps":[],"attachments":[{"uid":"f8dda835dea348a","name":"Page URL","source":"f8dda835dea348a.txt","type":"text/plain","size":33},{"uid":"adbf2f118b1d385d","name":"Screenshot: <<User2>> :: Get second user (success)","source":"adbf2f118b1d385d.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Login via UI","time":{"start":1761189330936,"stop":1761189337962,"duration":7026},"status":"passed","steps":[{"name":"<<User2>> :: Click login button","time":{"start":1761189330937,"stop":1761189331821,"duration":884},"status":"passed","steps":[],"attachments":[{"uid":"3c36486198227d77","name":"Page URL","source":"3c36486198227d77.txt","type":"text/plain","size":33},{"uid":"bb090ca4aff94d23","name":"Screenshot: <<User2>> :: Click login button (success)","source":"bb090ca4aff94d23.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter email","time":{"start":1761189331821,"stop":1761189332181,"duration":360},"status":"passed","steps":[],"attachments":[{"uid":"3e80e665ee5c0cb9","name":"Page URL","source":"3e80e665ee5c0cb9.txt","type":"text/plain","size":215},{"uid":"95c2f625b194cb89","name":"Screenshot: <<User2>> :: Enter email (success)","source":"95c2f625b194cb89.png","type":"image/png","size":46600}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter password","time":{"start":1761189332181,"stop":1761189332514,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"2280e721b37572b3","name":"Page URL","source":"2280e721b37572b3.txt","type":"text/plain","size":215},{"uid":"2d6770dee4e978cf","name":"Screenshot: <<User2>> :: Enter password (success)","source":"2d6770dee4e978cf.png","type":"image/png","size":46744}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click Continue button","time":{"start":1761189332514,"stop":1761189336771,"duration":4257},"status":"passed","steps":[],"attachments":[{"uid":"4170cbf3ae94729c","name":"Page URL","source":"4170cbf3ae94729c.txt","type":"text/plain","size":215},{"uid":"3db01195d9976951","name":"HTTP 200 - GET config","source":"3db01195d9976951.txt","type":"text/plain","size":771},{"uid":"fd852a1008d2810c","name":"HTTP 200 - GET incoming","source":"fd852a1008d2810c.txt","type":"text/plain","size":156},{"uid":"245e87b7f0722334","name":"HTTP 200 - GET permissions?uri=blob:","source":"245e87b7f0722334.txt","type":"text/plain","size":182},{"uid":"9019a3910a920b44","name":"HTTP 200 - GET regression-3y9d4co2n8?include=orgs","source":"9019a3910a920b44.txt","type":"text/plain","size":379},{"uid":"bbbd4bd566bffb5e","name":"HTTP 200 - GET regression-3y9d4co2n8?include=clusters&include=system_role","source":"bbbd4bd566bffb5e.txt","type":"text/plain","size":407},{"uid":"8e42481c76ae6383","name":"Screenshot: <<User2>> :: Click Continue button (success)","source":"8e42481c76ae6383.png","type":"image/png","size":161965}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Welcome new user page displayed","time":{"start":1761189336782,"stop":1761189337879,"duration":1097},"status":"passed","steps":[],"attachments":[{"uid":"7f4d6a6a3c398e90","name":"Page URL","source":"7f4d6a6a3c398e90.txt","type":"text/plain","size":44},{"uid":"32c3c23a5127cbba","name":"Screenshot: <<User2>> :: Verify that Welcome new user page displayed (success)","source":"32c3c23a5127cbba.png","type":"image/png","size":161965}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"cc486b9738f210cb","name":"Page URL","source":"cc486b9738f210cb.txt","type":"text/plain","size":33},{"uid":"ec2367398cb91479","name":"Screenshot: <<User2>> :: Login via UI (success)","source":"ec2367398cb91479.png","type":"image/png","size":161965}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1761189337963,"stop":1761189338767,"duration":804},"status":"passed","steps":[],"attachments":[{"uid":"ceea3d1044dca9aa","name":"Executed CLI command","source":"ceea3d1044dca9aa.txt","type":"text/plain","size":1114},{"uid":"47ee8e9d00d73df2","name":"Executed CLI command output","source":"47ee8e9d00d73df2.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add user to organization via CLI","time":{"start":1761189338767,"stop":1761189339705,"duration":938},"status":"passed","steps":[],"attachments":[{"uid":"700fdb1450f1b0b8","name":"Executed CLI command","source":"700fdb1450f1b0b8.txt","type":"text/plain","size":80},{"uid":"c45d68b5184093f6","name":"Executed CLI command output","source":"c45d68b5184093f6.txt","type":"text/plain","size":110}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Get organization users via CLI","time":{"start":1761189339705,"stop":1761189342402,"duration":2697},"status":"passed","steps":[],"attachments":[{"uid":"2de2864666d0941e","name":"Executed CLI command","source":"2de2864666d0941e.txt","type":"text/plain","size":53},{"uid":"d8552affc4253c58","name":"Executed CLI command output","source":"d8552affc4253c58.txt","type":"text/plain","size":1153}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify user is present in get-org-users command output","time":{"start":1761189342402,"stop":1761189342403,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"22ccaaadb2cf320","name":"Executed CLI command","source":"22ccaaadb2cf320.txt","type":"text/plain","size":53},{"uid":"3e4fc3051f078801","name":"Executed CLI command output","source":"3e4fc3051f078801.txt","type":"text/plain","size":1153}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1761189342403,"stop":1761189343224,"duration":821},"status":"passed","steps":[],"attachments":[{"uid":"fff2ddc4bcb4411a","name":"Executed CLI command","source":"fff2ddc4bcb4411a.txt","type":"text/plain","size":1114},{"uid":"da0229c937f34d93","name":"Executed CLI command output","source":"da0229c937f34d93.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Remove user from organization via CLI","time":{"start":1761189343224,"stop":1761189343961,"duration":737},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Remove user from organization via CLI\nMessage: Expected: \nERROR: Illegal argument(s) (Org users cannot remove themselves) \nbut got \nERROR: Not enough permissions ({\"missing\": [{\"uri\": \"org://regression-org-mu9lu9han0c4/users\", \"action\": \"write\"}]})\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"1c5f75f0362a6379","name":"Executed CLI command","source":"1c5f75f0362a6379.txt","type":"text/plain","size":77},{"uid":"a858b99e04f1e0a7","name":"Executed CLI command output","source":"a858b99e04f1e0a7.txt","type":"text/plain","size":116}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b868c2fdcb373620","name":"HTTP 200 - GET config","source":"b868c2fdcb373620.txt","type":"text/plain","size":673},{"uid":"f726245ec4b40a5b","name":"log","source":"f726245ec4b40a5b.txt","type":"text/plain","size":30157}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":21,"attachmentsCount":61,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1761189343986,"stop":1761189343987,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761189343987,"stop":1761189343987,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761189343987,"stop":1761189348737,"duration":4750},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1761189343987,"stop":1761189348737,"duration":4750},"status":"passed","steps":[{"name":"Delete organisation: regression-org-mu9lu9han0c4","time":{"start":1761189347696,"stop":1761189348657,"duration":961},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1761189348738,"stop":1761189348738,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1761189348739,"stop":1761189348739,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Organization Remove Members"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationRemoveMembers"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3616-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_remove_members"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"7bce16457de72944.json","parameterValues":[]}