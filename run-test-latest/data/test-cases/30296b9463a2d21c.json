{"uid":"30296b9463a2d21c","name":"Run Hello World Job and Validate UI and CLI Results","fullName":"tests.test_cases.tests_e2e.test_e2e_hello_world.TestHelloWorldJob#test_run_hello_world_job","historyId":"a91823757109ce48d16fa7570a3936b7","time":{"start":1757907666574,"stop":1757907698212,"duration":31638},"description":"\n- Login with valid credentials.\n- Create new organization via **UI** during onboarding.\n- Create new project via **CLI**.\n- Run `Hello World` Job via **CLI**.\n\nVerify that:\n\n- Job executed successfully in **CLI**.\n- Job is displayed in successful jobs via **UI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>UI</strong> during onboarding.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Hello World</span> Job via <strong>CLI</strong>.</li>\n</ul>\n<p>Verify that:</p>\n<ul>\n<li>Job executed successfully in <strong>CLI</strong>.</li>\n<li>Job is displayed in successful jobs via <strong>UI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-6xawjye7sknb/add-project\", \"action\": \"write\"}]})","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:58: in cli_add_new_project\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-6xawjye7sknb/add-project\", \"action\": \"write\"}]})\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_e2e_hello_world.py:74: in test_run_hello_world_job\n    await self.cli_steps.admin.cli_add_new_project(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add new project via apolo CLI\nE   Message: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-6xawjye7sknb/add-project\", \"action\": \"write\"}]})","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1757907658002,"stop":1757907658005,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757907658005,"stop":1757907660122,"duration":2117},"status":"passed","steps":[],"attachments":[{"uid":"bc3e45cb16c696ca","name":"HTTP 200 - GET config","source":"bc3e45cb16c696ca.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757907658005,"stop":1757907658005,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1757907660123,"stop":1757907660123,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1757907660123,"stop":1757907660123,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1757907660123,"stop":1757907660123,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757907660123,"stop":1757907660123,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1757907660124,"stop":1757907666573,"duration":6449},"status":"passed","steps":[{"name":"Login via UI","time":{"start":1757907660124,"stop":1757907666060,"duration":5936},"status":"passed","steps":[{"name":"Click login button","time":{"start":1757907660125,"stop":1757907661146,"duration":1021},"status":"passed","steps":[],"attachments":[{"uid":"3c7d5e77a5a45967","name":"Page URL","source":"3c7d5e77a5a45967.txt","type":"text/plain","size":33},{"uid":"4a1ede72e3b32a48","name":"Screenshot: Click login button (success)","source":"4a1ede72e3b32a48.png","type":"image/png","size":41537}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757907661147,"stop":1757907661311,"duration":164},"status":"passed","steps":[],"attachments":[{"uid":"f14b8345f5089c29","name":"Page URL","source":"f14b8345f5089c29.txt","type":"text/plain","size":215},{"uid":"213195675cd2b257","name":"Screenshot: Enter email (success)","source":"213195675cd2b257.png","type":"image/png","size":45953}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757907661311,"stop":1757907661464,"duration":153},"status":"passed","steps":[],"attachments":[{"uid":"b1be844f9e611792","name":"Page URL","source":"b1be844f9e611792.txt","type":"text/plain","size":215},{"uid":"b44653df7fb85f0e","name":"Screenshot: Enter password (success)","source":"b44653df7fb85f0e.png","type":"image/png","size":46459}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1757907661464,"stop":1757907664867,"duration":3403},"status":"passed","steps":[],"attachments":[{"uid":"576ceb41100a415d","name":"Page URL","source":"576ceb41100a415d.txt","type":"text/plain","size":215},{"uid":"32c0a44361e7fa56","name":"HTTP 200 - GET config","source":"32c0a44361e7fa56.txt","type":"text/plain","size":752},{"uid":"28daaf198c63668","name":"HTTP 200 - GET regression-70gkbkzn2j?include=clusters&include=system_role","source":"28daaf198c63668.txt","type":"text/plain","size":388},{"uid":"6e3c1ab81cf08a4f","name":"HTTP 200 - GET permissions?uri=blob:","source":"6e3c1ab81cf08a4f.txt","type":"text/plain","size":163},{"uid":"7e22cca05a4f40d2","name":"HTTP 200 - GET regression-70gkbkzn2j?include=orgs","source":"7e22cca05a4f40d2.txt","type":"text/plain","size":360},{"uid":"db2eced4cc83e75","name":"HTTP 200 - GET incoming","source":"db2eced4cc83e75.txt","type":"text/plain","size":137},{"uid":"cba7201653f67bf8","name":"Screenshot: Click Continue button (success)","source":"cba7201653f67bf8.png","type":"image/png","size":51508}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757907664879,"stop":1757907665976,"duration":1097},"status":"passed","steps":[],"attachments":[{"uid":"91120529f32735ab","name":"Page URL","source":"91120529f32735ab.txt","type":"text/plain","size":44},{"uid":"ddba90824c707f92","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"ddba90824c707f92.png","type":"image/png","size":160322}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"39a4fabf1d1601ba","name":"Page URL","source":"39a4fabf1d1601ba.txt","type":"text/plain","size":33},{"uid":"53d51fd3f3524950","name":"Screenshot: Login via UI (success)","source":"53d51fd3f3524950.png","type":"image/png","size":160322}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Verify Apolo CLI client is installed","time":{"start":1757907666060,"stop":1757907666573,"duration":513},"status":"passed","steps":[],"attachments":[{"uid":"79938b3e55137cb5","name":"Executed CLI command","source":"79938b3e55137cb5.txt","type":"text/plain","size":15},{"uid":"92ae93ee33cf928","name":"Executed CLI command output","source":"92ae93ee33cf928.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":19,"hasContent":true,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757907660124,"stop":1757907660124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **UI** during onboarding.\n- Create new project via **CLI**.\n- Run `Hello World` Job via **CLI**.\n\nVerify that:\n\n- Job executed successfully in **CLI**.\n- Job is displayed in successful jobs via **UI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>UI</strong> during onboarding.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Hello World</span> Job via <strong>CLI</strong>.</li>\n</ul>\n<p>Verify that:</p>\n<ul>\n<li>Job executed successfully in <strong>CLI</strong>.</li>\n<li>Job is displayed in successful jobs via <strong>UI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-6xawjye7sknb/add-project\", \"action\": \"write\"}]})","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:58: in cli_add_new_project\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-6xawjye7sknb/add-project\", \"action\": \"write\"}]})\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_e2e_hello_world.py:74: in test_run_hello_world_job\n    await self.cli_steps.admin.cli_add_new_project(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add new project via apolo CLI\nE   Message: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-6xawjye7sknb/add-project\", \"action\": \"write\"}]})","steps":[{"name":"Pass new user onboarding and create first organization via UI","time":{"start":1757907666574,"stop":1757907694511,"duration":27937},"status":"passed","steps":[{"name":"Click the let's do it button on Welcome page","time":{"start":1757907666575,"stop":1757907667761,"duration":1186},"status":"passed","steps":[],"attachments":[{"uid":"f07995b090b9c905","name":"Page URL","source":"f07995b090b9c905.txt","type":"text/plain","size":44},{"uid":"cdbab225632b2707","name":"Screenshot: Click the let's do it button on Welcome page (success)","source":"cdbab225632b2707.png","type":"image/png","size":157589}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify Join organization page displayed","time":{"start":1757907667761,"stop":1757907668877,"duration":1116},"status":"passed","steps":[],"attachments":[{"uid":"723da4f9e960819b","name":"Page URL","source":"723da4f9e960819b.txt","type":"text/plain","size":44},{"uid":"8b74d4d2dbe7b3ef","name":"Screenshot: Verify Join organization page displayed (success)","source":"8b74d4d2dbe7b3ef.png","type":"image/png","size":157512}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click create organization button","time":{"start":1757907668877,"stop":1757907670774,"duration":1897},"status":"passed","steps":[],"attachments":[{"uid":"5405a2bc086ccff","name":"Page URL","source":"5405a2bc086ccff.txt","type":"text/plain","size":44},{"uid":"9a930e587aa080a5","name":"Screenshot: Click create organization button (success)","source":"9a930e587aa080a5.png","type":"image/png","size":144499}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify Name organization page displayed","time":{"start":1757907670774,"stop":1757907671891,"duration":1117},"status":"passed","steps":[],"attachments":[{"uid":"b72c588baf223a8f","name":"Page URL","source":"b72c588baf223a8f.txt","type":"text/plain","size":44},{"uid":"a1614f7b7b199fcb","name":"Screenshot: Verify Name organization page displayed (success)","source":"a1614f7b7b199fcb.png","type":"image/png","size":144499}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter organization name","time":{"start":1757907671892,"stop":1757907672583,"duration":691},"status":"passed","steps":[],"attachments":[{"uid":"6fdcc754a2850bfe","name":"Page URL","source":"6fdcc754a2850bfe.txt","type":"text/plain","size":44},{"uid":"68f43e31ba0a840d","name":"HTTP 404 - GET regression-org-6xawjye7sknb","source":"68f43e31ba0a840d.txt","type":"text/plain","size":207},{"uid":"482515e207419033","name":"Screenshot: Enter organization name (success)","source":"482515e207419033.png","type":"image/png","size":152314}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click next button","time":{"start":1757907672583,"stop":1757907674009,"duration":1426},"status":"passed","steps":[],"attachments":[{"uid":"7ecf8a49b6a05a5","name":"Page URL","source":"7ecf8a49b6a05a5.txt","type":"text/plain","size":44},{"uid":"3920756079cd65d7","name":"Screenshot: Click next button (success)","source":"3920756079cd65d7.png","type":"image/png","size":151461}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click lets do it button on That's it page","time":{"start":1757907674009,"stop":1757907688330,"duration":14321},"status":"passed","steps":[],"attachments":[{"uid":"6ae52f57c776029a","name":"Page URL","source":"6ae52f57c776029a.txt","type":"text/plain","size":44},{"uid":"4d5b5641eac59769","name":"HTTP 201 - POST orgs","source":"4d5b5641eac59769.txt","type":"text/plain","size":398},{"uid":"7593ad41a2e9a7ba","name":"HTTP 200 - GET config","source":"7593ad41a2e9a7ba.txt","type":"text/plain","size":1118},{"uid":"daa5968c097de288","name":"HTTP 200 - GET permissions?uri=blob:","source":"daa5968c097de288.txt","type":"text/plain","size":163},{"uid":"25b97806058169f8","name":"HTTP 200 - GET incoming","source":"25b97806058169f8.txt","type":"text/plain","size":137},{"uid":"2905627b7d092390","name":"HTTP 200 - GET regression-org-6xawjye7sknb","source":"2905627b7d092390.txt","type":"text/plain","size":425},{"uid":"d443a396668a7bbd","name":"HTTP 200 - GET regression-70gkbkzn2j?include=clusters&include=system_role","source":"d443a396668a7bbd.txt","type":"text/plain","size":510},{"uid":"e03077e28168392e","name":"HTTP 200 - GET regression-70gkbkzn2j?include=orgs","source":"e03077e28168392e.txt","type":"text/plain","size":455},{"uid":"5ea8f369db61be1c","name":"Screenshot: Click lets do it button on That's it page (success)","source":"5ea8f369db61be1c.png","type":"image/png","size":56579}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false},{"name":"Verify Main page is displayed","time":{"start":1757907688330,"stop":1757907694427,"duration":6097},"status":"passed","steps":[],"attachments":[{"uid":"598df7ecdce9bec6","name":"Page URL","source":"598df7ecdce9bec6.txt","type":"text/plain","size":81},{"uid":"fedc2a089d17b5ab","name":"Screenshot: Verify Main page is displayed (success)","source":"fedc2a089d17b5ab.png","type":"image/png","size":56579}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7c347159c6b1ecfe","name":"Page URL","source":"7c347159c6b1ecfe.txt","type":"text/plain","size":44},{"uid":"92ea4bfe6c0eb213","name":"Screenshot: Pass new user onboarding and create first organization via UI (success)","source":"92ea4bfe6c0eb213.png","type":"image/png","size":56579}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":26,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1757907694511,"stop":1757907695473,"duration":962},"status":"passed","steps":[],"attachments":[{"uid":"d20b45c42d22bf7a","name":"Executed CLI command","source":"d20b45c42d22bf7a.txt","type":"text/plain","size":1114},{"uid":"dc06e4b059b68a9","name":"Executed CLI command output","source":"dc06e4b059b68a9.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1757907697475,"stop":1757907698211,"duration":736},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-6xawjye7sknb/add-project\", \"action\": \"write\"}]})\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"1b5721dc1c4eb799","name":"Executed CLI command","source":"1b5721dc1c4eb799.txt","type":"text/plain","size":114},{"uid":"230fe20d9148094b","name":"Executed CLI command output","source":"230fe20d9148094b.txt","type":"text/plain","size":139}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a687cde1a2af04c6","name":"log","source":"a687cde1a2af04c6.txt","type":"text/plain","size":21899}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":31,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1757907698225,"stop":1757907698225,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757907698225,"stop":1757907702006,"duration":3781},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757907698225,"stop":1757907702006,"duration":3781},"status":"passed","steps":[{"name":"Delete organisation: regression-org-6xawjye7sknb","time":{"start":1757907701680,"stop":1757907701964,"duration":284},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757907702007,"stop":1757907702007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757907702009,"stop":1757907702009,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"Apolo CLI Hello World Job Verification"},{"name":"parentSuite","value":"E2E Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestHelloWorldJob"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3742-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_e2e.test_e2e_hello_world"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"30296b9463a2d21c.json","parameterValues":[]}