{"uid":"d753cee9c9ad2cbe","name":"Admin remove folder via CLI","fullName":"tests.test_cases.tests_cli.test_storage.TestCLIStorage#test_admin_remove_folder_cli","historyId":"b59e0b40fbc2dd02eaabf76909592327","time":{"start":1758681091310,"stop":1758681134199,"duration":42889},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create new folder via **CLI**.\n\n### Verify that:\n\n- User can remove folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create new folder via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:141: in test_admin_remove_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1758677487610,"stop":1758677487610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758677487610,"stop":1758677487610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1758677487611,"stop":1758677517611,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758677487611,"stop":1758677487611,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758677487611,"stop":1758677487611,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1758677487611,"stop":1758677487611,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1758677517611,"stop":1758677517612,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1758681088675,"stop":1758681088677,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1758681088678,"stop":1758681088678,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1758681088678,"stop":1758681090811,"duration":2133},"status":"passed","steps":[],"attachments":[{"uid":"620253555471ad6c","name":"HTTP 200 - GET config","source":"620253555471ad6c.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper","time":{"start":1758681090811,"stop":1758681090812,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1758681090811,"stop":1758681090811,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1758681090811,"stop":1758681090811,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1758681090812,"stop":1758681090813,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1758681090812,"stop":1758681090812,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1758681090813,"stop":1758681090813,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1758681090813,"stop":1758681090813,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1758681090813,"stop":1758681091309,"duration":496},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1758681090813,"stop":1758681091309,"duration":496},"status":"passed","steps":[],"attachments":[{"uid":"5dd9d35fad1f91e5","name":"Executed CLI command","source":"5dd9d35fad1f91e5.txt","type":"text/plain","size":15},{"uid":"f836f367a2cd5bc0","name":"Executed CLI command output","source":"f836f367a2cd5bc0.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create new folder via **CLI**.\n\n### Verify that:\n\n- User can remove folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create new folder via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:141: in test_admin_remove_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5'","steps":[{"name":"Login via UI","time":{"start":1758681091310,"stop":1758681102101,"duration":10791},"status":"passed","steps":[{"name":"Click login button","time":{"start":1758681091310,"stop":1758681092440,"duration":1130},"status":"passed","steps":[],"attachments":[{"uid":"1c77149a3078f3c2","name":"Page URL","source":"1c77149a3078f3c2.txt","type":"text/plain","size":33},{"uid":"7634e8969cac00f4","name":"Screenshot: Click login button (success)","source":"7634e8969cac00f4.png","type":"image/png","size":41531}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758681092440,"stop":1758681092590,"duration":150},"status":"passed","steps":[],"attachments":[{"uid":"536241d1c0aa4a56","name":"Page URL","source":"536241d1c0aa4a56.txt","type":"text/plain","size":215},{"uid":"d334995b6d22e844","name":"Screenshot: Enter email (success)","source":"d334995b6d22e844.png","type":"image/png","size":46075}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758681092590,"stop":1758681092753,"duration":163},"status":"passed","steps":[],"attachments":[{"uid":"caac9fa4a691b725","name":"Page URL","source":"caac9fa4a691b725.txt","type":"text/plain","size":215},{"uid":"c880ea27a148a20","name":"Screenshot: Enter password (success)","source":"c880ea27a148a20.png","type":"image/png","size":46597}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1758681092753,"stop":1758681100919,"duration":8166},"status":"passed","steps":[],"attachments":[{"uid":"b3dc38d538f840a5","name":"Page URL","source":"b3dc38d538f840a5.txt","type":"text/plain","size":215},{"uid":"6a9f4fd8c6dfd070","name":"HTTP 200 - GET config","source":"6a9f4fd8c6dfd070.txt","type":"text/plain","size":752},{"uid":"2f842a5522aa529e","name":"HTTP 200 - GET permissions?uri=blob:","source":"2f842a5522aa529e.txt","type":"text/plain","size":163},{"uid":"f194da9a06005556","name":"HTTP 200 - GET regression-ox83ufqfws?include=orgs","source":"f194da9a06005556.txt","type":"text/plain","size":360},{"uid":"7f483c25ca25b78f","name":"HTTP 200 - GET incoming","source":"7f483c25ca25b78f.txt","type":"text/plain","size":137},{"uid":"4d0080f5a7eff3aa","name":"HTTP 200 - GET regression-ox83ufqfws?include=clusters&include=system_role","source":"4d0080f5a7eff3aa.txt","type":"text/plain","size":388},{"uid":"249bc8533d4f2911","name":"Screenshot: Click Continue button (success)","source":"249bc8533d4f2911.png","type":"image/png","size":160937}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1758681100933,"stop":1758681102023,"duration":1090},"status":"passed","steps":[],"attachments":[{"uid":"9f952922c9402b65","name":"Page URL","source":"9f952922c9402b65.txt","type":"text/plain","size":44},{"uid":"de4b04cbb44d6a87","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"de4b04cbb44d6a87.png","type":"image/png","size":160937}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d20d44b59f2b566","name":"Page URL","source":"d20d44b59f2b566.txt","type":"text/plain","size":33},{"uid":"8bf0538f336cba42","name":"Screenshot: Login via UI (success)","source":"8bf0538f336cba42.png","type":"image/png","size":160937}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1758681102101,"stop":1758681128605,"duration":26504},"status":"passed","steps":[{"name":"Reload page","time":{"start":1758681121206,"stop":1758681128524,"duration":7318},"status":"passed","steps":[],"attachments":[{"uid":"6d71d9a3e64585b8","name":"Page URL","source":"6d71d9a3e64585b8.txt","type":"text/plain","size":44},{"uid":"3514005c4ffec9dc","name":"HTTP 200 - GET config","source":"3514005c4ffec9dc.txt","type":"text/plain","size":1118},{"uid":"bb367b5533e54a13","name":"HTTP 200 - GET permissions?uri=blob:","source":"bb367b5533e54a13.txt","type":"text/plain","size":236},{"uid":"5bc569b93f7d731","name":"HTTP 200 - GET incoming","source":"5bc569b93f7d731.txt","type":"text/plain","size":137},{"uid":"d87e9877cf6335be","name":"HTTP 200 - GET regression-ox83ufqfws?include=clusters&include=system_role","source":"d87e9877cf6335be.txt","type":"text/plain","size":510},{"uid":"b4ee33eac14ba291","name":"HTTP 200 - GET regression-ox83ufqfws?include=orgs","source":"b4ee33eac14ba291.txt","type":"text/plain","size":455},{"uid":"b1c0193382f9229d","name":"HTTP 200 - GET regression-org-ixaurbhpx2zy","source":"b1c0193382f9229d.txt","type":"text/plain","size":425},{"uid":"236c8dfb2760aea6","name":"Screenshot: Reload page (success)","source":"236c8dfb2760aea6.png","type":"image/png","size":55576}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5a2d08794fc35f96","name":"Page URL","source":"5a2d08794fc35f96.txt","type":"text/plain","size":44},{"uid":"db6ecf3c6a0e8d51","name":"Screenshot: Add organization via API and reload page (success)","source":"db6ecf3c6a0e8d51.png","type":"image/png","size":55576}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1758681128605,"stop":1758681129416,"duration":811},"status":"passed","steps":[],"attachments":[{"uid":"17b8866cc4a29422","name":"Executed CLI command","source":"17b8866cc4a29422.txt","type":"text/plain","size":1114},{"uid":"de5a95b5b765660e","name":"Executed CLI command output","source":"de5a95b5b765660e.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1758681129416,"stop":1758681133114,"duration":3698},"status":"passed","steps":[],"attachments":[{"uid":"809e403ad7a40122","name":"Executed CLI command","source":"809e403ad7a40122.txt","type":"text/plain","size":114},{"uid":"7e7432e243b87e26","name":"Executed CLI command output","source":"7e7432e243b87e26.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create folder via CLI","time":{"start":1758681133115,"stop":1758681134198,"duration":1083},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-ixaurbhpx2zy/regression-proj-vse41o6xo5'\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"40607084217aefdc","name":"Executed CLI command","source":"40607084217aefdc.txt","type":"text/plain","size":37},{"uid":"1b96039a28864eb0","name":"Executed CLI command output","source":"1b96039a28864eb0.txt","type":"text/plain","size":218}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2bd15d32014e762c","name":"log","source":"2bd15d32014e762c.txt","type":"text/plain","size":35550}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1758681134212,"stop":1758681134213,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1758681134212,"stop":1758681134212,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758681134213,"stop":1758681139100,"duration":4887},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1758681134213,"stop":1758681139100,"duration":4887},"status":"passed","steps":[{"name":"Delete organisation: regression-org-ixaurbhpx2zy","time":{"start":1758681138205,"stop":1758681139067,"duration":862},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1758681139101,"stop":1758681139101,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1758681139102,"stop":1758681139103,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Storage"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIStorage"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3615-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_storage"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"d753cee9c9ad2cbe.json","parameterValues":[]}