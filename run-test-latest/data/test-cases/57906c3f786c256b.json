{"uid":"57906c3f786c256b","name":"Verfiy POST external Chat API /v1/chat/completions returns valid data","fullName":"tests.test_cases.tests_e2e.test_deep_seek_app.TestE2EDeepSeekApp#test_ext_chat_endpoint_completions","historyId":"35398de72d0cdfd424467cc9027c9bd0","time":{"start":1759023310532,"stop":1759023310532,"duration":0},"description":"\n### Pre-conditions:\n- DeepSeek app installed.\n\n### Steps:\n- Login with valid credentials.\n- POST `external` OpenAI Compatible Chat API `{hostname}/v1/chat/completions`.\n\n### Verify that:\n\n- API response matching expected json schema.\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>DeepSeek app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>POST <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>external</span> OpenAI Compatible Chat API <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>{hostname}/v1/chat/completions</span>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>API response matching expected json schema.</li>\n</ul></div>","status":"skipped","statusMessage":"Skipped: DeepSeek app was not installed successfully","statusTrace":"('/home/runner/work/apolo-test-automation/apolo-test-automation/tests/test_cases/tests_e2e/test_deep_seek_app.py', 511, 'Skipped: DeepSeek app was not installed successfully')","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1759023178948,"stop":1759023178948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759023178948,"stop":1759023178948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759023178948,"stop":1759023178948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1759023178948,"stop":1759023178948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1759023178949,"stop":1759023193949,"duration":15000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759023178949,"stop":1759023178949,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1759023193949,"stop":1759023193950,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1759023310533,"stop":1759023310537,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759023310537,"stop":1759023313244,"duration":2707},"status":"passed","steps":[],"attachments":[{"uid":"ae2fb98965451bb9","name":"HTTP 200 - GET config","source":"ae2fb98965451bb9.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759023310537,"stop":1759023310537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759023313244,"stop":1759023313245,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759023313244,"stop":1759023313244,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1759023313244,"stop":1759023313244,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759023313245,"stop":1759023313245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759023313245,"stop":1759023313246,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759023313245,"stop":1759023313245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"deep_seek_status","time":{"start":1759023313246,"stop":1759023313246,"duration":0},"status":"skipped","statusMessage":"Skipped: DeepSeek app was not installed successfully\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py\", line 735, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1196, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 930, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/test_cases/tests_e2e/test_deep_seek_app.py\", line 32, in deep_seek_status\n    pytest.skip(\"DeepSeek app was not installed successfully\")\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/.venv/lib/python3.13/site-packages/_pytest/outcomes.py\", line 159, in skip\n    raise Skipped(msg=reason, allow_module_level=allow_module_level)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup","time":{"start":1759023313246,"stop":1759023313246,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759023313246,"stop":1759023313246,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n### Pre-conditions:\n- DeepSeek app installed.\n\n### Steps:\n- Login with valid credentials.\n- POST `external` OpenAI Compatible Chat API `{hostname}/v1/chat/completions`.\n\n### Verify that:\n\n- API response matching expected json schema.\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>DeepSeek app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>POST <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>external</span> OpenAI Compatible Chat API <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>{hostname}/v1/chat/completions</span>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>API response matching expected json schema.</li>\n</ul></div>","status":"skipped","statusMessage":"Skipped: DeepSeek app was not installed successfully","statusTrace":"('/home/runner/work/apolo-test-automation/apolo-test-automation/tests/test_cases/tests_e2e/test_deep_seek_app.py', 511, 'Skipped: DeepSeek app was not installed successfully')","steps":[],"attachments":[{"uid":"37f27d1fc2a40643","name":"log","source":"37f27d1fc2a40643.txt","type":"text/plain","size":1446}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1759023313249,"stop":1759023313249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759023313249,"stop":1759023313249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759023313249,"stop":1759023313249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759023313250,"stop":1759023313250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759023313251,"stop":1759023313251,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"DeepSeek App"},{"name":"parentSuite","value":"E2E Tests"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"class_setup"},{"name":"subSuite","value":"TestE2EDeepSeekApp"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"3592-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_e2e.test_deep_seek_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":6,"broken":0,"skipped":11,"passed":0,"unknown":0,"total":17},"items":[{"uid":"a579d2606e262b5e","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758936793132,"stop":1758936793132,"duration":0}},{"uid":"e151e225b9b0e3a1","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758850418222,"stop":1758850418222,"duration":0}},{"uid":"9e44710752dcdcf5","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Expected HTTP 200 response but got 504","time":{"start":1758764860526,"stop":1758764895222,"duration":34696}},{"uid":"9fc896a5cbaf451","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Expected HTTP 200 response but got 504","time":{"start":1758706705661,"stop":1758706740071,"duration":34410}},{"uid":"51403d13be085e7f","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758690487324,"stop":1758690487324,"duration":0}},{"uid":"78d31c3634a79579","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758678267790,"stop":1758678267790,"duration":0}},{"uid":"a474d0e74b47803a","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758591879374,"stop":1758591879374,"duration":0}},{"uid":"3c7167873a4df574","status":"failed","statusDetails":"AssertionError: [ContentTypeError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: 504, message='Attempt to decode JSON with unexpected mimetype: text/plain', url='https://deepseek--e98447c4c09f46468bb6c240053aa5be.apps.dev.apolo.us/v1/chat/completions'","time":{"start":1758505708615,"stop":1758505743014,"duration":34399}},{"uid":"e627bf6af008a336","status":"failed","statusDetails":"AssertionError: [ContentTypeError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: 504, message='Attempt to decode JSON with unexpected mimetype: text/plain', url='https://deepseek--d8fedb4c7dae4fb3a7a91f2fc72d4a0a.apps.dev.apolo.us/v1/chat/completions'","time":{"start":1758419288871,"stop":1758419326352,"duration":37481}},{"uid":"799daf72cd13a2b","status":"failed","statusDetails":"AssertionError: [ContentTypeError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: 504, message='Attempt to decode JSON with unexpected mimetype: text/plain', url='https://deepseek--3f1d669433ed45518730e89e735392ff.apps.dev.apolo.us/v1/chat/completions'","time":{"start":1758332761546,"stop":1758332801854,"duration":40308}},{"uid":"f91e08e54c2335f4","status":"failed","statusDetails":"AssertionError: [ContentTypeError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: 504, message='Attempt to decode JSON with unexpected mimetype: text/plain', url='https://deepseek--828f7897164747c0bae6692455b345cf.apps.dev.apolo.us/v1/chat/completions'","time":{"start":1758246361096,"stop":1758246395687,"duration":34591}},{"uid":"31c89a6c2e837760","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758159867645,"stop":1758159867645,"duration":0}},{"uid":"ebdf7f317a7807e7","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758102928883,"stop":1758102928883,"duration":0}},{"uid":"a48ce0009a3c3cb7","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758072826204,"stop":1758072826204,"duration":0}},{"uid":"24fb3944a2b11088","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1757986395851,"stop":1757986395851,"duration":0}},{"uid":"13b28b56073d5fd0","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1757900160033,"stop":1757900160033,"duration":0}}]},"tags":["asyncio","class_setup"]},"source":"57906c3f786c256b.json","parameterValues":[]}