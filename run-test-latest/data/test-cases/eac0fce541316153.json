{"uid":"eac0fce541316153","name":"User with organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_with_token_cli","historyId":"075596f237e9dcd99027c3eb0247d079","time":{"start":1756805678790,"stop":1756805707595,"duration":28805},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1756800590107,"stop":1756800590107,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1756800590107,"stop":1756800590107,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1756800590107,"stop":1756800590107,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1756800590108,"stop":1756800605108,"duration":15000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1756800590108,"stop":1756800590108,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1756800590108,"stop":1756800590108,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1756800605108,"stop":1756800605109,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1756805675765,"stop":1756805675767,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1756805675767,"stop":1756805678234,"duration":2467},"status":"passed","steps":[],"attachments":[{"uid":"6cec41421c6ce4b1","name":"HTTP 200 - GET config","source":"6cec41421c6ce4b1.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1756805675768,"stop":1756805675768,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1756805678234,"stop":1756805678235,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1756805678235,"stop":1756805678236,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1756805678235,"stop":1756805678235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1756805678235,"stop":1756805678235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1756805678235,"stop":1756805678235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1756805678236,"stop":1756805678236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1756805678236,"stop":1756805678789,"duration":553},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1756805678237,"stop":1756805678789,"duration":552},"status":"passed","steps":[],"attachments":[{"uid":"b5e8d7a3d9486d6a","name":"Executed CLI command","source":"b5e8d7a3d9486d6a.txt","type":"text/plain","size":15},{"uid":"9771b66d33a30b53","name":"Executed CLI command output","source":"9771b66d33a30b53.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1756805678236,"stop":1756805678236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1756805678790,"stop":1756805689616,"duration":10826},"status":"passed","steps":[{"name":"Click login button","time":{"start":1756805678791,"stop":1756805679935,"duration":1144},"status":"passed","steps":[],"attachments":[{"uid":"9a41d5f8077a52a0","name":"Page URL","source":"9a41d5f8077a52a0.txt","type":"text/plain","size":33},{"uid":"364f42f18f51b770","name":"Screenshot: Click login button (success)","source":"364f42f18f51b770.png","type":"image/png","size":41682}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1756805679935,"stop":1756805680085,"duration":150},"status":"passed","steps":[],"attachments":[{"uid":"298e9da0912b1350","name":"Page URL","source":"298e9da0912b1350.txt","type":"text/plain","size":215},{"uid":"c2a55da0abacbe91","name":"Screenshot: Enter email (success)","source":"c2a55da0abacbe91.png","type":"image/png","size":45967}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1756805680085,"stop":1756805680235,"duration":150},"status":"passed","steps":[],"attachments":[{"uid":"e300c5280a5499c8","name":"Page URL","source":"e300c5280a5499c8.txt","type":"text/plain","size":215},{"uid":"2785eb3c9a64ebc4","name":"Screenshot: Enter password (success)","source":"2785eb3c9a64ebc4.png","type":"image/png","size":46756}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1756805680235,"stop":1756805688417,"duration":8182},"status":"passed","steps":[],"attachments":[{"uid":"cab49d491f9895f5","name":"Page URL","source":"cab49d491f9895f5.txt","type":"text/plain","size":215},{"uid":"230e34e6fb5d0c7b","name":"HTTP 200 - GET config","source":"230e34e6fb5d0c7b.txt","type":"text/plain","size":752},{"uid":"c87eed9cab043561","name":"HTTP 200 - GET permissions?uri=blob:","source":"c87eed9cab043561.txt","type":"text/plain","size":163},{"uid":"83eabb9a7e684156","name":"HTTP 200 - GET regression-r0zl0p2pxt?include=orgs","source":"83eabb9a7e684156.txt","type":"text/plain","size":360},{"uid":"2d46668397b0e609","name":"HTTP 200 - GET incoming","source":"2d46668397b0e609.txt","type":"text/plain","size":137},{"uid":"cc774ff7ff5e391c","name":"HTTP 200 - GET regression-r0zl0p2pxt?include=clusters&include=system_role","source":"cc774ff7ff5e391c.txt","type":"text/plain","size":388},{"uid":"69cf5b1789c477de","name":"Screenshot: Click Continue button (success)","source":"69cf5b1789c477de.png","type":"image/png","size":159927}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1756805688428,"stop":1756805689534,"duration":1106},"status":"passed","steps":[],"attachments":[{"uid":"a5af9a6728e03737","name":"Page URL","source":"a5af9a6728e03737.txt","type":"text/plain","size":44},{"uid":"6b1886b40ee1eb94","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"6b1886b40ee1eb94.png","type":"image/png","size":159927}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"51be2ad3889b8e7d","name":"Page URL","source":"51be2ad3889b8e7d.txt","type":"text/plain","size":33},{"uid":"3499e29f2ce70c83","name":"Screenshot: Login via UI (success)","source":"3499e29f2ce70c83.png","type":"image/png","size":159927}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1756805689616,"stop":1756805706785,"duration":17169},"status":"passed","steps":[{"name":"Reload page","time":{"start":1756805705054,"stop":1756805706701,"duration":1647},"status":"passed","steps":[],"attachments":[{"uid":"e9310d7d9b4fd566","name":"Page URL","source":"e9310d7d9b4fd566.txt","type":"text/plain","size":44},{"uid":"735ee841fb819d23","name":"HTTP 200 - GET config","source":"735ee841fb819d23.txt","type":"text/plain","size":1118},{"uid":"bf6287a99305959a","name":"HTTP 200 - GET permissions?uri=blob:","source":"bf6287a99305959a.txt","type":"text/plain","size":236},{"uid":"dc7f9659021efb3","name":"HTTP 200 - GET regression-r0zl0p2pxt?include=orgs","source":"dc7f9659021efb3.txt","type":"text/plain","size":455},{"uid":"bda41961cefaa072","name":"HTTP 200 - GET regression-r0zl0p2pxt?include=clusters&include=system_role","source":"bda41961cefaa072.txt","type":"text/plain","size":510},{"uid":"b51f12993796260c","name":"HTTP 200 - GET regression-org-xwot2r8ziomx","source":"b51f12993796260c.txt","type":"text/plain","size":425},{"uid":"f0139028135bf5b7","name":"HTTP 200 - GET incoming","source":"f0139028135bf5b7.txt","type":"text/plain","size":137},{"uid":"ac5c6a2aa314f7e8","name":"Screenshot: Reload page (success)","source":"ac5c6a2aa314f7e8.png","type":"image/png","size":56444}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"bed17df2c50cf5ca","name":"Page URL","source":"bed17df2c50cf5ca.txt","type":"text/plain","size":44},{"uid":"3e33fe1400ef0c97","name":"Screenshot: Add organization via API and reload page (success)","source":"3e33fe1400ef0c97.png","type":"image/png","size":56444}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1756805706785,"stop":1756805707594,"duration":809},"status":"passed","steps":[],"attachments":[{"uid":"af012dea6eb93fb2","name":"Executed CLI command","source":"af012dea6eb93fb2.txt","type":"text/plain","size":1114},{"uid":"cf952d4b2b6079c","name":"Executed CLI command output","source":"cf952d4b2b6079c.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1756805707595,"stop":1756805707595,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"f2fc10396b61669f","name":"Executed CLI command","source":"f2fc10396b61669f.txt","type":"text/plain","size":1114},{"uid":"d793d82eea9c2fdf","name":"Executed CLI command output","source":"d793d82eea9c2fdf.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"793f9fddbdf46d3c","name":"log","source":"793f9fddbdf46d3c.txt","type":"text/plain","size":16457}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1756805707596,"stop":1756805711643,"duration":4047},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1756805707596,"stop":1756805711643,"duration":4047},"status":"passed","steps":[{"name":"Delete organisation: regression-org-xwot2r8ziomx","time":{"start":1756805710965,"stop":1756805711596,"duration":631},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1756805707596,"stop":1756805707596,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1756805711643,"stop":1756805711644,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1756805711645,"stop":1756805711647,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"pkrvmccyg1gnepe"},{"name":"thread","value":"6001-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":22,"unknown":0,"total":22},"items":[{"uid":"652b91ed5449bf08","status":"passed","time":{"start":1756608823350,"stop":1756608838944,"duration":15594}},{"uid":"5dcacad3a8379b57","status":"passed","time":{"start":1756522479844,"stop":1756522500458,"duration":20614}},{"uid":"6705f35ec90c0fcc","status":"passed","time":{"start":1756436060699,"stop":1756436085745,"duration":25046}},{"uid":"33d8baa722b8e8fc","status":"passed","time":{"start":1756349718816,"stop":1756349743602,"duration":24786}},{"uid":"beb4ca113ea7cbbf","status":"passed","time":{"start":1756177185642,"stop":1756177212460,"duration":26818}},{"uid":"d0d8a1fd8ef74e1","status":"passed","time":{"start":1756090453453,"stop":1756090473357,"duration":19904}},{"uid":"fc2b71a6a7565aa9","status":"passed","time":{"start":1756004169388,"stop":1756004188574,"duration":19186}},{"uid":"50710ff474c88e21","status":"passed","time":{"start":1755917613492,"stop":1755917638618,"duration":25126}},{"uid":"3c67d2cabc0907cc","status":"passed","time":{"start":1755831153410,"stop":1755831173961,"duration":20551}},{"uid":"7c9376fc1c4bf471","status":"passed","time":{"start":1755744643924,"stop":1755744667189,"duration":23265}},{"uid":"3f7fecf672c003dc","status":"passed","time":{"start":1755571838214,"stop":1755571855257,"duration":17043}},{"uid":"d81419eb48c8542e","status":"passed","time":{"start":1755485762353,"stop":1755485783858,"duration":21505}},{"uid":"a45f96928e72a7da","status":"passed","time":{"start":1755399114866,"stop":1755399146472,"duration":31606}},{"uid":"6ab659797a03c563","status":"passed","time":{"start":1755376551494,"stop":1755376568494,"duration":17000}},{"uid":"ef6e31b6e6c21458","status":"passed","time":{"start":1755312666485,"stop":1755312686867,"duration":20382}},{"uid":"6a363645946a3e3e","status":"passed","time":{"start":1755284436561,"stop":1755284463826,"duration":27265}},{"uid":"67c7cf9bda28068e","status":"passed","time":{"start":1754880255737,"stop":1754880275437,"duration":19700}},{"uid":"31b83455d3e9435d","status":"passed","time":{"start":1754831416534,"stop":1754831438962,"duration":22428}},{"uid":"da8acd88dca1c378","status":"passed","time":{"start":1754707248416,"stop":1754707263164,"duration":14748}},{"uid":"8d7631606d83903f","status":"passed","time":{"start":1754620215504,"stop":1754620231473,"duration":15969}}]},"tags":["asyncio"]},"source":"eac0fce541316153.json","parameterValues":[]}