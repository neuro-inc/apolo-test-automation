{"uid":"c9553bbe36bf216e","name":"User switch organization via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_switch_org_cli","historyId":"6d9a96c974d0ffc10b372ad7c4a9cdc5","time":{"start":1755374955993,"stop":1755374988376,"duration":32383},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can switch between organizations via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can switch between organizations via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1755371922387,"stop":1755371922388,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755371922388,"stop":1755371922388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755371922388,"stop":1755371922388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755371922388,"stop":1755371922388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755371922388,"stop":1755371922388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755371922388,"stop":1755371922388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755371922389,"stop":1755371922389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755374953232,"stop":1755374953235,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755374953235,"stop":1755374953235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755374953235,"stop":1755374955449,"duration":2214},"status":"passed","steps":[],"attachments":[{"uid":"51a3a11bda478d24","name":"HTTP 200 - GET config","source":"51a3a11bda478d24.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1755374955449,"stop":1755374955449,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755374955449,"stop":1755374955449,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755374955449,"stop":1755374955449,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755374955450,"stop":1755374955450,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755374955450,"stop":1755374955450,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755374955450,"stop":1755374955451,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755374955451,"stop":1755374955451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755374955451,"stop":1755374955993,"duration":542},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755374955451,"stop":1755374955993,"duration":542},"status":"passed","steps":[],"attachments":[{"uid":"ca339b46795ca653","name":"Executed CLI command","source":"ca339b46795ca653.txt","type":"text/plain","size":15},{"uid":"c80de3cb4936748f","name":"Executed CLI command output","source":"c80de3cb4936748f.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can switch between organizations via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can switch between organizations via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755374955994,"stop":1755374962075,"duration":6081},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755374955995,"stop":1755374957227,"duration":1232},"status":"passed","steps":[],"attachments":[{"uid":"33407b6176bd277a","name":"Page URL","source":"33407b6176bd277a.txt","type":"text/plain","size":33},{"uid":"26c85ac8b054d8b5","name":"Screenshot: Click login button (success)","source":"26c85ac8b054d8b5.png","type":"image/png","size":42307}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755374957227,"stop":1755374957408,"duration":181},"status":"passed","steps":[],"attachments":[{"uid":"532dc10a8e10a1a7","name":"Page URL","source":"532dc10a8e10a1a7.txt","type":"text/plain","size":215},{"uid":"1b141b9f3f730622","name":"Screenshot: Enter email (success)","source":"1b141b9f3f730622.png","type":"image/png","size":46139}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755374957408,"stop":1755374957576,"duration":168},"status":"passed","steps":[],"attachments":[{"uid":"851d6ae51626b7d","name":"Page URL","source":"851d6ae51626b7d.txt","type":"text/plain","size":215},{"uid":"1983e017c2cf5447","name":"Screenshot: Enter password (success)","source":"1983e017c2cf5447.png","type":"image/png","size":46948}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755374957576,"stop":1755374960828,"duration":3252},"status":"passed","steps":[],"attachments":[{"uid":"3e4afd1f3d7d3edd","name":"Page URL","source":"3e4afd1f3d7d3edd.txt","type":"text/plain","size":215},{"uid":"11afa2b119f751fe","name":"HTTP 200 - GET config","source":"11afa2b119f751fe.txt","type":"text/plain","size":752},{"uid":"a56cb30d988c0d75","name":"HTTP 200 - GET permissions?uri=blob:","source":"a56cb30d988c0d75.txt","type":"text/plain","size":163},{"uid":"809c5dc44acd83ab","name":"HTTP 200 - GET incoming","source":"809c5dc44acd83ab.txt","type":"text/plain","size":137},{"uid":"e7ff7fcfba4bdb7f","name":"HTTP 200 - GET regression-731h8fqzvo?include=clusters&include=system_role","source":"e7ff7fcfba4bdb7f.txt","type":"text/plain","size":388},{"uid":"8812ca5003666bb3","name":"HTTP 200 - GET regression-731h8fqzvo?include=orgs","source":"8812ca5003666bb3.txt","type":"text/plain","size":360},{"uid":"a31d87b42f062c50","name":"Screenshot: Click Continue button (success)","source":"a31d87b42f062c50.png","type":"image/png","size":160913}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755374960838,"stop":1755374961973,"duration":1135},"status":"passed","steps":[],"attachments":[{"uid":"d6d6fec04b0e29e8","name":"Page URL","source":"d6d6fec04b0e29e8.txt","type":"text/plain","size":44},{"uid":"203d1aa68a4be71c","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"203d1aa68a4be71c.png","type":"image/png","size":160913}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1b3b898641232ccc","name":"Page URL","source":"1b3b898641232ccc.txt","type":"text/plain","size":33},{"uid":"74f24ce27726f62e","name":"Screenshot: Login via UI (success)","source":"74f24ce27726f62e.png","type":"image/png","size":160913}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755374962075,"stop":1755374963010,"duration":935},"status":"passed","steps":[],"attachments":[{"uid":"3af0432360145fb3","name":"Executed CLI command","source":"3af0432360145fb3.txt","type":"text/plain","size":1114},{"uid":"27b794810e36e2bd","name":"Executed CLI command output","source":"27b794810e36e2bd.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1755374963010,"stop":1755374972085,"duration":9075},"status":"passed","steps":[],"attachments":[{"uid":"57d8c368a562ead","name":"Executed CLI command","source":"57d8c368a562ead.txt","type":"text/plain","size":1114},{"uid":"933e379f07a004f1","name":"Executed CLI command output","source":"933e379f07a004f1.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1755374972085,"stop":1755374985547,"duration":13462},"status":"passed","steps":[],"attachments":[{"uid":"b4f7e67fda257115","name":"Executed CLI command","source":"b4f7e67fda257115.txt","type":"text/plain","size":47},{"uid":"bffc69a9fa09beaf","name":"Executed CLI command output","source":"bffc69a9fa09beaf.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Switch organization via CLI","time":{"start":1755374985547,"stop":1755374986893,"duration":1346},"status":"passed","steps":[],"attachments":[{"uid":"276186c321765a6e","name":"Executed CLI command","source":"276186c321765a6e.txt","type":"text/plain","size":51},{"uid":"6e9e48cec235bfb9","name":"Executed CLI command output","source":"6e9e48cec235bfb9.txt","type":"text/plain","size":51}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Run config show command via CLI","time":{"start":1755374986893,"stop":1755374988375,"duration":1482},"status":"passed","steps":[],"attachments":[{"uid":"7ad8c82dbe6a8b0","name":"Executed CLI command","source":"7ad8c82dbe6a8b0.txt","type":"text/plain","size":17},{"uid":"f9bf84dc6f3b9f74","name":"Executed CLI command output","source":"f9bf84dc6f3b9f74.txt","type":"text/plain","size":2905}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify config show command output","time":{"start":1755374988376,"stop":1755374988376,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"8b5a365d86f57d26","name":"Executed CLI command","source":"8b5a365d86f57d26.txt","type":"text/plain","size":17},{"uid":"d4639f171cc3238f","name":"Executed CLI command output","source":"d4639f171cc3238f.txt","type":"text/plain","size":2905}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"110600a692044a84","name":"log","source":"110600a692044a84.txt","type":"text/plain","size":19216}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":30,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1755374988377,"stop":1755374988377,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1755374988378,"stop":1755374993421,"duration":5043},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755374988378,"stop":1755374993421,"duration":5043},"status":"passed","steps":[{"name":"Delete organisation: regression-org-2gi97z4k9ut2","time":{"start":1755374992073,"stop":1755374992462,"duration":389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Delete organisation: regression-org-gq7ye9ijcowr","time":{"start":1755374992462,"stop":1755374993387,"duration":925},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755374993422,"stop":1755374993422,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755374993423,"stop":1755374993424,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"5886-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":10},"items":[{"uid":"27cbc254eeae1897","status":"passed","time":{"start":1755310933562,"stop":1755310966837,"duration":33275}},{"uid":"97aa3b3081835898","status":"passed","time":{"start":1755282868797,"stop":1755282904092,"duration":35295}},{"uid":"738804606f46710","status":"passed","time":{"start":1754878508221,"stop":1754878542882,"duration":34661}},{"uid":"8c8929fc4e31fb20","status":"passed","time":{"start":1754829487097,"stop":1754829518506,"duration":31409}},{"uid":"c42d1f714a74b415","status":"passed","time":{"start":1754705521338,"stop":1754705576703,"duration":55365}},{"uid":"b76e950df455f899","status":"passed","time":{"start":1754618947216,"stop":1754618970637,"duration":23421}},{"uid":"c91ed911862fe924","status":"passed","time":{"start":1754594441096,"stop":1754594462038,"duration":20942}},{"uid":"e144ed8b24dfba6e","status":"passed","time":{"start":1754532070223,"stop":1754532093565,"duration":23342}},{"uid":"ed4150a2cd1ae412","status":"passed","time":{"start":1754462297233,"stop":1754462318504,"duration":21271}}]},"tags":["asyncio"]},"source":"c9553bbe36bf216e.json","parameterValues":[]}