{"uid":"5427ed7191657947","name":"Admin change member role from Reader to Writer in project via CLI","fullName":"tests.test_cases.tests_cli.test_project_change_member_roles.TestCLIProjectStructureSetup#test_admin_change_reader_to_writer_cli","historyId":"238ad4c581585e2dce3cc4b5a0bc6b18","time":{"start":1758072799453,"stop":1758072799470,"duration":17},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:68: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1758072703609,"stop":1758072703609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1758072703609,"stop":1758072733610,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758072703609,"stop":1758072703609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758072703609,"stop":1758072703609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758072703609,"stop":1758072703609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1758072703609,"stop":1758072703609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1758072733610,"stop":1758072733610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1758072733610,"stop":1758072733614,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1758072733614,"stop":1758072736039,"duration":2425},"status":"passed","steps":[],"attachments":[{"uid":"85ee77e8de471e68","name":"HTTP 200 - GET config","source":"85ee77e8de471e68.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1758072733615,"stop":1758072733615,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1758072736039,"stop":1758072736039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1758072736039,"stop":1758072736039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1758072736039,"stop":1758072736040,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1758072736040,"stop":1758072736040,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1758072736040,"stop":1758072798058,"duration":62018},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1758072738450,"stop":1758072770245,"duration":31795},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1758072738451,"stop":1758072739836,"duration":1385},"status":"passed","steps":[],"attachments":[{"uid":"a7d44793e4cb07b3","name":"Page URL","source":"a7d44793e4cb07b3.txt","type":"text/plain","size":33},{"uid":"d37a5b0408cf7e80","name":"Screenshot: Click signup button (success)","source":"d37a5b0408cf7e80.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758072739836,"stop":1758072740018,"duration":182},"status":"passed","steps":[],"attachments":[{"uid":"5b6e53f168483cac","name":"Page URL","source":"5b6e53f168483cac.txt","type":"text/plain","size":216},{"uid":"b7d8ab5976a22ce7","name":"Screenshot: Enter email (success)","source":"b7d8ab5976a22ce7.png","type":"image/png","size":44828}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758072740018,"stop":1758072740187,"duration":169},"status":"passed","steps":[],"attachments":[{"uid":"db1a011efe786403","name":"Page URL","source":"db1a011efe786403.txt","type":"text/plain","size":216},{"uid":"8e20b032f39554b0","name":"Screenshot: Enter password (success)","source":"8e20b032f39554b0.png","type":"image/png","size":55295}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1758072740187,"stop":1758072742149,"duration":1962},"status":"passed","steps":[],"attachments":[{"uid":"57a042052c915e37","name":"Page URL","source":"57a042052c915e37.txt","type":"text/plain","size":216},{"uid":"72e4e9a986d63849","name":"Screenshot: Click continue button (success)","source":"72e4e9a986d63849.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1758072742149,"stop":1758072742598,"duration":449},"status":"passed","steps":[],"attachments":[{"uid":"9eb5965543555371","name":"Page URL","source":"9eb5965543555371.txt","type":"text/plain","size":192},{"uid":"3af6c1a72e523eed","name":"HTTP 200 - GET config","source":"3af6c1a72e523eed.txt","type":"text/plain","size":654},{"uid":"fa002ea27491e441","name":"Screenshot: Verify that Verify email message displayed (success)","source":"fa002ea27491e441.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1758072742598,"stop":1758072744379,"duration":1781},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1758072742949,"stop":1758072744170,"duration":1221},"status":"passed","steps":[],"attachments":[{"uid":"f3668250476e8556","name":"Page URL","source":"f3668250476e8556.txt","type":"text/plain","size":182},{"uid":"8858577c3880dcf6","name":"Screenshot: Navigate to URL (success)","source":"8858577c3880dcf6.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1758072744379,"stop":1758072746718,"duration":2339},"status":"passed","steps":[],"attachments":[{"uid":"5cb9df5178d7f2e8","name":"Page URL","source":"5cb9df5178d7f2e8.txt","type":"text/plain","size":87},{"uid":"363cfa62b6deb012","name":"HTTP 200 - GET config","source":"363cfa62b6deb012.txt","type":"text/plain","size":654},{"uid":"e7ec8cea20e781ee","name":"Screenshot: Navigate to URL (success)","source":"e7ec8cea20e781ee.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1758072746718,"stop":1758072746824,"duration":106},"status":"passed","steps":[],"attachments":[{"uid":"1cd7f06859dc8984","name":"Page URL","source":"1cd7f06859dc8984.txt","type":"text/plain","size":33},{"uid":"b78568de95cf67ff","name":"Screenshot: Verify that Auth page displayed (success)","source":"b78568de95cf67ff.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1758072746824,"stop":1758072748040,"duration":1216},"status":"passed","steps":[],"attachments":[{"uid":"6171534b2acbd000","name":"Page URL","source":"6171534b2acbd000.txt","type":"text/plain","size":33},{"uid":"71723f64c4de873c","name":"Screenshot: Click login button (success)","source":"71723f64c4de873c.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1758072748040,"stop":1758072749147,"duration":1107},"status":"passed","steps":[],"attachments":[{"uid":"6cb14462f4c428ea","name":"Page URL","source":"6cb14462f4c428ea.txt","type":"text/plain","size":33},{"uid":"fe2cecdc173e20d4","name":"HTTP 404 - HEAD regression-cwv95ip4o2","source":"fe2cecdc173e20d4.txt","type":"text/plain","size":160},{"uid":"938a13c11867576f","name":"Screenshot: Verify that Signup username page displayed (success)","source":"938a13c11867576f.png","type":"image/png","size":37762}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1758072749148,"stop":1758072749804,"duration":656},"status":"passed","steps":[],"attachments":[{"uid":"570943cf9f4c7bd7","name":"Page URL","source":"570943cf9f4c7bd7.txt","type":"text/plain","size":362},{"uid":"f12ebe454c3347d0","name":"HTTP 404 - HEAD regression-cwv95ip4o2","source":"f12ebe454c3347d0.txt","type":"text/plain","size":160},{"uid":"8fc2193f3b8fc6ed","name":"HTTP 404 - HEAD ","source":"8fc2193f3b8fc6ed.txt","type":"text/plain","size":139},{"uid":"da6d2dbd8bbadbaa","name":"Screenshot: Enter username (success)","source":"da6d2dbd8bbadbaa.png","type":"image/png","size":38057}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1758072749804,"stop":1758072759998,"duration":10194},"status":"passed","steps":[],"attachments":[{"uid":"fcf34f1f70f06631","name":"Page URL","source":"fcf34f1f70f06631.txt","type":"text/plain","size":362},{"uid":"a4b7128c92ca9ffa","name":"HTTP 200 - GET config","source":"a4b7128c92ca9ffa.txt","type":"text/plain","size":654},{"uid":"298ae3948c9e7c36","name":"Screenshot: Click signup button on Signup username page (success)","source":"298ae3948c9e7c36.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1758072759998,"stop":1758072770160,"duration":10162},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"b601cb18c2f06c62","name":"Page URL","source":"b601cb18c2f06c62.txt","type":"text/plain","size":222},{"uid":"52679ff378c2ae98","name":"Screenshot: Verify that User agreement pop up displayed (fail)","source":"52679ff378c2ae98.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"30f5024fbf9c57ac","name":"Page URL","source":"30f5024fbf9c57ac.txt","type":"text/plain","size":33},{"uid":"e1b9662c544ece0c","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"e1b9662c544ece0c.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1758072772588,"stop":1758072798058,"duration":25470},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1758072772589,"stop":1758072773729,"duration":1140},"status":"passed","steps":[],"attachments":[{"uid":"69529003db14e3e0","name":"Page URL","source":"69529003db14e3e0.txt","type":"text/plain","size":33},{"uid":"4d5d3006de19a33a","name":"Screenshot: Click signup button (success)","source":"4d5d3006de19a33a.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758072773730,"stop":1758072773867,"duration":137},"status":"passed","steps":[],"attachments":[{"uid":"8deae09e2c3cce6e","name":"Page URL","source":"8deae09e2c3cce6e.txt","type":"text/plain","size":216},{"uid":"6803b783e89aa430","name":"Screenshot: Enter email (success)","source":"6803b783e89aa430.png","type":"image/png","size":43707}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758072773867,"stop":1758072774033,"duration":166},"status":"passed","steps":[],"attachments":[{"uid":"19c32f1c49d0ef0c","name":"Page URL","source":"19c32f1c49d0ef0c.txt","type":"text/plain","size":216},{"uid":"2ab104d6fbaedab","name":"Screenshot: Enter password (success)","source":"2ab104d6fbaedab.png","type":"image/png","size":55401}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1758072774033,"stop":1758072776126,"duration":2093},"status":"passed","steps":[],"attachments":[{"uid":"92c800c967dec5d4","name":"Page URL","source":"92c800c967dec5d4.txt","type":"text/plain","size":216},{"uid":"8fbbe0801e273c82","name":"Screenshot: Click continue button (success)","source":"8fbbe0801e273c82.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1758072776126,"stop":1758072776578,"duration":452},"status":"passed","steps":[],"attachments":[{"uid":"e862981647fcf17","name":"Page URL","source":"e862981647fcf17.txt","type":"text/plain","size":192},{"uid":"226095cfa959cc01","name":"HTTP 200 - GET config","source":"226095cfa959cc01.txt","type":"text/plain","size":654},{"uid":"a3128207a6ce03c9","name":"Screenshot: Verify that Verify email message displayed (success)","source":"a3128207a6ce03c9.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1758072776578,"stop":1758072778502,"duration":1924},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1758072777218,"stop":1758072778261,"duration":1043},"status":"passed","steps":[],"attachments":[{"uid":"7799aa58ee455a0c","name":"Page URL","source":"7799aa58ee455a0c.txt","type":"text/plain","size":182},{"uid":"a7ccd1672b607006","name":"Screenshot: Navigate to URL (success)","source":"a7ccd1672b607006.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1758072778502,"stop":1758072780272,"duration":1770},"status":"passed","steps":[],"attachments":[{"uid":"7a61560453c3e831","name":"Page URL","source":"7a61560453c3e831.txt","type":"text/plain","size":87},{"uid":"2954a0c134e426bf","name":"HTTP 200 - GET config","source":"2954a0c134e426bf.txt","type":"text/plain","size":654},{"uid":"47c11adb03e62b8d","name":"Screenshot: Navigate to URL (success)","source":"47c11adb03e62b8d.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1758072780272,"stop":1758072780379,"duration":107},"status":"passed","steps":[],"attachments":[{"uid":"727bad03a89042af","name":"Page URL","source":"727bad03a89042af.txt","type":"text/plain","size":33},{"uid":"f63834d89b98b6cf","name":"Screenshot: Verify that Auth page displayed (success)","source":"f63834d89b98b6cf.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1758072780380,"stop":1758072781592,"duration":1212},"status":"passed","steps":[],"attachments":[{"uid":"4e2c94df0b76aa4e","name":"Page URL","source":"4e2c94df0b76aa4e.txt","type":"text/plain","size":33},{"uid":"a97e68bd5dbbaa87","name":"Screenshot: Click login button (success)","source":"a97e68bd5dbbaa87.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1758072781592,"stop":1758072782695,"duration":1103},"status":"passed","steps":[],"attachments":[{"uid":"e03a65ca4ef16a2b","name":"Page URL","source":"e03a65ca4ef16a2b.txt","type":"text/plain","size":33},{"uid":"6ac994e97f72e662","name":"HTTP 404 - HEAD regression-td03g0w1ur","source":"6ac994e97f72e662.txt","type":"text/plain","size":160},{"uid":"957f2069485c36db","name":"Screenshot: Verify that Signup username page displayed (success)","source":"957f2069485c36db.png","type":"image/png","size":37343}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1758072782695,"stop":1758072783346,"duration":651},"status":"passed","steps":[],"attachments":[{"uid":"2bf2c12c75820c8c","name":"Page URL","source":"2bf2c12c75820c8c.txt","type":"text/plain","size":362},{"uid":"c93205c49535fac7","name":"HTTP 404 - HEAD regression-td03g0w1ur","source":"c93205c49535fac7.txt","type":"text/plain","size":160},{"uid":"8ba644eb573bb837","name":"HTTP 404 - HEAD ","source":"8ba644eb573bb837.txt","type":"text/plain","size":139},{"uid":"aaf9a6f8c1248d1b","name":"Screenshot: Enter username (success)","source":"aaf9a6f8c1248d1b.png","type":"image/png","size":37613}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1758072783346,"stop":1758072792015,"duration":8669},"status":"passed","steps":[],"attachments":[{"uid":"de0ca2c2e1fc294f","name":"Page URL","source":"de0ca2c2e1fc294f.txt","type":"text/plain","size":362},{"uid":"97390ddd48d26a5b","name":"HTTP 200 - GET config","source":"97390ddd48d26a5b.txt","type":"text/plain","size":752},{"uid":"2fea16f00bbc4514","name":"HTTP 200 - GET permissions?uri=blob:","source":"2fea16f00bbc4514.txt","type":"text/plain","size":163},{"uid":"bee5a3d31cc828e7","name":"HTTP 200 - GET regression-td03g0w1ur?include=orgs","source":"bee5a3d31cc828e7.txt","type":"text/plain","size":361},{"uid":"63decc67eb586de6","name":"HTTP 200 - GET incoming","source":"63decc67eb586de6.txt","type":"text/plain","size":137},{"uid":"a0bc3be9a4641a7c","name":"HTTP 200 - GET config","source":"a0bc3be9a4641a7c.txt","type":"text/plain","size":752},{"uid":"7b3298b2272bc413","name":"HTTP 200 - GET permissions?uri=blob:","source":"7b3298b2272bc413.txt","type":"text/plain","size":163},{"uid":"375dd12720a09f8f","name":"HTTP 200 - GET regression-td03g0w1ur?include=clusters&include=system_role","source":"375dd12720a09f8f.txt","type":"text/plain","size":389},{"uid":"72ce30ad348f97bf","name":"HTTP 200 - GET incoming","source":"72ce30ad348f97bf.txt","type":"text/plain","size":137},{"uid":"1d471b6d0c902f0b","name":"HTTP 200 - GET regression-td03g0w1ur?include=orgs","source":"1d471b6d0c902f0b.txt","type":"text/plain","size":361},{"uid":"55f5bce444280404","name":"Screenshot: Click signup button on Signup username page (success)","source":"55f5bce444280404.png","type":"image/png","size":40635}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1758072792015,"stop":1758072792112,"duration":97},"status":"passed","steps":[],"attachments":[{"uid":"c0bedf497097c3a7","name":"Page URL","source":"c0bedf497097c3a7.txt","type":"text/plain","size":153},{"uid":"67fb99c9049a64d1","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"67fb99c9049a64d1.png","type":"image/png","size":40635}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1758072792112,"stop":1758072792764,"duration":652},"status":"passed","steps":[],"attachments":[{"uid":"ecabf0335ec7f6c9","name":"Page URL","source":"ecabf0335ec7f6c9.txt","type":"text/plain","size":153},{"uid":"834e4616c48a4048","name":"Screenshot: Check agreement checkbox (success)","source":"834e4616c48a4048.png","type":"image/png","size":40671}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1758072792764,"stop":1758072793434,"duration":670},"status":"passed","steps":[],"attachments":[{"uid":"e1aaf5de1eb3265a","name":"Page URL","source":"e1aaf5de1eb3265a.txt","type":"text/plain","size":153},{"uid":"d28e3d514bab5335","name":"Screenshot: Click I Agree button (success)","source":"d28e3d514bab5335.png","type":"image/png","size":41351}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1758072793435,"stop":1758072793713,"duration":278},"status":"passed","steps":[],"attachments":[{"uid":"461832345d683352","name":"Page URL","source":"461832345d683352.txt","type":"text/plain","size":153},{"uid":"d3773de67fb183a9","name":"HTTP 204 - PUT profile","source":"d3773de67fb183a9.txt","type":"text/plain","size":154},{"uid":"c1d8dfb00dba2161","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"c1d8dfb00dba2161.png","type":"image/png","size":160513}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1758072793713,"stop":1758072796825,"duration":3112},"status":"passed","steps":[],"attachments":[{"uid":"4100de65f56b004c","name":"Page URL","source":"4100de65f56b004c.txt","type":"text/plain","size":44},{"uid":"88d0661c659c4879","name":"Screenshot: Wait for timeout (success)","source":"88d0661c659c4879.png","type":"image/png","size":160513}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1758072796825,"stop":1758072797939,"duration":1114},"status":"passed","steps":[],"attachments":[{"uid":"11b7e1d7e4109ef","name":"Page URL","source":"11b7e1d7e4109ef.txt","type":"text/plain","size":44},{"uid":"4d6cb1dcb3489f9d","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"4d6cb1dcb3489f9d.png","type":"image/png","size":160513}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6bef223ae5e3df8b","name":"Page URL","source":"6bef223ae5e3df8b.txt","type":"text/plain","size":33},{"uid":"d285bf8614a3bd19","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"d285bf8614a3bd19.png","type":"image/png","size":160513}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":53,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"aec9866262e22188","name":"HTTP 200 - GET config","source":"aec9866262e22188.txt","type":"text/plain","size":654},{"uid":"4a5378717c6a7502","name":"HTTP 200 - GET config","source":"4a5378717c6a7502.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":35,"attachmentsCount":89,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1758072798059,"stop":1758072798059,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1758072798059,"stop":1758072798059,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1758072798059,"stop":1758072799452,"duration":1393},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1758072798059,"stop":1758072799452,"duration":1393},"status":"passed","steps":[],"attachments":[{"uid":"cc8b21f1fd90394a","name":"Executed CLI command","source":"cc8b21f1fd90394a.txt","type":"text/plain","size":15},{"uid":"2653095c43c9d4a1","name":"Executed CLI command output","source":"2653095c43c9d4a1.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:68: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1758072799455,"stop":1758072799468,"duration":13},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click login button","time":{"start":1758072799455,"stop":1758072799465,"duration":10},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"a8eb56c103aafbbc","name":"Page URL","source":"a8eb56c103aafbbc.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"710f08115b3c95d2","name":"Page URL","source":"710f08115b3c95d2.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"38520d741ac6eb3","name":"log","source":"38520d741ac6eb3.txt","type":"text/plain","size":35208}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1758072799716,"stop":1758072799716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758072799716,"stop":1758072799716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758072799716,"stop":1758072803510,"duration":3794},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1758072799716,"stop":1758072803510,"duration":3794},"status":"passed","steps":[],"attachments":[{"uid":"979fc21d6a581068","name":"Cleanup note","source":"979fc21d6a581068.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1758072803512,"stop":1758072803512,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1758072803513,"stop":1758072803514,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Project Remove Members"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"runnervmmq7i7"},{"name":"thread","value":"3582-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"5427ed7191657947.json","parameterValues":[]}