{"uid":"512cfc0053b542e8","name":"Verify User cannot purchase credits via top pane","fullName":"tests.test_cases.tests_ui.test_credits_purchase.TestUICreditsPurchase#test_user_purchase_credits","historyId":"9db4884e512bd7f645eefd6d7ed8d097","time":{"start":1761874413799,"stop":1761874555357,"duration":141558},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nMessage: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/main_page_steps.py:31: in verify_ui_terms_of_agreement_displayed\n    assert await self._pm.main_page.is_user_agreement_title_displayed(), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:133: in ui_signup_new_user_ver_link\n    await self.main_page.verify_ui_terms_of_agreement_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:152: in ui_get_second_user\n    user = await self.ui_signup_new_user_ver_link()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:35: in test_user_purchase_credits\n    second_user = await u2_steps.ui_get_second_user()\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nE   Message: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1761874390516,"stop":1761874390516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761874390516,"stop":1761874390516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1761874390516,"stop":1761874390516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1761874390516,"stop":1761874390516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1761874390516,"stop":1761874390516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1761874390516,"stop":1761874390516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761874390516,"stop":1761874390516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1761874390517,"stop":1761874390521,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1761874390521,"stop":1761874390521,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1761874390521,"stop":1761874393213,"duration":2692},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1761874393213,"stop":1761874393214,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1761874393213,"stop":1761874393213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1761874393214,"stop":1761874393214,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1761874393214,"stop":1761874393214,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1761874393214,"stop":1761874413798,"duration":20584},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1761874393821,"stop":1761874413798,"duration":19977},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1761874393822,"stop":1761874395127,"duration":1305},"status":"passed","steps":[],"attachments":[{"uid":"fc265e8f2b2385aa","name":"Page URL","source":"fc265e8f2b2385aa.txt","type":"text/plain","size":29},{"uid":"6efd79c7c5274b04","name":"HTTP 200 - GET config","source":"6efd79c7c5274b04.txt","type":"text/plain","size":673},{"uid":"867d6f12a8eac5c7","name":"HTTP 200 - GET config","source":"867d6f12a8eac5c7.txt","type":"text/plain","size":673},{"uid":"dce1ba391674f915","name":"Screenshot: Click signup button (success)","source":"dce1ba391674f915.png","type":"image/png","size":35357}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1761874395127,"stop":1761874395465,"duration":338},"status":"passed","steps":[],"attachments":[{"uid":"fc1052f57b980094","name":"Page URL","source":"fc1052f57b980094.txt","type":"text/plain","size":216},{"uid":"4ccad93a89904cbe","name":"Screenshot: Enter email (success)","source":"4ccad93a89904cbe.png","type":"image/png","size":44132}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1761874395465,"stop":1761874395817,"duration":352},"status":"passed","steps":[],"attachments":[{"uid":"ea96bd06b163d4f6","name":"Page URL","source":"ea96bd06b163d4f6.txt","type":"text/plain","size":216},{"uid":"f77397d3ad94cbd4","name":"Screenshot: Enter password (success)","source":"f77397d3ad94cbd4.png","type":"image/png","size":63859}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1761874395817,"stop":1761874397578,"duration":1761},"status":"passed","steps":[],"attachments":[{"uid":"f0cf0a9f1330e17a","name":"Page URL","source":"f0cf0a9f1330e17a.txt","type":"text/plain","size":216},{"uid":"b7c05402fed1df64","name":"Screenshot: Click continue button (success)","source":"b7c05402fed1df64.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1761874397578,"stop":1761874398013,"duration":435},"status":"passed","steps":[],"attachments":[{"uid":"64697430f0f2061b","name":"Page URL","source":"64697430f0f2061b.txt","type":"text/plain","size":192},{"uid":"16444e5db2ef9bfe","name":"HTTP 200 - GET config","source":"16444e5db2ef9bfe.txt","type":"text/plain","size":673},{"uid":"e8e0ddf560db4b3d","name":"Screenshot: Verify that Verify email message displayed (success)","source":"e8e0ddf560db4b3d.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1761874398013,"stop":1761874399734,"duration":1721},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1761874398536,"stop":1761874399513,"duration":977},"status":"passed","steps":[],"attachments":[{"uid":"e3702533d6de60a0","name":"Page URL","source":"e3702533d6de60a0.txt","type":"text/plain","size":182},{"uid":"4639fe76512a5f78","name":"Screenshot: Navigate to URL (success)","source":"4639fe76512a5f78.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1761874399734,"stop":1761874401955,"duration":2221},"status":"passed","steps":[],"attachments":[{"uid":"9d39ccee512eaa8d","name":"Page URL","source":"9d39ccee512eaa8d.txt","type":"text/plain","size":87},{"uid":"5aa55593e2832508","name":"HTTP 200 - GET config","source":"5aa55593e2832508.txt","type":"text/plain","size":673},{"uid":"e8e02fce23128a4a","name":"Screenshot: Navigate to URL (success)","source":"e8e02fce23128a4a.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1761874401955,"stop":1761874402054,"duration":99},"status":"passed","steps":[],"attachments":[{"uid":"84154052b19ab247","name":"Page URL","source":"84154052b19ab247.txt","type":"text/plain","size":33},{"uid":"4606d5a702c99a5f","name":"Screenshot: Verify that Auth page displayed (success)","source":"4606d5a702c99a5f.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1761874402054,"stop":1761874403274,"duration":1220},"status":"passed","steps":[],"attachments":[{"uid":"79719de7357b48ae","name":"Page URL","source":"79719de7357b48ae.txt","type":"text/plain","size":33},{"uid":"662d946a44f252f4","name":"Screenshot: Click login button (success)","source":"662d946a44f252f4.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1761874403275,"stop":1761874404380,"duration":1105},"status":"passed","steps":[],"attachments":[{"uid":"10040bda264dcfd4","name":"Page URL","source":"10040bda264dcfd4.txt","type":"text/plain","size":362},{"uid":"28e92aee329d04c0","name":"HTTP 404 - HEAD regression-4m300n5bi3","source":"28e92aee329d04c0.txt","type":"text/plain","size":179},{"uid":"11888e558612fe77","name":"Screenshot: Verify that Signup username page displayed (success)","source":"11888e558612fe77.png","type":"image/png","size":37442}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1761874404380,"stop":1761874405213,"duration":833},"status":"passed","steps":[],"attachments":[{"uid":"42fe7c9a1c06124e","name":"Page URL","source":"42fe7c9a1c06124e.txt","type":"text/plain","size":362},{"uid":"b0f4d8fe7840f480","name":"HTTP 404 - HEAD ","source":"b0f4d8fe7840f480.txt","type":"text/plain","size":158},{"uid":"3c1ea3b804edbdb","name":"HTTP 404 - HEAD regression-4m300n5bi3","source":"3c1ea3b804edbdb.txt","type":"text/plain","size":179},{"uid":"e5647fd05c1511d7","name":"Screenshot: Enter username (success)","source":"e5647fd05c1511d7.png","type":"image/png","size":37738}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1761874405214,"stop":1761874407951,"duration":2737},"status":"passed","steps":[],"attachments":[{"uid":"9ba393dff0c95602","name":"Page URL","source":"9ba393dff0c95602.txt","type":"text/plain","size":362},{"uid":"8161f46c41527e9b","name":"HTTP 200 - GET config","source":"8161f46c41527e9b.txt","type":"text/plain","size":771},{"uid":"1c9a8f76417be938","name":"HTTP 200 - GET permissions?uri=blob:","source":"1c9a8f76417be938.txt","type":"text/plain","size":182},{"uid":"b1a53eaf1d75b919","name":"HTTP 200 - GET regression-4m300n5bi3?include=orgs","source":"b1a53eaf1d75b919.txt","type":"text/plain","size":380},{"uid":"f967101bd44b7fa3","name":"HTTP 200 - GET regression-4m300n5bi3?include=clusters&include=system_role","source":"f967101bd44b7fa3.txt","type":"text/plain","size":408},{"uid":"99f5174d922df87","name":"HTTP 200 - GET incoming","source":"99f5174d922df87.txt","type":"text/plain","size":156},{"uid":"b6c5c1778f636ed8","name":"HTTP 200 - GET config","source":"b6c5c1778f636ed8.txt","type":"text/plain","size":771},{"uid":"54af4a4c898437e6","name":"HTTP 200 - GET permissions?uri=blob:","source":"54af4a4c898437e6.txt","type":"text/plain","size":182},{"uid":"5d723cf8dea06dc7","name":"HTTP 200 - GET regression-4m300n5bi3?include=orgs","source":"5d723cf8dea06dc7.txt","type":"text/plain","size":380},{"uid":"434583179188d6af","name":"HTTP 200 - GET regression-4m300n5bi3?include=clusters&include=system_role","source":"434583179188d6af.txt","type":"text/plain","size":408},{"uid":"51634467f6983d86","name":"HTTP 200 - GET incoming","source":"51634467f6983d86.txt","type":"text/plain","size":156},{"uid":"a0e1a2943dec7655","name":"Screenshot: Click signup button on Signup username page (success)","source":"a0e1a2943dec7655.png","type":"image/png","size":43199}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1761874407951,"stop":1761874408051,"duration":100},"status":"passed","steps":[],"attachments":[{"uid":"8b2c581e7a81acc7","name":"Page URL","source":"8b2c581e7a81acc7.txt","type":"text/plain","size":151},{"uid":"c15b68c4b7cbce25","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"c15b68c4b7cbce25.png","type":"image/png","size":46312}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1761874408051,"stop":1761874408700,"duration":649},"status":"passed","steps":[],"attachments":[{"uid":"5983d80e638ba6c7","name":"Page URL","source":"5983d80e638ba6c7.txt","type":"text/plain","size":151},{"uid":"f1ff80008b4da2a5","name":"Screenshot: Check agreement checkbox (success)","source":"f1ff80008b4da2a5.png","type":"image/png","size":41978}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1761874408700,"stop":1761874409334,"duration":634},"status":"passed","steps":[],"attachments":[{"uid":"ae2f4d7aebf7b574","name":"Page URL","source":"ae2f4d7aebf7b574.txt","type":"text/plain","size":151},{"uid":"a6ed913b0be01b3b","name":"Screenshot: Click I Agree button (success)","source":"a6ed913b0be01b3b.png","type":"image/png","size":42668}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1761874409334,"stop":1761874409501,"duration":167},"status":"passed","steps":[],"attachments":[{"uid":"fcc650e1408790f6","name":"Page URL","source":"fcc650e1408790f6.txt","type":"text/plain","size":151},{"uid":"a7ca8a8a83f3f151","name":"HTTP 204 - PUT profile","source":"a7ca8a8a83f3f151.txt","type":"text/plain","size":253},{"uid":"4befa3d17ff4916f","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"4befa3d17ff4916f.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1761874409501,"stop":1761874412596,"duration":3095},"status":"passed","steps":[],"attachments":[{"uid":"63929ff357adc12e","name":"Page URL","source":"63929ff357adc12e.txt","type":"text/plain","size":44},{"uid":"14343161490dbe58","name":"Screenshot: Wait for timeout (success)","source":"14343161490dbe58.png","type":"image/png","size":160313}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1761874412596,"stop":1761874413696,"duration":1100},"status":"passed","steps":[],"attachments":[{"uid":"62b20b998c1ebe61","name":"Page URL","source":"62b20b998c1ebe61.txt","type":"text/plain","size":44},{"uid":"ddcfb8488caba518","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"ddcfb8488caba518.png","type":"image/png","size":160313}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"387ec51480645604","name":"Page URL","source":"387ec51480645604.txt","type":"text/plain","size":29},{"uid":"923a90f4f44b5eab","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"923a90f4f44b5eab.png","type":"image/png","size":160313}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":56,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":20,"attachmentsCount":56,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1761874413798,"stop":1761874413798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1761874413798,"stop":1761874413798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1761874413798,"stop":1761874413798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nMessage: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/main_page_steps.py:31: in verify_ui_terms_of_agreement_displayed\n    assert await self._pm.main_page.is_user_agreement_title_displayed(), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:133: in ui_signup_new_user_ver_link\n    await self.main_page.verify_ui_terms_of_agreement_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:152: in ui_get_second_user\n    user = await self.ui_signup_new_user_ver_link()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:35: in test_user_purchase_credits\n    second_user = await u2_steps.ui_get_second_user()\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nE   Message: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!","steps":[{"name":"Login via UI","time":{"start":1761874413800,"stop":1761874517642,"duration":103842},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1761874413800,"stop":1761874502566,"duration":88766},"status":"passed","steps":[],"attachments":[{"uid":"6d13697d179c134c","name":"Page URL","source":"6d13697d179c134c.txt","type":"text/plain","size":33},{"uid":"4370e8b8efe2f586","name":"Screenshot: Verify that Auth page displayed (success)","source":"4370e8b8efe2f586.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1761874502566,"stop":1761874503216,"duration":650},"status":"passed","steps":[],"attachments":[{"uid":"7a80377c79fa19e7","name":"Page URL","source":"7a80377c79fa19e7.txt","type":"text/plain","size":33},{"uid":"62ba9d681666f7c2","name":"Screenshot: Click login button (success)","source":"62ba9d681666f7c2.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1761874503216,"stop":1761874503729,"duration":513},"status":"passed","steps":[],"attachments":[{"uid":"4f2949f5d3096f93","name":"Page URL","source":"4f2949f5d3096f93.txt","type":"text/plain","size":33},{"uid":"cd13e71691855e40","name":"Screenshot: Verify that Login page displayed (success)","source":"cd13e71691855e40.png","type":"image/png","size":41831}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1761874503729,"stop":1761874504062,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"e4940b1f2eb5f6e2","name":"Page URL","source":"e4940b1f2eb5f6e2.txt","type":"text/plain","size":215},{"uid":"a116495a8ac5b8b8","name":"Screenshot: Enter email (success)","source":"a116495a8ac5b8b8.png","type":"image/png","size":46235}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1761874504062,"stop":1761874504393,"duration":331},"status":"passed","steps":[],"attachments":[{"uid":"b2f04990332abf9c","name":"Page URL","source":"b2f04990332abf9c.txt","type":"text/plain","size":215},{"uid":"8dec7906a5a31767","name":"Screenshot: Enter password (success)","source":"8dec7906a5a31767.png","type":"image/png","size":46358}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1761874504393,"stop":1761874516459,"duration":12066},"status":"passed","steps":[],"attachments":[{"uid":"c1d7e5bd3ebbde2","name":"Page URL","source":"c1d7e5bd3ebbde2.txt","type":"text/plain","size":215},{"uid":"ccf1c4900150249e","name":"HTTP 200 - GET config","source":"ccf1c4900150249e.txt","type":"text/plain","size":771},{"uid":"837921cb57762650","name":"HTTP 200 - GET permissions?uri=blob:","source":"837921cb57762650.txt","type":"text/plain","size":182},{"uid":"fda9c2ef0ce3d898","name":"HTTP 200 - GET regression-4m300n5bi3?include=clusters&include=system_role","source":"fda9c2ef0ce3d898.txt","type":"text/plain","size":407},{"uid":"8489a4ff09bb20d5","name":"HTTP 200 - GET incoming","source":"8489a4ff09bb20d5.txt","type":"text/plain","size":156},{"uid":"712c2922c41f4c77","name":"HTTP 200 - GET regression-4m300n5bi3?include=orgs","source":"712c2922c41f4c77.txt","type":"text/plain","size":379},{"uid":"73d631cc614f9908","name":"Screenshot: Click Continue button (success)","source":"73d631cc614f9908.png","type":"image/png","size":160313}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1761874516467,"stop":1761874517559,"duration":1092},"status":"passed","steps":[],"attachments":[{"uid":"b2d08ea2db316337","name":"Page URL","source":"b2d08ea2db316337.txt","type":"text/plain","size":44},{"uid":"975e7a45de119767","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"975e7a45de119767.png","type":"image/png","size":160313}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5ae23248492c7f9d","name":"Page URL","source":"5ae23248492c7f9d.txt","type":"text/plain","size":33},{"uid":"fe9870736533fd81","name":"Screenshot: Login via UI (success)","source":"fe9870736533fd81.png","type":"image/png","size":160313}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":21,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Get second user","time":{"start":1761874518507,"stop":1761874555356,"duration":36849},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nMessage: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"<<User2>> :: Signup new user via UI and activate email verification link","time":{"start":1761874518507,"stop":1761874555290,"duration":36783},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"<<User2>> :: Click signup button","time":{"start":1761874518507,"stop":1761874519785,"duration":1278},"status":"passed","steps":[],"attachments":[{"uid":"60995f8ef712653e","name":"Page URL","source":"60995f8ef712653e.txt","type":"text/plain","size":29},{"uid":"f91d8cb2cce07591","name":"HTTP 200 - GET config","source":"f91d8cb2cce07591.txt","type":"text/plain","size":673},{"uid":"692141bea0e44fa5","name":"Screenshot: <<User2>> :: Click signup button (success)","source":"692141bea0e44fa5.png","type":"image/png","size":88582}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter email","time":{"start":1761874519785,"stop":1761874520159,"duration":374},"status":"passed","steps":[],"attachments":[{"uid":"e94f2668bbd82cd6","name":"Page URL","source":"e94f2668bbd82cd6.txt","type":"text/plain","size":216},{"uid":"eb7ea3bcb649a88c","name":"Screenshot: <<User2>> :: Enter email (success)","source":"eb7ea3bcb649a88c.png","type":"image/png","size":44466}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter password","time":{"start":1761874520159,"stop":1761874520512,"duration":353},"status":"passed","steps":[],"attachments":[{"uid":"c6afab34d86e2f6","name":"Page URL","source":"c6afab34d86e2f6.txt","type":"text/plain","size":216},{"uid":"c774a08ae65fb7eb","name":"Screenshot: <<User2>> :: Enter password (success)","source":"c774a08ae65fb7eb.png","type":"image/png","size":64147}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click continue button","time":{"start":1761874520513,"stop":1761874522975,"duration":2462},"status":"passed","steps":[],"attachments":[{"uid":"3546cd476bdaed50","name":"Page URL","source":"3546cd476bdaed50.txt","type":"text/plain","size":216},{"uid":"84651e8aed8e093e","name":"Screenshot: <<User2>> :: Click continue button (success)","source":"84651e8aed8e093e.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Verify email message displayed","time":{"start":1761874522975,"stop":1761874524057,"duration":1082},"status":"passed","steps":[],"attachments":[{"uid":"65a1cbd690f190fc","name":"Page URL","source":"65a1cbd690f190fc.txt","type":"text/plain","size":192},{"uid":"16d8347402c92705","name":"HTTP 200 - GET config","source":"16d8347402c92705.txt","type":"text/plain","size":673},{"uid":"5927192c866fd1a","name":"Screenshot: <<User2>> :: Verify that Verify email message displayed (success)","source":"5927192c866fd1a.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1761874524057,"stop":1761874525818,"duration":1761},"status":"passed","steps":[{"name":"<<User2>> :: Navigate to URL","time":{"start":1761874524598,"stop":1761874525556,"duration":958},"status":"passed","steps":[],"attachments":[{"uid":"651a01def0f0d918","name":"Page URL","source":"651a01def0f0d918.txt","type":"text/plain","size":182},{"uid":"f5fb489a8b95d28b","name":"Screenshot: <<User2>> :: Navigate to URL (success)","source":"f5fb489a8b95d28b.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Navigate to URL","time":{"start":1761874525818,"stop":1761874527498,"duration":1680},"status":"passed","steps":[],"attachments":[{"uid":"974ff3da0914cc74","name":"Page URL","source":"974ff3da0914cc74.txt","type":"text/plain","size":87},{"uid":"b8ae31d005e46376","name":"HTTP 200 - GET config","source":"b8ae31d005e46376.txt","type":"text/plain","size":673},{"uid":"40d8fc1b8067a603","name":"Screenshot: <<User2>> :: Navigate to URL (success)","source":"40d8fc1b8067a603.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Auth page displayed","time":{"start":1761874527498,"stop":1761874527598,"duration":100},"status":"passed","steps":[],"attachments":[{"uid":"fd5be363a1ea40b1","name":"Page URL","source":"fd5be363a1ea40b1.txt","type":"text/plain","size":33},{"uid":"ff4428b70bdceb6","name":"Screenshot: <<User2>> :: Verify that Auth page displayed (success)","source":"ff4428b70bdceb6.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click login button","time":{"start":1761874527598,"stop":1761874528804,"duration":1206},"status":"passed","steps":[],"attachments":[{"uid":"6c100aa6d21f840d","name":"Page URL","source":"6c100aa6d21f840d.txt","type":"text/plain","size":33},{"uid":"6025847a6f3277bf","name":"Screenshot: <<User2>> :: Click login button (success)","source":"6025847a6f3277bf.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Signup username page displayed","time":{"start":1761874528804,"stop":1761874529910,"duration":1106},"status":"passed","steps":[],"attachments":[{"uid":"dc0dc11dcff25201","name":"Page URL","source":"dc0dc11dcff25201.txt","type":"text/plain","size":362},{"uid":"fac3e39f6e74aa92","name":"HTTP 404 - HEAD regression-038yt9xhyr","source":"fac3e39f6e74aa92.txt","type":"text/plain","size":179},{"uid":"3f345a2f25e1c503","name":"Screenshot: <<User2>> :: Verify that Signup username page displayed (success)","source":"3f345a2f25e1c503.png","type":"image/png","size":37720}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter username","time":{"start":1761874529910,"stop":1761874530742,"duration":832},"status":"passed","steps":[],"attachments":[{"uid":"346b11cb1fc54d23","name":"Page URL","source":"346b11cb1fc54d23.txt","type":"text/plain","size":362},{"uid":"548ef02c17da287","name":"HTTP 404 - HEAD ","source":"548ef02c17da287.txt","type":"text/plain","size":158},{"uid":"b08ad9296fd1299f","name":"HTTP 404 - HEAD regression-038yt9xhyr","source":"b08ad9296fd1299f.txt","type":"text/plain","size":179},{"uid":"822488e9593fa282","name":"Screenshot: <<User2>> :: Enter username (success)","source":"822488e9593fa282.png","type":"image/png","size":38045}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click signup button on Signup username page","time":{"start":1761874530742,"stop":1761874545108,"duration":14366},"status":"passed","steps":[],"attachments":[{"uid":"61354813394af7f9","name":"Page URL","source":"61354813394af7f9.txt","type":"text/plain","size":362},{"uid":"f9616f0bbdc6ce9f","name":"HTTP 200 - GET config","source":"f9616f0bbdc6ce9f.txt","type":"text/plain","size":673},{"uid":"ad798775e1b695d3","name":"Screenshot: <<User2>> :: Click signup button on Signup username page (success)","source":"ad798775e1b695d3.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that User agreement pop up displayed","time":{"start":1761874545108,"stop":1761874555222,"duration":10114},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"4f68dfc22caf9c6c","name":"Page URL","source":"4f68dfc22caf9c6c.txt","type":"text/plain","size":222},{"uid":"b3ce26d9be4bdec6","name":"Screenshot: <<User2>> :: Verify that User agreement pop up displayed (fail)","source":"b3ce26d9be4bdec6.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e24bc9cb260f154b","name":"Page URL","source":"e24bc9cb260f154b.txt","type":"text/plain","size":29},{"uid":"b00c5ad75023b27f","name":"Screenshot: <<User2>> :: Signup new user via UI and activate email verification link (fail)","source":"b00c5ad75023b27f.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":35,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7469bfa80c7e4cbe","name":"Page URL","source":"7469bfa80c7e4cbe.txt","type":"text/plain","size":29},{"uid":"ea3724a29cdb226f","name":"Screenshot: <<User2>> :: Get second user (fail)","source":"ea3724a29cdb226f.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":37,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"72e659e22846ea48","name":"log","source":"72e659e22846ea48.txt","type":"text/plain","size":40935}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":24,"attachmentsCount":59,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1761874555427,"stop":1761874555427,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761874555428,"stop":1761874555428,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761874555428,"stop":1761874559626,"duration":4198},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1761874555428,"stop":1761874559626,"duration":4198},"status":"passed","steps":[],"attachments":[{"uid":"f020e01f4e636da3","name":"Cleanup note","source":"f020e01f4e636da3.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1761874559628,"stop":1761874559628,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1761874559629,"stop":1761874559630,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"UI Credits Purchase"},{"name":"parentSuite","value":"UI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUICreditsPurchase"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3559-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_credits_purchase"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"512cfc0053b542e8.json","parameterValues":[]}