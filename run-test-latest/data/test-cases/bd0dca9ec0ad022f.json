{"uid":"bd0dca9ec0ad022f","name":"Export PostgreSQL app config via UI","fullName":"tests.test_cases.tests_e2e.test_postgres_app.TestE2EPostgresApp#test_export_app_config_via_ui","historyId":"562266e94bc4f7aed4680f9246734fe6","time":{"start":1767930311614,"stop":1767930492127,"duration":180513},"description":"\n Login with valid credentials.\n- Create new organization via **API**.\n- Create new project via **API**.\n- Select the Preset `cpu-medium`\n- Set PGbouncer.replicas to `1`\n- Set Postgres Configuration.Instance replicas to `1`\n- Click on Database Users `Add Entry`\n- Enter Database `user name`\n- Enter Database `name`\n- Select PG Bouncer.Resource Preset `cpu-medium`\n- Click `Export config` button.\n\n### Verify that:\n\n- Config downloaded as `yaml` file matches expected schema.\n- Exported config contains valid data.\n","descriptionHtml":"<div style='line-height:1.6;'><p>Login with valid credentials.\n- Create new organization via <strong>API</strong>.\n- Create new project via <strong>API</strong>.\n- Select the Preset <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>cpu-medium</span>\n- Set PGbouncer.replicas to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>1</span>\n- Set Postgres Configuration.Instance replicas to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>1</span>\n- Click on Database Users <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Add Entry</span>\n- Enter Database <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>user name</span>\n- Enter Database <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>name</span>\n- Select PG Bouncer.Resource Preset <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>cpu-medium</span>\n- Click <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Export config</span> button.</p>\n<h3>Verify that:</h3>\n<ul>\n<li>Config downloaded as <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>yaml</span> file matches expected schema.</li>\n<li>Exported config contains valid data.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Auth page displayed\nMessage: Auth page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Auth page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify that Auth page displayed\nE   Message: Auth page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_postgres_app.py:686: in test_export_app_config_via_ui\n    await ui_steps.ui_login(user, fresh_login=False)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [AssertionError] during step: Verify that Auth page displayed\nE   Message: Auth page should be displayed!","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"ensure_storage_directories","time":{"start":1767922331456,"stop":1767922331456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1767922331456,"stop":1767922331456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1767922331456,"stop":1767922331456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1767922331456,"stop":1767922331456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1767922331456,"stop":1767922331456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1767922331456,"stop":1767922331456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1767922331456,"stop":1767922331456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1767930281218,"stop":1767930281222,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1767930281222,"stop":1767930281222,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1767930281222,"stop":1767930311612,"duration":30390},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1767930311612,"stop":1767930311612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1767930311612,"stop":1767930311612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1767930311612,"stop":1767930311613,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1767930311613,"stop":1767930311613,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1767930311613,"stop":1767930311613,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1767930311614,"stop":1767930311614,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1767930311614,"stop":1767930311614,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1767930311614,"stop":1767930311614,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n Login with valid credentials.\n- Create new organization via **API**.\n- Create new project via **API**.\n- Select the Preset `cpu-medium`\n- Set PGbouncer.replicas to `1`\n- Set Postgres Configuration.Instance replicas to `1`\n- Click on Database Users `Add Entry`\n- Enter Database `user name`\n- Enter Database `name`\n- Select PG Bouncer.Resource Preset `cpu-medium`\n- Click `Export config` button.\n\n### Verify that:\n\n- Config downloaded as `yaml` file matches expected schema.\n- Exported config contains valid data.\n","descriptionHtml":"<div style='line-height:1.6;'><p>Login with valid credentials.\n- Create new organization via <strong>API</strong>.\n- Create new project via <strong>API</strong>.\n- Select the Preset <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>cpu-medium</span>\n- Set PGbouncer.replicas to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>1</span>\n- Set Postgres Configuration.Instance replicas to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>1</span>\n- Click on Database Users <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Add Entry</span>\n- Enter Database <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>user name</span>\n- Enter Database <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>name</span>\n- Select PG Bouncer.Resource Preset <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>cpu-medium</span>\n- Click <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Export config</span> button.</p>\n<h3>Verify that:</h3>\n<ul>\n<li>Config downloaded as <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>yaml</span> file matches expected schema.</li>\n<li>Exported config contains valid data.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Auth page displayed\nMessage: Auth page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Auth page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify that Auth page displayed\nE   Message: Auth page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_postgres_app.py:686: in test_export_app_config_via_ui\n    await ui_steps.ui_login(user, fresh_login=False)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [AssertionError] during step: Verify that Auth page displayed\nE   Message: Auth page should be displayed!","steps":[{"name":"Login via UI","time":{"start":1767930311615,"stop":1767930492126,"duration":180511},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Auth page displayed\nMessage: Auth page should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Verify that Auth page displayed","time":{"start":1767930311616,"stop":1767930462124,"duration":150508},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Auth page displayed\nMessage: Auth page should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"adaf513bfb6f46da","name":"Page URL","source":"adaf513bfb6f46da.txt","type":"text/plain","size":11}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"de2239c69631ead1","name":"Page URL","source":"de2239c69631ead1.txt","type":"text/plain","size":11}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8d04d354cdbbad9f","name":"log","source":"8d04d354cdbbad9f.txt","type":"text/plain","size":2445}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1767930492153,"stop":1767930492153,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1767930492154,"stop":1767930492154,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1767930492154,"stop":1767930492154,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1767930492154,"stop":1767930492154,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1767930492155,"stop":1767930492155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"PostgreSQL App"},{"name":"parentSuite","value":"E2E Tests"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"class_setup"},{"name":"subSuite","value":"TestE2EPostgresApp"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2980-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_e2e.test_postgres_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":50,"broken":0,"skipped":0,"passed":27,"unknown":0,"total":77},"items":[{"uid":"b9019a3f47b952ed","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767844349448,"stop":1767844418355,"duration":68907}},{"uid":"2d8c77926047bb9e","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767758125008,"stop":1767758185496,"duration":60488}},{"uid":"1f6eabf0483b4819","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767671658198,"stop":1767671717846,"duration":59648}},{"uid":"f54c8ed6c50143f2","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767585012955,"stop":1767585073344,"duration":60389}},{"uid":"b6a6b4bd308a1581","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767498034505,"stop":1767498103565,"duration":69060}},{"uid":"3fb24992628474a2","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767410957828,"stop":1767411026704,"duration":68876}},{"uid":"da0a9c60465c9cb1","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767325203785,"stop":1767325265955,"duration":62170}},{"uid":"3ea3c859681fd056","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767238411087,"stop":1767238470218,"duration":59131}},{"uid":"fcf2db135e1f79fd","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767152324483,"stop":1767152383755,"duration":59272}},{"uid":"5e414813a76b3bed","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1767065397033,"stop":1767065456564,"duration":59531}},{"uid":"b91407014bcf19ae","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766979160055,"stop":1766979229320,"duration":69265}},{"uid":"6d44e6a0631bb281","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766893187680,"stop":1766893256546,"duration":68866}},{"uid":"6c7a746507316ccd","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766806268808,"stop":1766806328090,"duration":59282}},{"uid":"785879a205eac37a","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766719937671,"stop":1766720007234,"duration":69563}},{"uid":"36a9440afb008708","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766633482056,"stop":1766633551254,"duration":69198}},{"uid":"7990b4e1acd662a0","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766546886337,"stop":1766546955047,"duration":68710}},{"uid":"9768b6dfb1062448","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766460816187,"stop":1766460877180,"duration":60993}},{"uid":"41a7be9a5ffc8efa","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766375480126,"stop":1766375540514,"duration":60388}},{"uid":"700910d80ed18558","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766288584419,"stop":1766288653498,"duration":69079}},{"uid":"83c054a064462449","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify that Postgres install page displayed\nMessage: Postgres Install page should be displayed!","time":{"start":1766202016574,"stop":1766202078022,"duration":61448}}]},"tags":["asyncio","class_setup"]},"source":"bd0dca9ec0ad022f.json","parameterValues":[]}