{"uid":"ee64ccfed40bc52b","name":"Verfiy POST external Chat API /v1/chat/completions returns valid data","fullName":"tests.test_cases.tests_e2e.test_deep_seek_app.TestE2EDeepSeekApp#test_ext_chat_endpoint_completions","historyId":"35398de72d0cdfd424467cc9027c9bd0","time":{"start":1769312114381,"stop":1769312125410,"duration":11029},"description":"\n### Pre-conditions:\n- DeepSeek app installed.\n\n### Steps:\n- Login with valid credentials.\n- POST `external` OpenAI Compatible Chat API `{hostname}/v1/chat/completions`.\n\n### Verify that:\n\n- API response matching expected json schema.\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>DeepSeek app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>POST <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>external</span> OpenAI Compatible Chat API <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>{hostname}/v1/chat/completions</span>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>API response matching expected json schema.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1769304623831,"stop":1769304623831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1769304623831,"stop":1769304623831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1769304623831,"stop":1769304623831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1769304623831,"stop":1769304623831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1769304623831,"stop":1769304623831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1769304623831,"stop":1769304623831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1769304623832,"stop":1769304623832,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1769312113736,"stop":1769312113739,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1769312113739,"stop":1769312114377,"duration":638},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1769312113739,"stop":1769312113740,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1769312114378,"stop":1769312114378,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1769312114378,"stop":1769312114379,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1769312114378,"stop":1769312114378,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1769312114379,"stop":1769312114379,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1769312114379,"stop":1769312114379,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1769312114380,"stop":1769312114380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1769312114380,"stop":1769312114380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1769312114380,"stop":1769312114380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"deep_seek_status","time":{"start":1769312114381,"stop":1769312114381,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n### Pre-conditions:\n- DeepSeek app installed.\n\n### Steps:\n- Login with valid credentials.\n- POST `external` OpenAI Compatible Chat API `{hostname}/v1/chat/completions`.\n\n### Verify that:\n\n- API response matching expected json schema.\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>DeepSeek app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>POST <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>external</span> OpenAI Compatible Chat API <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>{hostname}/v1/chat/completions</span>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>API response matching expected json schema.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1769312114382,"stop":1769312120198,"duration":5816},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1769312114382,"stop":1769312115468,"duration":1086},"status":"passed","steps":[],"attachments":[{"uid":"50636ee6ff4c941a","name":"Page URL","source":"50636ee6ff4c941a.txt","type":"text/plain","size":29},{"uid":"600aea14d5bfb59b","name":"HTTP 200 - GET config","source":"600aea14d5bfb59b.txt","type":"text/plain","size":673},{"uid":"cfd4db89dcd4f938","name":"Screenshot: Verify that Auth page displayed (success)","source":"cfd4db89dcd4f938.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1769312115469,"stop":1769312116796,"duration":1327},"status":"passed","steps":[],"attachments":[{"uid":"f07f85de09960ed2","name":"Page URL","source":"f07f85de09960ed2.txt","type":"text/plain","size":33},{"uid":"29a2b4d8f5108285","name":"Screenshot: Click login button (success)","source":"29a2b4d8f5108285.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1769312116796,"stop":1769312116893,"duration":97},"status":"passed","steps":[],"attachments":[{"uid":"6daf0167f47d7ba4","name":"Page URL","source":"6daf0167f47d7ba4.txt","type":"text/plain","size":215},{"uid":"ebab18ba61440791","name":"Screenshot: Verify that Login page displayed (success)","source":"ebab18ba61440791.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1769312116893,"stop":1769312117210,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"d06de67376dbdf4","name":"Page URL","source":"d06de67376dbdf4.txt","type":"text/plain","size":215},{"uid":"ec1ecf5a66cee53c","name":"Screenshot: Enter email (success)","source":"ec1ecf5a66cee53c.png","type":"image/png","size":45659}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1769312117210,"stop":1769312117528,"duration":318},"status":"passed","steps":[],"attachments":[{"uid":"22eb64e6356e175a","name":"Page URL","source":"22eb64e6356e175a.txt","type":"text/plain","size":215},{"uid":"c2446218f285e601","name":"Screenshot: Enter password (success)","source":"c2446218f285e601.png","type":"image/png","size":45803}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1769312117528,"stop":1769312119980,"duration":2452},"status":"passed","steps":[],"attachments":[{"uid":"a698f22c9229c181","name":"Page URL","source":"a698f22c9229c181.txt","type":"text/plain","size":215},{"uid":"9c4143a9b27e4c72","name":"HTTP 200 - GET config","source":"9c4143a9b27e4c72.txt","type":"text/plain","size":2137},{"uid":"f682b330baead09a","name":"HTTP 200 - GET permissions?uri=blob:","source":"f682b330baead09a.txt","type":"text/plain","size":255},{"uid":"386d8e09e3c6acdc","name":"HTTP 200 - GET incoming","source":"386d8e09e3c6acdc.txt","type":"text/plain","size":156},{"uid":"8796aeee1555e588","name":"HTTP 200 - GET regression-org-svhmzvbp1ok5","source":"8796aeee1555e588.txt","type":"text/plain","size":444},{"uid":"e1377efa848fecc5","name":"HTTP 200 - GET regression-wm1zvpxl0f?include=orgs","source":"e1377efa848fecc5.txt","type":"text/plain","size":474},{"uid":"401f48671c69c8b3","name":"HTTP 200 - GET instances?org=regression-org-svhmzvbp1ok5&project=regression-proj-4j7fuio6jp&cluster=default&size=100&exclude_states=uninstalled","source":"401f48671c69c8b3.txt","type":"text/plain","size":1347},{"uid":"d360154e7553186d","name":"HTTP 200 - GET regression-wm1zvpxl0f?include=clusters&include=system_role","source":"d360154e7553186d.txt","type":"text/plain","size":529},{"uid":"eeb402e2ad55c4cc","name":"HTTP 200 - GET templates","source":"eeb402e2ad55c4cc.txt","type":"text/plain","size":2146},{"uid":"662c039c4fe6f879","name":"HTTP 200 - GET instances?org=regression-org-svhmzvbp1ok5&project=regression-proj-4j7fuio6jp&cluster=default&size=100&exclude_states=uninstalled","source":"662c039c4fe6f879.txt","type":"text/plain","size":1347},{"uid":"bbf23ee73f419d44","name":"HTTP 200 - GET tags","source":"bbf23ee73f419d44.txt","type":"text/plain","size":948},{"uid":"bfc4cceacba52b01","name":"HTTP 200 - GET templates?page=1&size=50","source":"bfc4cceacba52b01.txt","type":"text/plain","size":2161},{"uid":"bcaf4545d244287","name":"Screenshot: Click Continue button (success)","source":"bcaf4545d244287.png","type":"image/png","size":161104}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Verify Apps page displayed","time":{"start":1769312119988,"stop":1769312120097,"duration":109},"status":"passed","steps":[],"attachments":[{"uid":"aa6e79dd0980167b","name":"Page URL","source":"aa6e79dd0980167b.txt","type":"text/plain","size":116},{"uid":"3b52533a89e08be","name":"Screenshot: Verify Apps page displayed (success)","source":"3b52533a89e08be.png","type":"image/png","size":161704}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"28441c959d0bdac6","name":"Page URL","source":"28441c959d0bdac6.txt","type":"text/plain","size":29},{"uid":"8946dc4c5d61298d","name":"Screenshot: Login via UI (success)","source":"8946dc4c5d61298d.png","type":"image/png","size":161738}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":28,"hasContent":true,"attachmentStep":false},{"name":"Verify POST to external Compatible Chat API /v1/chat/completions returns valid data","time":{"start":1769312120198,"stop":1769312125410,"duration":5212},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"2918c788ad813080","name":"log","source":"2918c788ad813080.txt","type":"text/plain","size":25999}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":29,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1769312125411,"stop":1769312125411,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1769312125411,"stop":1769312125411,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1769312125411,"stop":1769312125411,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1769312125412,"stop":1769312125412,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1769312125413,"stop":1769312125414,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"DeepSeek App"},{"name":"parentSuite","value":"E2E Tests"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"class_setup"},{"name":"subSuite","value":"TestE2EDeepSeekApp"},{"name":"host","value":"runnervmymu0l"},{"name":"thread","value":"3035-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_e2e.test_deep_seek_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":14,"broken":0,"skipped":79,"passed":17,"unknown":0,"total":110},"items":[{"uid":"5e01de3e41ee70ac","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1769098489242,"stop":1769098489242,"duration":0}},{"uid":"fa6a0ec9ba9cd7de","status":"failed","statusDetails":"AssertionError: [ClientConnectorDNSError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Cannot connect to host none:443 ssl:default [DNS server returned general failure]","time":{"start":1769036403028,"stop":1769036413305,"duration":10277}},{"uid":"b7c349e398b29404","status":"failed","statusDetails":"AssertionError: [ClientConnectorDNSError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Cannot connect to host none:443 ssl:default [DNS server returned general failure]","time":{"start":1769005567140,"stop":1769005585025,"duration":17885}},{"uid":"2dfcdb4347dd0632","status":"failed","statusDetails":"AssertionError: [ClientConnectorDNSError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Cannot connect to host none:443 ssl:default [DNS server returned general failure]","time":{"start":1768936811331,"stop":1768936819267,"duration":7936}},{"uid":"64a7413c5b6f4709","status":"failed","statusDetails":"AssertionError: [ClientConnectorDNSError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Cannot connect to host none:443 ssl:default [DNS server returned general failure]","time":{"start":1768875701943,"stop":1768875719298,"duration":17355}},{"uid":"8ace9e4e7a52a282","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1768567023517,"stop":1768567023517,"duration":0}},{"uid":"cb1f48f634f0ea3f","status":"failed","statusDetails":"AssertionError: [ClientConnectorDNSError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Cannot connect to host none:443 ssl:default [DNS server returned general failure]","time":{"start":1768399907528,"stop":1768399924992,"duration":17464}},{"uid":"35a55d2c3b8947e4","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1768188543948,"stop":1768188543948,"duration":0}},{"uid":"43a5cf106a3ec455","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1768102096384,"stop":1768102096384,"duration":0}},{"uid":"22f05614558cc08c","status":"failed","statusDetails":"AssertionError: [ClientConnectorDNSError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Cannot connect to host none:443 ssl:default [DNS server returned general failure]","time":{"start":1768015921547,"stop":1768015929336,"duration":7789}},{"uid":"27bd5180cd537253","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1767929913065,"stop":1767929913065,"duration":0}},{"uid":"81ad614d6d07ac96","status":"failed","statusDetails":"AssertionError: [ClientConnectorDNSError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Cannot connect to host none:443 ssl:default [DNS server returned general failure]","time":{"start":1767843504444,"stop":1767843521477,"duration":17033}},{"uid":"f9874ae5e6e0bd3d","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1767757722838,"stop":1767757722838,"duration":0}},{"uid":"af1231af94935fdd","status":"failed","statusDetails":"AssertionError: [ClientConnectorDNSError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Cannot connect to host none:443 ssl:default [DNS server returned general failure]","time":{"start":1767671004931,"stop":1767671012685,"duration":7754}},{"uid":"7a9f9193a5a747b2","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1767584508495,"stop":1767584508495,"duration":0}},{"uid":"132449e67281017d","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1767497511876,"stop":1767497511876,"duration":0}},{"uid":"97bd062ea86c488","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1767410601560,"stop":1767410601560,"duration":0}},{"uid":"95d79e7d195530d1","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1767324670930,"stop":1767324670930,"duration":0}},{"uid":"800d48151b7e1269","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1767238021704,"stop":1767238021704,"duration":0}},{"uid":"d3795a0bf1acdd9a","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1767151956121,"stop":1767151956121,"duration":0}}]},"tags":["asyncio","class_setup"]},"source":"ee64ccfed40bc52b.json","parameterValues":[]}