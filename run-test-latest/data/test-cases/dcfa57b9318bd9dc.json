{"uid":"dcfa57b9318bd9dc","name":"Switch between projects via CLI","fullName":"tests.test_cases.tests_cli.test_project_structure_setup.TestCLIProjectStructureSetup#test_switch_project_cli","historyId":"2d9eb1271f8b76cb8e25dc0f333fe52a","time":{"start":1755312049373,"stop":1755312085010,"duration":35637},"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Create new organization via API.\n-Login with Bearer auth token via CLI.\n-Create first project via CLI.\n-Create second project via CLI.\nVerify that:\n    - User can switch between projects via CLI.\n","descriptionHtml":"<p>-Login with valid credentials via UI.<br />\n-Get Bearer auth token from Playwright local storage.<br />\n-Create new organization via API.<br />\n-Login with Bearer auth token via CLI.<br />\n-Create first project via CLI.<br />\n-Create second project via CLI.<br />\nVerify that:<br />\n- User can switch between projects via CLI.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755307922253,"stop":1755307937253,"duration":15000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755307937253,"stop":1755307937253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755312046642,"stop":1755312046646,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755312046646,"stop":1755312046646,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755312046646,"stop":1755312048828,"duration":2182},"status":"passed","steps":[],"attachments":[{"uid":"911eb9128b8fd28e","name":"HTTP 200 - GET config","source":"911eb9128b8fd28e.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper","time":{"start":1755312048828,"stop":1755312048829,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1755312048828,"stop":1755312048828,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755312048828,"stop":1755312048828,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755312048829,"stop":1755312048829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755312048829,"stop":1755312048830,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755312048830,"stop":1755312048830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755312048830,"stop":1755312048830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755312048830,"stop":1755312049373,"duration":543},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755312048830,"stop":1755312049373,"duration":543},"status":"passed","steps":[],"attachments":[{"uid":"28886a3263ffb214","name":"Executed CLI command","source":"28886a3263ffb214.txt","type":"text/plain","size":15},{"uid":"3404a3d8638f0b81","name":"Executed CLI command output","source":"3404a3d8638f0b81.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Create new organization via API.\n-Login with Bearer auth token via CLI.\n-Create first project via CLI.\n-Create second project via CLI.\nVerify that:\n    - User can switch between projects via CLI.\n","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755312049374,"stop":1755312055100,"duration":5726},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755312049374,"stop":1755312050563,"duration":1189},"status":"passed","steps":[],"attachments":[{"uid":"3a868e1cf9a4957f","name":"Page URL","source":"3a868e1cf9a4957f.txt","type":"text/plain","size":33},{"uid":"da3bcb25e6c24f5a","name":"Screenshot: Click login button (success)","source":"da3bcb25e6c24f5a.png","type":"image/png","size":41556}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755312050563,"stop":1755312050710,"duration":147},"status":"passed","steps":[],"attachments":[{"uid":"f08526ca4dcf943d","name":"Page URL","source":"f08526ca4dcf943d.txt","type":"text/plain","size":215},{"uid":"2b99e41430007e35","name":"Screenshot: Enter email (success)","source":"2b99e41430007e35.png","type":"image/png","size":46406}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755312050710,"stop":1755312050891,"duration":181},"status":"passed","steps":[],"attachments":[{"uid":"398452b8fbf1723a","name":"Page URL","source":"398452b8fbf1723a.txt","type":"text/plain","size":215},{"uid":"547be2f17c30cf41","name":"Screenshot: Enter password (success)","source":"547be2f17c30cf41.png","type":"image/png","size":47198}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755312050891,"stop":1755312053845,"duration":2954},"status":"passed","steps":[],"attachments":[{"uid":"a7fc260361fd398c","name":"Page URL","source":"a7fc260361fd398c.txt","type":"text/plain","size":215},{"uid":"abd05e8396c06b81","name":"HTTP 200 - GET config","source":"abd05e8396c06b81.txt","type":"text/plain","size":752},{"uid":"8c9d8fc68788c26f","name":"HTTP 200 - GET permissions?uri=blob:","source":"8c9d8fc68788c26f.txt","type":"text/plain","size":163},{"uid":"1fbd523b12d0477","name":"HTTP 200 - GET regression-s904d81tdk?include=clusters&include=system_role","source":"1fbd523b12d0477.txt","type":"text/plain","size":388},{"uid":"265a1b0fa9874260","name":"HTTP 200 - GET incoming","source":"265a1b0fa9874260.txt","type":"text/plain","size":137},{"uid":"2aced78abad854aa","name":"HTTP 200 - GET regression-s904d81tdk?include=orgs","source":"2aced78abad854aa.txt","type":"text/plain","size":360},{"uid":"86d6ed9cd8505c1e","name":"Screenshot: Click Continue button (success)","source":"86d6ed9cd8505c1e.png","type":"image/png","size":161347}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755312053862,"stop":1755312054974,"duration":1112},"status":"passed","steps":[],"attachments":[{"uid":"c8dbe792b1297a0f","name":"Page URL","source":"c8dbe792b1297a0f.txt","type":"text/plain","size":44},{"uid":"53cbc7a75b806010","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"53cbc7a75b806010.png","type":"image/png","size":161347}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6834e0d95fba8e34","name":"Page URL","source":"6834e0d95fba8e34.txt","type":"text/plain","size":33},{"uid":"a6249fb45db96446","name":"Screenshot: Login via UI (success)","source":"a6249fb45db96446.png","type":"image/png","size":161347}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1755312055100,"stop":1755312063320,"duration":8220},"status":"passed","steps":[{"name":"Reload page","time":{"start":1755312062134,"stop":1755312063219,"duration":1085},"status":"passed","steps":[],"attachments":[{"uid":"22fcc361305f9d1","name":"Page URL","source":"22fcc361305f9d1.txt","type":"text/plain","size":44},{"uid":"c675d2d01e67dc98","name":"HTTP 200 - GET config","source":"c675d2d01e67dc98.txt","type":"text/plain","size":1118},{"uid":"c6fc9df6bee9b571","name":"HTTP 200 - GET permissions?uri=blob:","source":"c6fc9df6bee9b571.txt","type":"text/plain","size":236},{"uid":"e4fbaa9c4c01c214","name":"HTTP 200 - GET regression-s904d81tdk?include=clusters&include=system_role","source":"e4fbaa9c4c01c214.txt","type":"text/plain","size":510},{"uid":"6786043af1fdb5fa","name":"HTTP 200 - GET incoming","source":"6786043af1fdb5fa.txt","type":"text/plain","size":137},{"uid":"1b2ddbc4111b373e","name":"HTTP 200 - GET regression-org-9s89vr9vymrq","source":"1b2ddbc4111b373e.txt","type":"text/plain","size":425},{"uid":"117c3f027c0a50eb","name":"HTTP 200 - GET regression-s904d81tdk?include=orgs","source":"117c3f027c0a50eb.txt","type":"text/plain","size":455},{"uid":"9dbb81bc35745e3d","name":"Screenshot: Reload page (success)","source":"9dbb81bc35745e3d.png","type":"image/png","size":56549}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"85539f15a253e145","name":"Page URL","source":"85539f15a253e145.txt","type":"text/plain","size":44},{"uid":"dce5d46c67faec9b","name":"Screenshot: Add organization via API and reload page (success)","source":"dce5d46c67faec9b.png","type":"image/png","size":56549}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755312063320,"stop":1755312064126,"duration":806},"status":"passed","steps":[],"attachments":[{"uid":"1a4df64aba8fe320","name":"Executed CLI command","source":"1a4df64aba8fe320.txt","type":"text/plain","size":1114},{"uid":"acd4e5a2ec8b6ce0","name":"Executed CLI command output","source":"acd4e5a2ec8b6ce0.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1755312064126,"stop":1755312078388,"duration":14262},"status":"passed","steps":[],"attachments":[{"uid":"4dbc0390c3b25988","name":"Executed CLI command","source":"4dbc0390c3b25988.txt","type":"text/plain","size":114},{"uid":"bb0ae845851d41a0","name":"Executed CLI command output","source":"bb0ae845851d41a0.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1755312078388,"stop":1755312080690,"duration":2302},"status":"passed","steps":[],"attachments":[{"uid":"351e44b1318cf432","name":"Executed CLI command","source":"351e44b1318cf432.txt","type":"text/plain","size":114},{"uid":"d1fda8f477dfd546","name":"Executed CLI command output","source":"d1fda8f477dfd546.txt","type":"text/plain","size":226}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Run config show command via CLI","time":{"start":1755312080691,"stop":1755312082410,"duration":1719},"status":"passed","steps":[],"attachments":[{"uid":"c8760b6f17b1e196","name":"Executed CLI command","source":"c8760b6f17b1e196.txt","type":"text/plain","size":17},{"uid":"cedf1aaa3d3c71c1","name":"Executed CLI command output","source":"cedf1aaa3d3c71c1.txt","type":"text/plain","size":2905}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify config show command output","time":{"start":1755312082410,"stop":1755312082410,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"93da03063cc4373b","name":"Executed CLI command","source":"93da03063cc4373b.txt","type":"text/plain","size":17},{"uid":"457e30428596b17f","name":"Executed CLI command output","source":"457e30428596b17f.txt","type":"text/plain","size":2905}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Switch project via CLI","time":{"start":1755312082411,"stop":1755312083285,"duration":874},"status":"passed","steps":[],"attachments":[{"uid":"84142b1b2ca47443","name":"Executed CLI command","source":"84142b1b2ca47443.txt","type":"text/plain","size":54},{"uid":"8937c5894db689f8","name":"Executed CLI command output","source":"8937c5894db689f8.txt","type":"text/plain","size":49}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Run config show command via CLI","time":{"start":1755312083285,"stop":1755312085009,"duration":1724},"status":"passed","steps":[],"attachments":[{"uid":"e8c6256515bd2df4","name":"Executed CLI command","source":"e8c6256515bd2df4.txt","type":"text/plain","size":17},{"uid":"8ab26901609a4178","name":"Executed CLI command output","source":"8ab26901609a4178.txt","type":"text/plain","size":2905}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify config show command output","time":{"start":1755312085010,"stop":1755312085010,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"5b55a4d07bd33f13","name":"Executed CLI command","source":"5b55a4d07bd33f13.txt","type":"text/plain","size":17},{"uid":"73a1015065ed25a5","name":"Executed CLI command output","source":"73a1015065ed25a5.txt","type":"text/plain","size":2905}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d00da25a4545d2af","name":"log","source":"d00da25a4545d2af.txt","type":"text/plain","size":25643}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":16,"attachmentsCount":44,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1755312085011,"stop":1755312093632,"duration":8621},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755312085011,"stop":1755312093632,"duration":8621},"status":"passed","steps":[{"name":"Delete organisation: regression-org-9s89vr9vymrq","time":{"start":1755312089173,"stop":1755312093591,"duration":4418},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1755312085011,"stop":1755312085011,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755312093633,"stop":1755312093633,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755312093634,"stop":1755312093635,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Project Structure Setup"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"5905-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":7},"items":[{"uid":"e7e6b164c37ff993","status":"passed","time":{"start":1755283886855,"stop":1755283946795,"duration":59940}},{"uid":"1666a2178ed990d7","status":"passed","time":{"start":1754879716168,"stop":1754879750754,"duration":34586}},{"uid":"aea0ba305cbd8d46","status":"passed","time":{"start":1754830789854,"stop":1754830826031,"duration":36177}},{"uid":"8972cd890d0688ed","status":"passed","time":{"start":1754706797288,"stop":1754706829338,"duration":32050}},{"uid":"d7ea91c861271e5d","status":"passed","time":{"start":1754619766525,"stop":1754619788769,"duration":22244}},{"uid":"cc69ac744855af3f","status":"passed","time":{"start":1754595528758,"stop":1754595549029,"duration":20271}}]},"tags":["asyncio"]},"source":"dcfa57b9318bd9dc.json","parameterValues":[]}