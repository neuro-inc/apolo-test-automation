{"uid":"cafb118d3b9d419d","name":"User without organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_with_token_cli","historyId":"fd27a26b14b2678c9927d4e7b4c1ac77","time":{"start":1762652137012,"stop":1762652154137,"duration":17125},"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"delay_worker_start","time":{"start":1762651963834,"stop":1762651963834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1762651963834,"stop":1762651963834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1762651963834,"stop":1762651963834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1762651963834,"stop":1762651963834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1762651963834,"stop":1762651963834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1762651963834,"stop":1762651963834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1762651963834,"stop":1762651963834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1762652135840,"stop":1762652135842,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1762652135843,"stop":1762652135843,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1762652135843,"stop":1762652136523,"duration":680},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1762652136523,"stop":1762652136524,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1762652136523,"stop":1762652136523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1762652136523,"stop":1762652136523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1762652136524,"stop":1762652136525,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1762652136524,"stop":1762652136524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1762652136524,"stop":1762652136524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1762652136524,"stop":1762652136524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1762652136525,"stop":1762652137011,"duration":486},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1762652136525,"stop":1762652137011,"duration":486},"status":"passed","steps":[],"attachments":[{"uid":"c4f85df3c6d70c2e","name":"Executed CLI command","source":"c4f85df3c6d70c2e.txt","type":"text/plain","size":15},{"uid":"642040f3ee3a1a1d","name":"Executed CLI command output","source":"642040f3ee3a1a1d.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1762652137012,"stop":1762652152962,"duration":15950},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1762652137012,"stop":1762652137464,"duration":452},"status":"passed","steps":[],"attachments":[{"uid":"dfefa47d4cca16f4","name":"Page URL","source":"dfefa47d4cca16f4.txt","type":"text/plain","size":29},{"uid":"a803368994cef691","name":"HTTP 200 - GET config","source":"a803368994cef691.txt","type":"text/plain","size":673},{"uid":"e690619ea3f024b8","name":"Screenshot: Verify that Auth page displayed (success)","source":"e690619ea3f024b8.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1762652137464,"stop":1762652138441,"duration":977},"status":"passed","steps":[],"attachments":[{"uid":"75f8a897a42fb1c","name":"Page URL","source":"75f8a897a42fb1c.txt","type":"text/plain","size":33},{"uid":"83b6dffbecacc7bb","name":"Screenshot: Click login button (success)","source":"83b6dffbecacc7bb.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1762652138441,"stop":1762652138675,"duration":234},"status":"passed","steps":[],"attachments":[{"uid":"bed7e382f1e7df99","name":"Page URL","source":"bed7e382f1e7df99.txt","type":"text/plain","size":215},{"uid":"e98202e7b48b4cba","name":"Screenshot: Verify that Login page displayed (success)","source":"e98202e7b48b4cba.png","type":"image/png","size":41964}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1762652138675,"stop":1762652138989,"duration":314},"status":"passed","steps":[],"attachments":[{"uid":"879eff1f4524b4","name":"Page URL","source":"879eff1f4524b4.txt","type":"text/plain","size":215},{"uid":"a024a3ffe936df4c","name":"Screenshot: Enter email (success)","source":"a024a3ffe936df4c.png","type":"image/png","size":45398}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1762652138990,"stop":1762652139307,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"3db15d5d2e869efc","name":"Page URL","source":"3db15d5d2e869efc.txt","type":"text/plain","size":215},{"uid":"1ba103ebb06eeb73","name":"Screenshot: Enter password (success)","source":"1ba103ebb06eeb73.png","type":"image/png","size":45541}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1762652139307,"stop":1762652151771,"duration":12464},"status":"passed","steps":[],"attachments":[{"uid":"ad2318c5c2e1bbef","name":"Page URL","source":"ad2318c5c2e1bbef.txt","type":"text/plain","size":215},{"uid":"cfe3b664862ce5b6","name":"HTTP 200 - GET config","source":"cfe3b664862ce5b6.txt","type":"text/plain","size":771},{"uid":"b505debdaa2b63cf","name":"HTTP 200 - GET permissions?uri=blob:","source":"b505debdaa2b63cf.txt","type":"text/plain","size":182},{"uid":"e6fc7819f80b7118","name":"HTTP 200 - GET regression-arfdkfmimt?include=orgs","source":"e6fc7819f80b7118.txt","type":"text/plain","size":379},{"uid":"4e475360d23069b1","name":"HTTP 200 - GET incoming","source":"4e475360d23069b1.txt","type":"text/plain","size":156},{"uid":"86241bded62e38dd","name":"HTTP 200 - GET regression-arfdkfmimt?include=clusters&include=system_role","source":"86241bded62e38dd.txt","type":"text/plain","size":407},{"uid":"638f0b7e79148108","name":"Screenshot: Click Continue button (success)","source":"638f0b7e79148108.png","type":"image/png","size":158694}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1762652151779,"stop":1762652152871,"duration":1092},"status":"passed","steps":[],"attachments":[{"uid":"241a215cb2238bbf","name":"Page URL","source":"241a215cb2238bbf.txt","type":"text/plain","size":44},{"uid":"f5f23b283083de71","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"f5f23b283083de71.png","type":"image/png","size":158694}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"56de86e99ba59e22","name":"Page URL","source":"56de86e99ba59e22.txt","type":"text/plain","size":29},{"uid":"a9d6d7c99ac9e05b","name":"Screenshot: Login via UI (success)","source":"a9d6d7c99ac9e05b.png","type":"image/png","size":158694}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1762652152962,"stop":1762652154136,"duration":1174},"status":"passed","steps":[],"attachments":[{"uid":"cf42946e075e17b8","name":"Executed CLI command","source":"cf42946e075e17b8.txt","type":"text/plain","size":1114},{"uid":"fcbeab3074759b21","name":"Executed CLI command output","source":"fcbeab3074759b21.txt","type":"text/plain","size":150}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1762652154136,"stop":1762652154136,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"a5f4b55373c99817","name":"Executed CLI command","source":"a5f4b55373c99817.txt","type":"text/plain","size":1114},{"uid":"563cf781578544ed","name":"Executed CLI command output","source":"563cf781578544ed.txt","type":"text/plain","size":150}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7fb5a4aaef14142b","name":"log","source":"7fb5a4aaef14142b.txt","type":"text/plain","size":31641}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":27,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1762652154138,"stop":1762652154138,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1762652154138,"stop":1762652154138,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1762652154138,"stop":1762652157810,"duration":3672},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1762652154138,"stop":1762652157809,"duration":3671},"status":"passed","steps":[],"attachments":[{"uid":"3886213abe71e312","name":"Cleanup note","source":"3886213abe71e312.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1762652157810,"stop":1762652157810,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1762652157811,"stop":1762652157812,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"3569-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e7f9cd3d6d6eef8d","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Auth page displayed\nMessage: Auth page should be displayed!","time":{"start":1762652001440,"stop":1762652122122,"duration":120682}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":102,"unknown":0,"total":102},"items":[{"uid":"f803ff7d5326cf4d","status":"passed","time":{"start":1762565527155,"stop":1762565543952,"duration":16797}},{"uid":"9fbcf81b330b1b0b","status":"passed","time":{"start":1762479122792,"stop":1762479140257,"duration":17465}},{"uid":"c31b5dc059237a41","status":"passed","time":{"start":1762392731655,"stop":1762392830334,"duration":98679}},{"uid":"782e52cd4db10945","status":"passed","time":{"start":1762306331808,"stop":1762306359691,"duration":27883}},{"uid":"16e6ac39f8063b03","status":"passed","time":{"start":1762219934906,"stop":1762219961728,"duration":26822}},{"uid":"4b1583862d440455","status":"passed","time":{"start":1762133607698,"stop":1762133634147,"duration":26449}},{"uid":"3b1ddb57aa3cfe80","status":"passed","time":{"start":1762047230614,"stop":1762047257198,"duration":26584}},{"uid":"48e644b79f32d146","status":"passed","time":{"start":1761960714611,"stop":1761960730784,"duration":16173}},{"uid":"f0697c382f345917","status":"passed","time":{"start":1761874402981,"stop":1761874507391,"duration":104410}},{"uid":"964e91c511646116","status":"passed","time":{"start":1761788032545,"stop":1761788049502,"duration":16957}},{"uid":"1848c7893893d8a8","status":"passed","time":{"start":1761701534747,"stop":1761701638036,"duration":103289}},{"uid":"f7d13725ca087c39","status":"passed","time":{"start":1761615538680,"stop":1761615555586,"duration":16906}},{"uid":"82d69f62bc44b7d0","status":"passed","time":{"start":1761593096631,"stop":1761593113193,"duration":16562}},{"uid":"c4340b5dc8085340","status":"passed","time":{"start":1761559465112,"stop":1761559515715,"duration":50603}},{"uid":"90a564d3b18fcc36","status":"passed","time":{"start":1759550588617,"stop":1759550597494,"duration":8877}},{"uid":"4d2614dcb18eb073","status":"passed","time":{"start":1759463976166,"stop":1759463983919,"duration":7753}},{"uid":"fe1a3cf1169c67fa","status":"passed","time":{"start":1759380523674,"stop":1759380530811,"duration":7137}},{"uid":"fcd2600d959e0a0b","status":"passed","time":{"start":1759288355062,"stop":1759288365927,"duration":10865}},{"uid":"7d618b20c575095b","status":"passed","time":{"start":1759201888311,"stop":1759201895949,"duration":7638}},{"uid":"6b8d729001872587","status":"passed","time":{"start":1759159595270,"stop":1759159602601,"duration":7331}}]},"tags":["asyncio"]},"source":"cafb118d3b9d419d.json","parameterValues":[]}