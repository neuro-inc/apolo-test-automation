{"uid":"4ae7d82e8ba0dc7e","name":"Admin create folder via CLI","fullName":"tests.test_cases.tests_cli.test_storage.TestCLIStorage#test_admin_create_folder_cli","historyId":"bf4a1238adbe9ff1ea4ad7ae5ae89cba","time":{"start":1758692905061,"stop":1758692932587,"duration":27526},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- User can create folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:72: in test_admin_create_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1758689698866,"stop":1758689698866,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758689698866,"stop":1758689698866,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1758689698866,"stop":1758689698867,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758689698866,"stop":1758689698866,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758689698866,"stop":1758689698866,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1758689698867,"stop":1758689728867,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1758689728867,"stop":1758689728868,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1758692902234,"stop":1758692902238,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1758692902238,"stop":1758692904535,"duration":2297},"status":"passed","steps":[],"attachments":[{"uid":"cd336987eed98fb","name":"HTTP 200 - GET config","source":"cd336987eed98fb.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1758692902238,"stop":1758692902239,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1758692904535,"stop":1758692904536,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1758692904535,"stop":1758692904535,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1758692904536,"stop":1758692904536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1758692904536,"stop":1758692904536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1758692904536,"stop":1758692904537,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1758692904537,"stop":1758692905060,"duration":523},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1758692904537,"stop":1758692905060,"duration":523},"status":"passed","steps":[],"attachments":[{"uid":"f2ce62a1fa3b8f30","name":"Executed CLI command","source":"f2ce62a1fa3b8f30.txt","type":"text/plain","size":15},{"uid":"58e25e187697ca84","name":"Executed CLI command output","source":"58e25e187697ca84.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1758692904537,"stop":1758692904537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1758692904537,"stop":1758692904537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- User can create folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:72: in test_admin_create_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0'","steps":[{"name":"Login via UI","time":{"start":1758692905061,"stop":1758692910041,"duration":4980},"status":"passed","steps":[{"name":"Click login button","time":{"start":1758692905062,"stop":1758692905804,"duration":742},"status":"passed","steps":[],"attachments":[{"uid":"acf563f6a6839ff8","name":"Page URL","source":"acf563f6a6839ff8.txt","type":"text/plain","size":33},{"uid":"4526b5b3b54c555c","name":"Screenshot: Click login button (success)","source":"4526b5b3b54c555c.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758692905804,"stop":1758692906177,"duration":373},"status":"passed","steps":[],"attachments":[{"uid":"1784dda25c9cb8b5","name":"Page URL","source":"1784dda25c9cb8b5.txt","type":"text/plain","size":33},{"uid":"fd62f7799bdb22a4","name":"Screenshot: Enter email (success)","source":"fd62f7799bdb22a4.png","type":"image/png","size":47346}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758692906177,"stop":1758692906327,"duration":150},"status":"passed","steps":[],"attachments":[{"uid":"56bee2142c549607","name":"Page URL","source":"56bee2142c549607.txt","type":"text/plain","size":215},{"uid":"f9d34c5bd89f24e7","name":"Screenshot: Enter password (success)","source":"f9d34c5bd89f24e7.png","type":"image/png","size":47193}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1758692906327,"stop":1758692908841,"duration":2514},"status":"passed","steps":[],"attachments":[{"uid":"9904eb8aef2295ec","name":"Page URL","source":"9904eb8aef2295ec.txt","type":"text/plain","size":215},{"uid":"dbf5f027e1d49c7f","name":"HTTP 200 - GET config","source":"dbf5f027e1d49c7f.txt","type":"text/plain","size":752},{"uid":"9bb53d914cf318b6","name":"HTTP 200 - GET permissions?uri=blob:","source":"9bb53d914cf318b6.txt","type":"text/plain","size":163},{"uid":"fb258e070ae46b47","name":"HTTP 200 - GET regression-78pgmqwk7q?include=clusters&include=system_role","source":"fb258e070ae46b47.txt","type":"text/plain","size":388},{"uid":"11c045efb4fb3668","name":"HTTP 200 - GET incoming","source":"11c045efb4fb3668.txt","type":"text/plain","size":137},{"uid":"c0472f96133207c0","name":"HTTP 200 - GET regression-78pgmqwk7q?include=orgs","source":"c0472f96133207c0.txt","type":"text/plain","size":360},{"uid":"a5467f45c63c7412","name":"Screenshot: Click Continue button (success)","source":"a5467f45c63c7412.png","type":"image/png","size":160337}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1758692908851,"stop":1758692909958,"duration":1107},"status":"passed","steps":[],"attachments":[{"uid":"d34e6562c8e569aa","name":"Page URL","source":"d34e6562c8e569aa.txt","type":"text/plain","size":44},{"uid":"27f4078ce8261ea9","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"27f4078ce8261ea9.png","type":"image/png","size":160337}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1b8b952240b362f9","name":"Page URL","source":"1b8b952240b362f9.txt","type":"text/plain","size":33},{"uid":"23c3a897286941be","name":"Screenshot: Login via UI (success)","source":"23c3a897286941be.png","type":"image/png","size":160337}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1758692910042,"stop":1758692927427,"duration":17385},"status":"passed","steps":[{"name":"Reload page","time":{"start":1758692920040,"stop":1758692927342,"duration":7302},"status":"passed","steps":[],"attachments":[{"uid":"7c7e53a7e288c889","name":"Page URL","source":"7c7e53a7e288c889.txt","type":"text/plain","size":44},{"uid":"61466ea0d9516d54","name":"HTTP 200 - GET config","source":"61466ea0d9516d54.txt","type":"text/plain","size":1118},{"uid":"3dc87f6644d3a1c5","name":"HTTP 200 - GET permissions?uri=blob:","source":"3dc87f6644d3a1c5.txt","type":"text/plain","size":236},{"uid":"f5c0a50159524d52","name":"HTTP 200 - GET incoming","source":"f5c0a50159524d52.txt","type":"text/plain","size":137},{"uid":"111759da992c4f1","name":"HTTP 200 - GET regression-78pgmqwk7q?include=clusters&include=system_role","source":"111759da992c4f1.txt","type":"text/plain","size":510},{"uid":"d9d2121ab9fb2fc9","name":"HTTP 200 - GET regression-org-xgdljqjk0ydt","source":"d9d2121ab9fb2fc9.txt","type":"text/plain","size":425},{"uid":"4beaceacf25d1390","name":"HTTP 200 - GET regression-78pgmqwk7q?include=orgs","source":"4beaceacf25d1390.txt","type":"text/plain","size":455},{"uid":"19f99df808ae3d5","name":"Screenshot: Reload page (success)","source":"19f99df808ae3d5.png","type":"image/png","size":55074}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"55731bea22953027","name":"Page URL","source":"55731bea22953027.txt","type":"text/plain","size":44},{"uid":"6ba0780fa8ce4813","name":"Screenshot: Add organization via API and reload page (success)","source":"6ba0780fa8ce4813.png","type":"image/png","size":55074}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1758692927427,"stop":1758692928238,"duration":811},"status":"passed","steps":[],"attachments":[{"uid":"f30ef1b4eef60f8","name":"Executed CLI command","source":"f30ef1b4eef60f8.txt","type":"text/plain","size":1114},{"uid":"de0c9995b37db38a","name":"Executed CLI command output","source":"de0c9995b37db38a.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1758692928238,"stop":1758692931797,"duration":3559},"status":"passed","steps":[],"attachments":[{"uid":"9b61136b2420f22b","name":"Executed CLI command","source":"9b61136b2420f22b.txt","type":"text/plain","size":114},{"uid":"6030060a57fc78a9","name":"Executed CLI command output","source":"6030060a57fc78a9.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create folder via CLI","time":{"start":1758692931797,"stop":1758692932586,"duration":789},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-xgdljqjk0ydt/regression-proj-bkjzkpxjj0'\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"94cab4d9fe5092c7","name":"Executed CLI command","source":"94cab4d9fe5092c7.txt","type":"text/plain","size":37},{"uid":"164c1624c7b3082d","name":"Executed CLI command output","source":"164c1624c7b3082d.txt","type":"text/plain","size":218}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d946409178f6f5a7","name":"log","source":"d946409178f6f5a7.txt","type":"text/plain","size":35564}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1758692932603,"stop":1758692932603,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758692932603,"stop":1758692937420,"duration":4817},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1758692932603,"stop":1758692937420,"duration":4817},"status":"passed","steps":[{"name":"Delete organisation: regression-org-xgdljqjk0ydt","time":{"start":1758692936996,"stop":1758692937377,"duration":381},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1758692932603,"stop":1758692932603,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1758692937421,"stop":1758692937421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1758692937422,"stop":1758692937423,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Storage"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIStorage"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3636-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_storage"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"4ae7d82e8ba0dc7e.json","parameterValues":[]}