{"uid":"727f4ac5242ec398","name":"Admin change member role from Reader to Writer in project via CLI","fullName":"tests.test_cases.tests_cli.test_project_change_member_roles.TestCLIProjectStructureSetup#test_admin_change_reader_to_writer_cli","historyId":"238ad4c581585e2dce3cc4b5a0bc6b18","time":{"start":1757986375116,"stop":1757986375133,"duration":17},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:68: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757986281310,"stop":1757986281310,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1757986281311,"stop":1757986311312,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1757986311312,"stop":1757986311316,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1757986311312,"stop":1757986311312,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757986311316,"stop":1757986311317,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757986311316,"stop":1757986314258,"duration":2942},"status":"passed","steps":[],"attachments":[{"uid":"9d0bc23ae674995b","name":"HTTP 200 - GET config","source":"9d0bc23ae674995b.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper","time":{"start":1757986314259,"stop":1757986314260,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1757986314259,"stop":1757986314259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1757986314259,"stop":1757986314259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757986314260,"stop":1757986373779,"duration":59519},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1757986317174,"stop":1757986348871,"duration":31697},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1757986317174,"stop":1757986318391,"duration":1217},"status":"passed","steps":[],"attachments":[{"uid":"9ea052b1908f5b1b","name":"Page URL","source":"9ea052b1908f5b1b.txt","type":"text/plain","size":33},{"uid":"4ba33646915e5437","name":"Screenshot: Click signup button (success)","source":"4ba33646915e5437.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757986318392,"stop":1757986318560,"duration":168},"status":"passed","steps":[],"attachments":[{"uid":"d93811c57520a05b","name":"Page URL","source":"d93811c57520a05b.txt","type":"text/plain","size":216},{"uid":"c003c65351c2e830","name":"Screenshot: Enter email (success)","source":"c003c65351c2e830.png","type":"image/png","size":44737}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757986318560,"stop":1757986318727,"duration":167},"status":"passed","steps":[],"attachments":[{"uid":"fc1c487167897741","name":"Page URL","source":"fc1c487167897741.txt","type":"text/plain","size":216},{"uid":"e512285745d3bec5","name":"Screenshot: Enter password (success)","source":"e512285745d3bec5.png","type":"image/png","size":55190}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1757986318727,"stop":1757986321390,"duration":2663},"status":"passed","steps":[],"attachments":[{"uid":"f09d65022b10a4dc","name":"Page URL","source":"f09d65022b10a4dc.txt","type":"text/plain","size":216},{"uid":"5a866538dd342541","name":"Screenshot: Click continue button (success)","source":"5a866538dd342541.png","type":"image/png","size":11162}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1757986321390,"stop":1757986321841,"duration":451},"status":"passed","steps":[],"attachments":[{"uid":"351da02410c508a0","name":"Page URL","source":"351da02410c508a0.txt","type":"text/plain","size":192},{"uid":"7f314d36ddeb87f0","name":"HTTP 200 - GET config","source":"7f314d36ddeb87f0.txt","type":"text/plain","size":654},{"uid":"526ac1e942f2b820","name":"Screenshot: Verify that Verify email message displayed (success)","source":"526ac1e942f2b820.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1757986321841,"stop":1757986323839,"duration":1998},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1757986322556,"stop":1757986323604,"duration":1048},"status":"passed","steps":[],"attachments":[{"uid":"46798b726bea44d6","name":"Page URL","source":"46798b726bea44d6.txt","type":"text/plain","size":182},{"uid":"ce0fb46b51d4e831","name":"Screenshot: Navigate to URL (success)","source":"ce0fb46b51d4e831.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1757986323840,"stop":1757986326012,"duration":2172},"status":"passed","steps":[],"attachments":[{"uid":"37942994922e0cc9","name":"Page URL","source":"37942994922e0cc9.txt","type":"text/plain","size":87},{"uid":"559b6287a76bf356","name":"HTTP 200 - GET config","source":"559b6287a76bf356.txt","type":"text/plain","size":654},{"uid":"d5d4b4242f3afcfc","name":"Screenshot: Navigate to URL (success)","source":"d5d4b4242f3afcfc.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1757986326013,"stop":1757986326099,"duration":86},"status":"passed","steps":[],"attachments":[{"uid":"be278cae517c5fe0","name":"Page URL","source":"be278cae517c5fe0.txt","type":"text/plain","size":33},{"uid":"4c02ec0f3a09072b","name":"Screenshot: Verify that Auth page displayed (success)","source":"4c02ec0f3a09072b.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1757986326100,"stop":1757986327206,"duration":1106},"status":"passed","steps":[],"attachments":[{"uid":"45d10f2183621a15","name":"Page URL","source":"45d10f2183621a15.txt","type":"text/plain","size":33},{"uid":"626af8eceb83c10e","name":"Screenshot: Click login button (success)","source":"626af8eceb83c10e.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1757986327206,"stop":1757986328369,"duration":1163},"status":"passed","steps":[],"attachments":[{"uid":"b3b09616fd9e3d88","name":"Page URL","source":"b3b09616fd9e3d88.txt","type":"text/plain","size":33},{"uid":"3ccfd082727828f5","name":"Screenshot: Verify that Signup username page displayed (success)","source":"3ccfd082727828f5.png","type":"image/png","size":37524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1757986328370,"stop":1757986329472,"duration":1102},"status":"passed","steps":[],"attachments":[{"uid":"2d92a75a1def7b5d","name":"Page URL","source":"2d92a75a1def7b5d.txt","type":"text/plain","size":362},{"uid":"cff1b8e32b2703b4","name":"HTTP 404 - HEAD ","source":"cff1b8e32b2703b4.txt","type":"text/plain","size":139},{"uid":"c0794139683b6899","name":"HTTP 404 - HEAD regression-ga34v9xtfi","source":"c0794139683b6899.txt","type":"text/plain","size":160},{"uid":"22728ebdbfead68d","name":"HTTP 500 - HEAD regression-ga34v9xtfi","source":"22728ebdbfead68d.txt","type":"text/plain","size":160},{"uid":"5a8b1690d626b4eb","name":"Screenshot: Enter username (success)","source":"5a8b1690d626b4eb.png","type":"image/png","size":37868}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1757986329472,"stop":1757986338612,"duration":9140},"status":"passed","steps":[],"attachments":[{"uid":"3cc4e1a2222f7053","name":"Page URL","source":"3cc4e1a2222f7053.txt","type":"text/plain","size":362},{"uid":"ef1bd0a3eab781ff","name":"HTTP 200 - GET config","source":"ef1bd0a3eab781ff.txt","type":"text/plain","size":654},{"uid":"4baac99558c72986","name":"Screenshot: Click signup button on Signup username page (success)","source":"4baac99558c72986.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1757986338612,"stop":1757986348787,"duration":10175},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"5243de3a0ff6a2d1","name":"Page URL","source":"5243de3a0ff6a2d1.txt","type":"text/plain","size":222},{"uid":"280d514f4abba941","name":"Screenshot: Verify that User agreement pop up displayed (fail)","source":"280d514f4abba941.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1347ca7d2d8597a","name":"Page URL","source":"1347ca7d2d8597a.txt","type":"text/plain","size":33},{"uid":"f34bd849d362dd41","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"f34bd849d362dd41.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1757986351686,"stop":1757986373779,"duration":22093},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1757986351687,"stop":1757986352872,"duration":1185},"status":"passed","steps":[],"attachments":[{"uid":"4f0b9f8060d951f0","name":"Page URL","source":"4f0b9f8060d951f0.txt","type":"text/plain","size":33},{"uid":"ca995bba273130d6","name":"Screenshot: Click signup button (success)","source":"ca995bba273130d6.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757986352872,"stop":1757986353040,"duration":168},"status":"passed","steps":[],"attachments":[{"uid":"9abfacba4d94f228","name":"Page URL","source":"9abfacba4d94f228.txt","type":"text/plain","size":216},{"uid":"54779ecc49aba6ff","name":"Screenshot: Enter email (success)","source":"54779ecc49aba6ff.png","type":"image/png","size":44503}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757986353040,"stop":1757986353209,"duration":169},"status":"passed","steps":[],"attachments":[{"uid":"2e45a38bbf06bd90","name":"Page URL","source":"2e45a38bbf06bd90.txt","type":"text/plain","size":216},{"uid":"2af4cb24343303af","name":"Screenshot: Enter password (success)","source":"2af4cb24343303af.png","type":"image/png","size":54986}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1757986353209,"stop":1757986355507,"duration":2298},"status":"passed","steps":[],"attachments":[{"uid":"4994cd228a1c3227","name":"Page URL","source":"4994cd228a1c3227.txt","type":"text/plain","size":216},{"uid":"2e9ebfe0e675df7b","name":"Screenshot: Click continue button (success)","source":"2e9ebfe0e675df7b.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1757986355507,"stop":1757986355952,"duration":445},"status":"passed","steps":[],"attachments":[{"uid":"ef6994fa824680ec","name":"Page URL","source":"ef6994fa824680ec.txt","type":"text/plain","size":192},{"uid":"5cf7e101f471d32a","name":"HTTP 200 - GET config","source":"5cf7e101f471d32a.txt","type":"text/plain","size":654},{"uid":"d4262a4e7c067b52","name":"Screenshot: Verify that Verify email message displayed (success)","source":"d4262a4e7c067b52.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1757986355952,"stop":1757986358005,"duration":2053},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1757986356352,"stop":1757986357405,"duration":1053},"status":"passed","steps":[],"attachments":[{"uid":"2ba9a80edf0f4495","name":"Page URL","source":"2ba9a80edf0f4495.txt","type":"text/plain","size":182},{"uid":"3cfee3685ecb8143","name":"Screenshot: Navigate to URL (success)","source":"3cfee3685ecb8143.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1757986358005,"stop":1757986359749,"duration":1744},"status":"passed","steps":[],"attachments":[{"uid":"716c01b4a4ea8bc3","name":"Page URL","source":"716c01b4a4ea8bc3.txt","type":"text/plain","size":87},{"uid":"1d2e4478f42ba87b","name":"HTTP 200 - GET config","source":"1d2e4478f42ba87b.txt","type":"text/plain","size":654},{"uid":"9cac96e3a33ef290","name":"Screenshot: Navigate to URL (success)","source":"9cac96e3a33ef290.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1757986359749,"stop":1757986359860,"duration":111},"status":"passed","steps":[],"attachments":[{"uid":"aee656974f6ec089","name":"Page URL","source":"aee656974f6ec089.txt","type":"text/plain","size":33},{"uid":"36019343c59bd3da","name":"Screenshot: Verify that Auth page displayed (success)","source":"36019343c59bd3da.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1757986359860,"stop":1757986361036,"duration":1176},"status":"passed","steps":[],"attachments":[{"uid":"80daefc9290b0e00","name":"Page URL","source":"80daefc9290b0e00.txt","type":"text/plain","size":33},{"uid":"79de2ede2d7f839","name":"Screenshot: Click login button (success)","source":"79de2ede2d7f839.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1757986361036,"stop":1757986362160,"duration":1124},"status":"passed","steps":[],"attachments":[{"uid":"96e6bb0dc137fc95","name":"Page URL","source":"96e6bb0dc137fc95.txt","type":"text/plain","size":33},{"uid":"b41d51463dee4c67","name":"HTTP 404 - HEAD regression-ceadr7jsak","source":"b41d51463dee4c67.txt","type":"text/plain","size":160},{"uid":"6be1d3068f950d27","name":"Screenshot: Verify that Signup username page displayed (success)","source":"6be1d3068f950d27.png","type":"image/png","size":37408}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1757986362160,"stop":1757986362821,"duration":661},"status":"passed","steps":[],"attachments":[{"uid":"348e7f63ad544fa9","name":"Page URL","source":"348e7f63ad544fa9.txt","type":"text/plain","size":362},{"uid":"c44a6c973110e28b","name":"HTTP 404 - HEAD ","source":"c44a6c973110e28b.txt","type":"text/plain","size":139},{"uid":"be781b5773ffa2c9","name":"HTTP 404 - HEAD regression-ceadr7jsak","source":"be781b5773ffa2c9.txt","type":"text/plain","size":160},{"uid":"39625f9844a5db9","name":"Screenshot: Enter username (success)","source":"39625f9844a5db9.png","type":"image/png","size":37722}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1757986362822,"stop":1757986367030,"duration":4208},"status":"passed","steps":[],"attachments":[{"uid":"3571370a5f005ea8","name":"Page URL","source":"3571370a5f005ea8.txt","type":"text/plain","size":362},{"uid":"872d3041ad5be8b3","name":"HTTP 200 - GET config","source":"872d3041ad5be8b3.txt","type":"text/plain","size":131},{"uid":"105be774638808fd","name":"HTTP 200 - GET config","source":"105be774638808fd.txt","type":"text/plain","size":752},{"uid":"e248de74e00ff3b","name":"HTTP 200 - GET permissions?uri=blob:","source":"e248de74e00ff3b.txt","type":"text/plain","size":163},{"uid":"658cd0f6281b6b7","name":"HTTP 200 - GET incoming","source":"658cd0f6281b6b7.txt","type":"text/plain","size":137},{"uid":"4afd33e82d80955f","name":"HTTP 200 - GET regression-ceadr7jsak?include=orgs","source":"4afd33e82d80955f.txt","type":"text/plain","size":361},{"uid":"78911fb2be6bd0d","name":"HTTP 200 - GET regression-ceadr7jsak?include=clusters&include=system_role","source":"78911fb2be6bd0d.txt","type":"text/plain","size":389},{"uid":"3ba4a333c1157041","name":"Screenshot: Click signup button on Signup username page (success)","source":"3ba4a333c1157041.png","type":"image/png","size":40536}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1757986367031,"stop":1757986367124,"duration":93},"status":"passed","steps":[],"attachments":[{"uid":"4b043ea8a4d1da42","name":"Page URL","source":"4b043ea8a4d1da42.txt","type":"text/plain","size":29},{"uid":"37168dbca528ce77","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"37168dbca528ce77.png","type":"image/png","size":40536}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1757986367124,"stop":1757986367828,"duration":704},"status":"passed","steps":[],"attachments":[{"uid":"38fc401eda0544a4","name":"Page URL","source":"38fc401eda0544a4.txt","type":"text/plain","size":29},{"uid":"7f86a90f6e293ca9","name":"Screenshot: Check agreement checkbox (success)","source":"7f86a90f6e293ca9.png","type":"image/png","size":40636}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1757986367828,"stop":1757986368534,"duration":706},"status":"passed","steps":[],"attachments":[{"uid":"4c011157ff7bf233","name":"Page URL","source":"4c011157ff7bf233.txt","type":"text/plain","size":29},{"uid":"e96b41f5806bfd26","name":"Screenshot: Click I Agree button (success)","source":"e96b41f5806bfd26.png","type":"image/png","size":41255}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1757986368534,"stop":1757986369438,"duration":904},"status":"passed","steps":[],"attachments":[{"uid":"dfe90b9a36110a8b","name":"Page URL","source":"dfe90b9a36110a8b.txt","type":"text/plain","size":29},{"uid":"98dc640f1545db77","name":"HTTP 204 - PUT profile","source":"98dc640f1545db77.txt","type":"text/plain","size":154},{"uid":"987fb80c17cc39cc","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"987fb80c17cc39cc.png","type":"image/png","size":159132}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1757986369438,"stop":1757986372538,"duration":3100},"status":"passed","steps":[],"attachments":[{"uid":"b1420808289f91ae","name":"Page URL","source":"b1420808289f91ae.txt","type":"text/plain","size":44},{"uid":"a4492de52e4e0fec","name":"Screenshot: Wait for timeout (success)","source":"a4492de52e4e0fec.png","type":"image/png","size":159132}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757986372538,"stop":1757986373667,"duration":1129},"status":"passed","steps":[],"attachments":[{"uid":"9c3ee7346d738461","name":"Page URL","source":"9c3ee7346d738461.txt","type":"text/plain","size":44},{"uid":"328482eae47ec3d9","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"328482eae47ec3d9.png","type":"image/png","size":159132}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c9abb2a90add8b76","name":"Page URL","source":"c9abb2a90add8b76.txt","type":"text/plain","size":33},{"uid":"91f140eae7965e52","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"91f140eae7965e52.png","type":"image/png","size":159132}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":50,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c95c7c3b0eeede85","name":"HTTP 200 - GET config","source":"c95c7c3b0eeede85.txt","type":"text/plain","size":654},{"uid":"4d761c73b4d7652f","name":"HTTP 200 - GET config","source":"4d761c73b4d7652f.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":35,"attachmentsCount":86,"hasContent":true,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757986314260,"stop":1757986314260,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1757986373779,"stop":1757986373779,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1757986373780,"stop":1757986375115,"duration":1335},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1757986373780,"stop":1757986375115,"duration":1335},"status":"passed","steps":[],"attachments":[{"uid":"883176e0c4fd1553","name":"Executed CLI command","source":"883176e0c4fd1553.txt","type":"text/plain","size":15},{"uid":"92313b2e2e2ee137","name":"Executed CLI command output","source":"92313b2e2e2ee137.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1757986373780,"stop":1757986373780,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:68: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1757986375117,"stop":1757986375131,"duration":14},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click login button","time":{"start":1757986375117,"stop":1757986375126,"duration":9},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"af50fb125340db11","name":"Page URL","source":"af50fb125340db11.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7b74736ea17e4baa","name":"Page URL","source":"7b74736ea17e4baa.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"547970584ad6ce8b","name":"log","source":"547970584ad6ce8b.txt","type":"text/plain","size":33801}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1757986375351,"stop":1757986375352,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757986375352,"stop":1757986375352,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757986375352,"stop":1757986379247,"duration":3895},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757986375352,"stop":1757986379247,"duration":3895},"status":"passed","steps":[],"attachments":[{"uid":"8372aa92ab6a0a92","name":"Cleanup note","source":"8372aa92ab6a0a92.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757986379250,"stop":1757986379251,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757986379252,"stop":1757986379253,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Project Remove Members"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3797-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"727f4ac5242ec398.json","parameterValues":[]}