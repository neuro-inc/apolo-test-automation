{"uid":"90c0b367fbc35dbb","name":"Verify Manager cannot change Admin role to User","fullName":"tests.test_cases.tests_ui.test_organization_change_member_roles.TestUIOrganizationChangeMemberRoles#test_manager_change_admin_to_user","historyId":"6d034fdc256b90503d229bbd08806438","time":{"start":1765162186179,"stop":1765162566825,"duration":380646},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `Manager` role via **API**.\n- Signup `third user`.\n- Invite `third user` to organization with `Admin` role via **API**.\n\n### Verify that:\n\n- `Manager` **cannot** change user role from `Admin` to `User`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> role via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> <strong>cannot</strong> change user role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add user to organization via API and reload page\nMessage: [TimeoutError] during step: Click User Organization settings button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\n    - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/main_page_steps.py:49: in ui_click_organization_settings_button\n    await self._pm.main_page.click_organization_settings_button(email)\ntests/components/ui/pages/main_page.py:137: in click_organization_settings_button\n    await self._get_organization_settings_button(email).click()\ntests/components/ui/pages/base_element.py:90: in click\n    raise TimeoutError(\nE   TimeoutError: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nE   Last error: Locator.wait_for: Timeout 500ms exceeded.\nE   Call log:\nE     - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\nE       - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:358: in ui_add_user_to_org_api\n    await self.main_page.ui_click_organization_settings_button(user.email)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TimeoutError] during step: Click User Organization settings button\nE   Message: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nE   Last error: Locator.wait_for: Timeout 500ms exceeded.\nE   Call log:\nE     - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\nE       - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_organization_change_member_roles.py:966: in test_manager_change_admin_to_user\n    await steps.ui_add_user_to_org_api(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add user to organization via API and reload page\nE   Message: [TimeoutError] during step: Click User Organization settings button\nE   Message: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nE   Last error: Locator.wait_for: Timeout 500ms exceeded.\nE   Call log:\nE     - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\nE       - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...","flaky":true,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1765162185374,"stop":1765162185377,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1765162185378,"stop":1765162186176,"duration":798},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1765162185378,"stop":1765162185378,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1765162186176,"stop":1765162186176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1765162186176,"stop":1765162186177,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1765162186176,"stop":1765162186176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1765162186177,"stop":1765162186177,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1765162186177,"stop":1765162186178,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1765162186178,"stop":1765162186178,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1765162186178,"stop":1765162186178,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1765162186178,"stop":1765162186178,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `Manager` role via **API**.\n- Signup `third user`.\n- Invite `third user` to organization with `Admin` role via **API**.\n\n### Verify that:\n\n- `Manager` **cannot** change user role from `Admin` to `User`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> role via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> <strong>cannot</strong> change user role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add user to organization via API and reload page\nMessage: [TimeoutError] during step: Click User Organization settings button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\n    - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/main_page_steps.py:49: in ui_click_organization_settings_button\n    await self._pm.main_page.click_organization_settings_button(email)\ntests/components/ui/pages/main_page.py:137: in click_organization_settings_button\n    await self._get_organization_settings_button(email).click()\ntests/components/ui/pages/base_element.py:90: in click\n    raise TimeoutError(\nE   TimeoutError: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nE   Last error: Locator.wait_for: Timeout 500ms exceeded.\nE   Call log:\nE     - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\nE       - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:358: in ui_add_user_to_org_api\n    await self.main_page.ui_click_organization_settings_button(user.email)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TimeoutError] during step: Click User Organization settings button\nE   Message: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nE   Last error: Locator.wait_for: Timeout 500ms exceeded.\nE   Call log:\nE     - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\nE       - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_organization_change_member_roles.py:966: in test_manager_change_admin_to_user\n    await steps.ui_add_user_to_org_api(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add user to organization via API and reload page\nE   Message: [TimeoutError] during step: Click User Organization settings button\nE   Message: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nE   Last error: Locator.wait_for: Timeout 500ms exceeded.\nE   Call log:\nE     - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\nE       - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...","steps":[{"name":"Login via UI","time":{"start":1765162186179,"stop":1765162192577,"duration":6398},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1765162186180,"stop":1765162187264,"duration":1084},"status":"passed","steps":[],"attachments":[{"uid":"ac91c1fd37f800a0","name":"Page URL","source":"ac91c1fd37f800a0.txt","type":"text/plain","size":29},{"uid":"59713755975c3035","name":"HTTP 200 - GET config","source":"59713755975c3035.txt","type":"text/plain","size":673},{"uid":"a6ead7881f9d2f45","name":"Screenshot: Verify that Auth page displayed (success)","source":"a6ead7881f9d2f45.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1765162187265,"stop":1765162188276,"duration":1011},"status":"passed","steps":[],"attachments":[{"uid":"66fc95874a4d718f","name":"Page URL","source":"66fc95874a4d718f.txt","type":"text/plain","size":33},{"uid":"f76a80b9385bcb57","name":"Screenshot: Click login button (success)","source":"f76a80b9385bcb57.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1765162188276,"stop":1765162188374,"duration":98},"status":"passed","steps":[],"attachments":[{"uid":"2c8b315784259d4b","name":"Page URL","source":"2c8b315784259d4b.txt","type":"text/plain","size":215},{"uid":"acde976a883b9e03","name":"Screenshot: Verify that Login page displayed (success)","source":"acde976a883b9e03.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1765162188374,"stop":1765162188694,"duration":320},"status":"passed","steps":[],"attachments":[{"uid":"2df3f3f5583e180","name":"Page URL","source":"2df3f3f5583e180.txt","type":"text/plain","size":215},{"uid":"e8a41f94c86c1963","name":"Screenshot: Enter email (success)","source":"e8a41f94c86c1963.png","type":"image/png","size":46487}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1765162188694,"stop":1765162189011,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"669b0677bdd0703","name":"Page URL","source":"669b0677bdd0703.txt","type":"text/plain","size":215},{"uid":"8901632320bdc9a","name":"Screenshot: Enter password (success)","source":"8901632320bdc9a.png","type":"image/png","size":46613}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1765162189011,"stop":1765162191392,"duration":2381},"status":"passed","steps":[],"attachments":[{"uid":"41de24058c61239d","name":"Page URL","source":"41de24058c61239d.txt","type":"text/plain","size":215},{"uid":"55083e59aae697a3","name":"HTTP 200 - GET config","source":"55083e59aae697a3.txt","type":"text/plain","size":771},{"uid":"34d3ee8f4293ae2b","name":"HTTP 200 - GET permissions?uri=blob:","source":"34d3ee8f4293ae2b.txt","type":"text/plain","size":182},{"uid":"785c7ca3a7a41969","name":"HTTP 200 - GET regression-0lc73j2w2q?include=clusters&include=system_role","source":"785c7ca3a7a41969.txt","type":"text/plain","size":407},{"uid":"c2dc638b0aacf252","name":"HTTP 200 - GET incoming","source":"c2dc638b0aacf252.txt","type":"text/plain","size":156},{"uid":"324df1eae7b24c9","name":"HTTP 200 - GET regression-0lc73j2w2q?include=orgs","source":"324df1eae7b24c9.txt","type":"text/plain","size":379},{"uid":"e075c12653bc2a96","name":"Screenshot: Click Continue button (success)","source":"e075c12653bc2a96.png","type":"image/png","size":161257}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1765162191399,"stop":1765162192492,"duration":1093},"status":"passed","steps":[],"attachments":[{"uid":"4d7a7446320a309a","name":"Page URL","source":"4d7a7446320a309a.txt","type":"text/plain","size":44},{"uid":"8ef117dba921f5e7","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"8ef117dba921f5e7.png","type":"image/png","size":161257}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"87a57420d7aefaa2","name":"Page URL","source":"87a57420d7aefaa2.txt","type":"text/plain","size":29},{"uid":"87af4a7602011b02","name":"Screenshot: Login via UI (success)","source":"87af4a7602011b02.png","type":"image/png","size":161257}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Get second user","time":{"start":1765162223514,"stop":1765162253516,"duration":30002},"status":"passed","steps":[],"attachments":[{"uid":"957617909355f820","name":"Page URL","source":"957617909355f820.txt","type":"text/plain","size":11},{"uid":"3a4f03023d0dfd7d","name":"HTTP 200 - GET config","source":"3a4f03023d0dfd7d.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Login via UI","time":{"start":1765162253516,"stop":1765162342836,"duration":89320},"status":"passed","steps":[{"name":"<<User2>> :: Verify that Auth page displayed","time":{"start":1765162253517,"stop":1765162327201,"duration":73684},"status":"passed","steps":[],"attachments":[{"uid":"c8b3ada3acc032e2","name":"Page URL","source":"c8b3ada3acc032e2.txt","type":"text/plain","size":11},{"uid":"faafe9240bdd0969","name":"HTTP 200 - GET config","source":"faafe9240bdd0969.txt","type":"text/plain","size":673},{"uid":"3d91814bd5868703","name":"Screenshot: <<User2>> :: Verify that Auth page displayed (success)","source":"3d91814bd5868703.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click login button","time":{"start":1765162327201,"stop":1765162328287,"duration":1086},"status":"passed","steps":[],"attachments":[{"uid":"ab211d60ce5627e2","name":"Page URL","source":"ab211d60ce5627e2.txt","type":"text/plain","size":33},{"uid":"e086953ac4feb6ab","name":"Screenshot: <<User2>> :: Click login button (success)","source":"e086953ac4feb6ab.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Login page displayed","time":{"start":1765162328287,"stop":1765162328385,"duration":98},"status":"passed","steps":[],"attachments":[{"uid":"6b2e26f98824b669","name":"Page URL","source":"6b2e26f98824b669.txt","type":"text/plain","size":215},{"uid":"ef193d68823df6c","name":"Screenshot: <<User2>> :: Verify that Login page displayed (success)","source":"ef193d68823df6c.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter email","time":{"start":1765162328385,"stop":1765162328704,"duration":319},"status":"passed","steps":[],"attachments":[{"uid":"9758430ecc0ccb08","name":"Page URL","source":"9758430ecc0ccb08.txt","type":"text/plain","size":215},{"uid":"84ec6ed53dac6af6","name":"Screenshot: <<User2>> :: Enter email (success)","source":"84ec6ed53dac6af6.png","type":"image/png","size":46542}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter password","time":{"start":1765162328704,"stop":1765162329021,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"a6afc23081a63eaa","name":"Page URL","source":"a6afc23081a63eaa.txt","type":"text/plain","size":215},{"uid":"4dc6685aab2f7308","name":"Screenshot: <<User2>> :: Enter password (success)","source":"4dc6685aab2f7308.png","type":"image/png","size":46682}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click Continue button","time":{"start":1765162329021,"stop":1765162341660,"duration":12639},"status":"passed","steps":[],"attachments":[{"uid":"d29679c144fc5993","name":"Page URL","source":"d29679c144fc5993.txt","type":"text/plain","size":215},{"uid":"e493eb509b54f74c","name":"HTTP 200 - GET config","source":"e493eb509b54f74c.txt","type":"text/plain","size":771},{"uid":"fb74feb6cf72b49e","name":"HTTP 200 - GET permissions?uri=blob:","source":"fb74feb6cf72b49e.txt","type":"text/plain","size":182},{"uid":"88d09e1a3f84bd14","name":"HTTP 200 - GET regression-iob48byhe6?include=clusters&include=system_role","source":"88d09e1a3f84bd14.txt","type":"text/plain","size":407},{"uid":"47069f1befb15ec4","name":"HTTP 200 - GET incoming","source":"47069f1befb15ec4.txt","type":"text/plain","size":156},{"uid":"e3c4b1f52a18b5f2","name":"HTTP 200 - GET regression-iob48byhe6?include=orgs","source":"e3c4b1f52a18b5f2.txt","type":"text/plain","size":379},{"uid":"ac0c840acf748793","name":"Screenshot: <<User2>> :: Click Continue button (success)","source":"ac0c840acf748793.png","type":"image/png","size":160479}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Welcome new user page displayed","time":{"start":1765162341667,"stop":1765162342755,"duration":1088},"status":"passed","steps":[],"attachments":[{"uid":"66bb75ea3ea55ce4","name":"Page URL","source":"66bb75ea3ea55ce4.txt","type":"text/plain","size":44},{"uid":"9f7a99909da5855d","name":"Screenshot: <<User2>> :: Verify that Welcome new user page displayed (success)","source":"9f7a99909da5855d.png","type":"image/png","size":160479}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"53a41f17f01e70d7","name":"Page URL","source":"53a41f17f01e70d7.txt","type":"text/plain","size":11},{"uid":"829cd3c5ff84688c","name":"Screenshot: <<User2>> :: Login via UI (success)","source":"829cd3c5ff84688c.png","type":"image/png","size":160479}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1765162342836,"stop":1765162425989,"duration":83153},"status":"passed","steps":[{"name":"Reload page","time":{"start":1765162362781,"stop":1765162425942,"duration":63161},"status":"passed","steps":[{"name":"Reload page","time":{"start":1765162362781,"stop":1765162422787,"duration":60006},"status":"passed","steps":[],"attachments":[{"uid":"2d6b6b3778e46f0a","name":"Page URL","source":"2d6b6b3778e46f0a.txt","type":"text/plain","size":44}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"4f2f46699c7ed491","name":"Page URL","source":"4f2f46699c7ed491.txt","type":"text/plain","size":44},{"uid":"c808d4c7103ff982","name":"Screenshot: Reload page (success)","source":"c808d4c7103ff982.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"190a64850c490a0","name":"Page URL","source":"190a64850c490a0.txt","type":"text/plain","size":44},{"uid":"7e46fc2f134de9c6","name":"Screenshot: Add organization via API and reload page (success)","source":"7e46fc2f134de9c6.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click the let's do it button on Welcome page","time":{"start":1765162425990,"stop":1765162427121,"duration":1131},"status":"passed","steps":[],"attachments":[{"uid":"46bec4e83ea5d7d0","name":"Page URL","source":"46bec4e83ea5d7d0.txt","type":"text/plain","size":44},{"uid":"1307a1b51d03c3a","name":"Screenshot: <<User2>> :: Click the let's do it button on Welcome page (success)","source":"1307a1b51d03c3a.png","type":"image/png","size":161287}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add user to organization via API and reload page","time":{"start":1765162427121,"stop":1765162566824,"duration":139703},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add user to organization via API and reload page\nMessage: [TimeoutError] during step: Click User Organization settings button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\n    - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Reload page","time":{"start":1765162427978,"stop":1765162517987,"duration":90009},"status":"passed","steps":[{"name":"Reload page","time":{"start":1765162427978,"stop":1765162487984,"duration":60006},"status":"passed","steps":[],"attachments":[{"uid":"3a8ea0905ab0884f","name":"Page URL","source":"3a8ea0905ab0884f.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"9848ca186788923e","name":"Page URL","source":"9848ca186788923e.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click User Organization settings button","time":{"start":1765162517987,"stop":1765162566757,"duration":48770},"status":"failed","statusMessage":"AssertionError: [TimeoutError] during step: Click User Organization settings button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='chrome-error://chromewebdata/'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\n    - waiting for\" https://console.dev.apolo.us/user-onboarding\" navigation to finish...\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"70c09c52c95657ff","name":"Page URL","source":"70c09c52c95657ff.txt","type":"text/plain","size":29},{"uid":"8450ba049c4d31b","name":"Screenshot: Click User Organization settings button (fail)","source":"8450ba049c4d31b.png","type":"image/png","size":11162}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"98e8607b4a7efddc","name":"Page URL","source":"98e8607b4a7efddc.txt","type":"text/plain","size":29},{"uid":"96a25806a9e533c","name":"Screenshot: Add user to organization via API and reload page (fail)","source":"96a25806a9e533c.png","type":"image/png","size":13467}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":6,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ae7a7a2294ef8d45","name":"log","source":"ae7a7a2294ef8d45.txt","type":"text/plain","size":88803}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":25,"attachmentsCount":60,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1765162566868,"stop":1765162566868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1765162566868,"stop":1765162566868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1765162566868,"stop":1765162576431,"duration":9563},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1765162566868,"stop":1765162576431,"duration":9563},"status":"passed","steps":[{"name":"Delete organisation: regression-org-dkesbbmodiu7","time":{"start":1765162572157,"stop":1765162576324,"duration":4167},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"d546a1297206c96c","name":"HTTP 200 - GET config","source":"d546a1297206c96c.txt","type":"text/plain","size":2137},{"uid":"129aa833c61add4c","name":"HTTP 200 - GET permissions?uri=blob:","source":"129aa833c61add4c.txt","type":"text/plain","size":255},{"uid":"f95f5e5ff4737685","name":"HTTP 200 - GET incoming","source":"f95f5e5ff4737685.txt","type":"text/plain","size":156},{"uid":"ca60df1319e08584","name":"HTTP 200 - GET regression-0lc73j2w2q?include=orgs","source":"ca60df1319e08584.txt","type":"text/plain","size":474},{"uid":"cfe2ca93039866aa","name":"HTTP 200 - GET regression-org-dkesbbmodiu7","source":"cfe2ca93039866aa.txt","type":"text/plain","size":444},{"uid":"3dd7b56e5ac3c29","name":"HTTP 200 - GET regression-0lc73j2w2q?include=clusters&include=system_role","source":"3dd7b56e5ac3c29.txt","type":"text/plain","size":529},{"uid":"a77af0758da2f1b7","name":"HTTP 200 - GET tags","source":"a77af0758da2f1b7.txt","type":"text/plain","size":948}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":7,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1765162576431,"stop":1765162576432,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1765162576433,"stop":1765162576434,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"UI Organization Change Member Roles"},{"name":"parentSuite","value":"UI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUIOrganizationChangeMemberRoles"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"3142-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_organization_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4eaae558ce005b1c","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add user to organization via API and reload page\nMessage: [TimeoutError] during step: Click User Organization settings button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/org-settings?org=regression-org-x722nragchkk'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-0lc73j2w2q@apolo.us\"i'>\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-0lc73j2w2q@apolo.us\")\n    - waiting for\" https://console.dev.apolo.us/org-settings?org=regression-org-x722nragchkk\" navigation to finish...","time":{"start":1765161946177,"stop":1765162170995,"duration":224818}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":16,"broken":0,"skipped":0,"passed":115,"unknown":0,"total":131},"items":[{"uid":"7c5488a3347e91c6","status":"failed","statusDetails":"AssertionError: [TimeoutError] during step: <<User3>> :: Click User Organization settings button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/apps?cluster=default&org=regression-org-yhyy9ay5jj6n'> selector='div[slot=\\'trigger\\'] >> internal:has-text=\"regression-jrrvu76bx7@apolo.us\"i'>\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"div[slot='trigger']\").filter(has_text=\"regression-jrrvu76bx7@apolo.us\")\n    - waiting for\" https://console.dev.apolo.us/apps?cluster=default&org=regression-org-yhyy9ay5jj6n\" navigation to finish...","time":{"start":1765075991532,"stop":1765076277393,"duration":285861}},{"uid":"eaa5fc9cccfc5fda","status":"passed","time":{"start":1764989024235,"stop":1764989121059,"duration":96824}},{"uid":"7eb37943368fae48","status":"passed","time":{"start":1764901842992,"stop":1764901948009,"duration":105017}},{"uid":"585445a54cb180d0","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: <<User2>> :: Login via UI\nMessage: [TimeoutError] during step: <<User2>> :: Click Continue button\nMessage: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"button[type='submit'][name='action'][value='default']\")\n\nNote: Playwright Timeout. Element not found or action took too long.","time":{"start":1764815863357,"stop":1764815934873,"duration":71516}},{"uid":"ec0a96c87ae040ce","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add user to organization via API and reload page\nMessage: [AssertionError] during step: Reload page\nMessage: [Error] during step: Reload page\nMessage: Page.reload: net::ERR_ABORTED; maybe frame was detached?\nCall log:\n  - waiting for navigation until \"load\"","time":{"start":1764729501587,"stop":1764729673746,"duration":172159}},{"uid":"e4528fef094d900e","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: <<User3>> :: Verify project creation message is displayed\nMessage: Organization regression-org-qoupjy6g8guz does not have a project creation message","time":{"start":1764644118868,"stop":1764644451728,"duration":332860}},{"uid":"18045d4bd01f54d0","status":"passed","time":{"start":1764556816274,"stop":1764556942717,"duration":126443}},{"uid":"f16946b3bdcdc97e","status":"passed","time":{"start":1764470528030,"stop":1764470650733,"duration":122703}},{"uid":"d9698b1ef9cc9dd2","status":"passed","time":{"start":1764384217431,"stop":1764384314413,"duration":96982}},{"uid":"6774a3c93f2f6815","status":"passed","time":{"start":1764297624070,"stop":1764297704996,"duration":80926}},{"uid":"afb2201b87670b9a","status":"passed","time":{"start":1764212177368,"stop":1764212274008,"duration":96640}},{"uid":"35bcaf0aad2172d2","status":"passed","time":{"start":1764124796984,"stop":1764124948400,"duration":151416}},{"uid":"7db0a369a2394fd0","status":"passed","time":{"start":1764038188962,"stop":1764038278814,"duration":89852}},{"uid":"e4423254e6914d8d","status":"passed","time":{"start":1763952887723,"stop":1763952981237,"duration":93514}},{"uid":"7a09c9dc249cea54","status":"passed","time":{"start":1763866835882,"stop":1763867044567,"duration":208685}},{"uid":"2bc48cb08395e4a8","status":"passed","time":{"start":1763779804871,"stop":1763780013756,"duration":208885}},{"uid":"d5a1e17dfdb3027a","status":"passed","time":{"start":1763694484736,"stop":1763694711802,"duration":227066}},{"uid":"136fa992172e5bd2","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: <<User3>> :: Verify project creation message is displayed\nMessage: Organization regression-org-ksg767bt7x51 does not have a project creation message","time":{"start":1763607803239,"stop":1763608078119,"duration":274880}},{"uid":"add910a2d0837a3b","status":"passed","time":{"start":1763520607858,"stop":1763520809385,"duration":201527}},{"uid":"18d7c7841b42da29","status":"passed","time":{"start":1763434162843,"stop":1763434263993,"duration":101150}}]},"tags":["asyncio"]},"source":"90c0b367fbc35dbb.json","parameterValues":[]}