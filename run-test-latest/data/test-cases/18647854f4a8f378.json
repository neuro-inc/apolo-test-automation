{"uid":"18647854f4a8f378","name":"Verfiy POST external Chat API /v1/chat/completions returns valid data","fullName":"tests.test_cases.tests_e2e.test_deep_seek_app.TestE2EDeepSeekApp#test_ext_chat_endpoint_completions","historyId":"35398de72d0cdfd424467cc9027c9bd0","time":{"start":1759887972488,"stop":1759888010440,"duration":37952},"description":"\n### Pre-conditions:\n- DeepSeek app installed.\n\n### Steps:\n- Login with valid credentials.\n- POST `external` OpenAI Compatible Chat API `{hostname}/v1/chat/completions`.\n\n### Verify that:\n\n- API response matching expected json schema.\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>DeepSeek app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>POST <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>external</span> OpenAI Compatible Chat API <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>{hostname}/v1/chat/completions</span>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>API response matching expected json schema.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1759887969866,"stop":1759887969870,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759887969870,"stop":1759887972485,"duration":2615},"status":"passed","steps":[],"attachments":[{"uid":"f84cc612644b674a","name":"HTTP 200 - GET config","source":"f84cc612644b674a.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759887969870,"stop":1759887969870,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759887972485,"stop":1759887972485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1759887972485,"stop":1759887972485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759887972486,"stop":1759887972486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759887972486,"stop":1759887972487,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759887972486,"stop":1759887972486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759887972487,"stop":1759887972487,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"deep_seek_status","time":{"start":1759887972487,"stop":1759887972487,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759887972487,"stop":1759887972487,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759887972487,"stop":1759887972487,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n### Pre-conditions:\n- DeepSeek app installed.\n\n### Steps:\n- Login with valid credentials.\n- POST `external` OpenAI Compatible Chat API `{hostname}/v1/chat/completions`.\n\n### Verify that:\n\n- API response matching expected json schema.\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>DeepSeek app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>POST <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>external</span> OpenAI Compatible Chat API <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>{hostname}/v1/chat/completions</span>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>API response matching expected json schema.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1759887972488,"stop":1759887978613,"duration":6125},"status":"passed","steps":[{"name":"Click login button","time":{"start":1759887972488,"stop":1759887973711,"duration":1223},"status":"passed","steps":[],"attachments":[{"uid":"94fdc18b49187a2b","name":"Page URL","source":"94fdc18b49187a2b.txt","type":"text/plain","size":33},{"uid":"24421c7a392b590d","name":"Screenshot: Click login button (success)","source":"24421c7a392b590d.png","type":"image/png","size":41621}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759887973711,"stop":1759887974107,"duration":396},"status":"passed","steps":[],"attachments":[{"uid":"94aff4781cc54e33","name":"Page URL","source":"94aff4781cc54e33.txt","type":"text/plain","size":215},{"uid":"1e26b242c195a819","name":"Screenshot: Enter email (success)","source":"1e26b242c195a819.png","type":"image/png","size":46214}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759887974107,"stop":1759887974483,"duration":376},"status":"passed","steps":[],"attachments":[{"uid":"da630769429b144f","name":"Page URL","source":"da630769429b144f.txt","type":"text/plain","size":215},{"uid":"169f66ffdc2dc946","name":"Screenshot: Enter password (success)","source":"169f66ffdc2dc946.png","type":"image/png","size":46333}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1759887974483,"stop":1759887978277,"duration":3794},"status":"passed","steps":[],"attachments":[{"uid":"e2626038706aa85c","name":"Page URL","source":"e2626038706aa85c.txt","type":"text/plain","size":215},{"uid":"580f590ce5bcf5fa","name":"HTTP 200 - GET config","source":"580f590ce5bcf5fa.txt","type":"text/plain","size":1118},{"uid":"a2dfe147f343e5b3","name":"HTTP 200 - GET permissions?uri=blob:","source":"a2dfe147f343e5b3.txt","type":"text/plain","size":236},{"uid":"929a0a724088fcb5","name":"HTTP 200 - GET instances?org=regression-org-sejo3mkmsg2t&project=regression-proj-6sfwel6gbb&cluster=default&size=100","source":"929a0a724088fcb5.txt","type":"text/plain","size":858},{"uid":"1b29c4b59522fb21","name":"HTTP 200 - GET regression-org-sejo3mkmsg2t","source":"1b29c4b59522fb21.txt","type":"text/plain","size":425},{"uid":"f557583d243096ee","name":"HTTP 200 - GET regression-djhqu92oz6?include=orgs","source":"f557583d243096ee.txt","type":"text/plain","size":455},{"uid":"4c6d71e5e42a561c","name":"HTTP 200 - GET templates","source":"4c6d71e5e42a561c.txt","type":"text/plain","size":1127},{"uid":"2a0516c7499fce31","name":"HTTP 200 - GET incoming","source":"2a0516c7499fce31.txt","type":"text/plain","size":137},{"uid":"3afcf7784a0a6b91","name":"HTTP 200 - GET regression-djhqu92oz6?include=clusters&include=system_role","source":"3afcf7784a0a6b91.txt","type":"text/plain","size":510},{"uid":"607c9af913599f83","name":"HTTP 200 - GET tags","source":"607c9af913599f83.txt","type":"text/plain","size":848},{"uid":"9455baef27e31c61","name":"HTTP 200 - GET templates?page=1&size=50","source":"9455baef27e31c61.txt","type":"text/plain","size":1142},{"uid":"aab9da09151d0a3d","name":"HTTP 200 - GET templates?page=1&size=50","source":"aab9da09151d0a3d.txt","type":"text/plain","size":1142},{"uid":"202850070f2581b1","name":"Screenshot: Click Continue button (success)","source":"202850070f2581b1.png","type":"image/png","size":160272}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Verify Apps page displayed","time":{"start":1759887978294,"stop":1759887978410,"duration":116},"status":"passed","steps":[],"attachments":[{"uid":"51ccc11040157935","name":"Page URL","source":"51ccc11040157935.txt","type":"text/plain","size":116},{"uid":"8d4ef1775e61e2d1","name":"Screenshot: Verify Apps page displayed (success)","source":"8d4ef1775e61e2d1.png","type":"image/png","size":160272}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ac325ecfd7ada5ae","name":"Page URL","source":"ac325ecfd7ada5ae.txt","type":"text/plain","size":33},{"uid":"ad9f8705be5e033e","name":"Screenshot: Login via UI (success)","source":"ad9f8705be5e033e.png","type":"image/png","size":160272}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":23,"hasContent":true,"attachmentStep":false},{"name":"Verify POST to external Compatible Chat API /v1/chat/completions returns valid data","time":{"start":1759887978613,"stop":1759888010440,"duration":31827},"status":"passed","steps":[],"attachments":[{"uid":"26988b95ebb2596a","name":"HTTP 200 - GET instances?org=regression-org-sejo3mkmsg2t&project=regression-proj-6sfwel6gbb&cluster=default&size=100","source":"26988b95ebb2596a.txt","type":"text/plain","size":858},{"uid":"c3be0571611150e9","name":"HTTP 200 - GET instances?org=regression-org-sejo3mkmsg2t&project=regression-proj-6sfwel6gbb&cluster=default&size=100","source":"c3be0571611150e9.txt","type":"text/plain","size":858}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3d9a3fa8b1f8ff32","name":"log","source":"3d9a3fa8b1f8ff32.txt","type":"text/plain","size":25038}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":26,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1759888010441,"stop":1759888010441,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759888010441,"stop":1759888010441,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1759888010441,"stop":1759888010441,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759888010442,"stop":1759888010442,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759888010443,"stop":1759888010444,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"E2E Tests"},{"name":"suite","value":"DeepSeek App"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"class_setup"},{"name":"subSuite","value":"TestE2EDeepSeekApp"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3647-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_e2e.test_deep_seek_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":6,"broken":0,"skipped":16,"passed":3,"unknown":0,"total":25},"items":[{"uid":"1eae0fcb4a3dc561","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1759542282252,"stop":1759542282252,"duration":0}},{"uid":"562204905d57d506","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1759455867022,"stop":1759455867022,"duration":0}},{"uid":"854c386ba5c029cb","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1759368929334,"stop":1759368929334,"duration":0}},{"uid":"3b8c8ba4f5be1af1","status":"passed","time":{"start":1759283199691,"stop":1759283237687,"duration":37996}},{"uid":"c4e3b8bda382a6f8","status":"passed","time":{"start":1759196737171,"stop":1759196775306,"duration":38135}},{"uid":"709a551a2a65ec31","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1759154132533,"stop":1759154132533,"duration":0}},{"uid":"474af3461ce021a3","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1759109695218,"stop":1759109695218,"duration":0}},{"uid":"57906c3f786c256b","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1759023310532,"stop":1759023310532,"duration":0}},{"uid":"a579d2606e262b5e","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758936793132,"stop":1758936793132,"duration":0}},{"uid":"e151e225b9b0e3a1","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758850418222,"stop":1758850418222,"duration":0}},{"uid":"9e44710752dcdcf5","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Expected HTTP 200 response but got 504","time":{"start":1758764860526,"stop":1758764895222,"duration":34696}},{"uid":"9fc896a5cbaf451","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: Expected HTTP 200 response but got 504","time":{"start":1758706705661,"stop":1758706740071,"duration":34410}},{"uid":"51403d13be085e7f","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758690487324,"stop":1758690487324,"duration":0}},{"uid":"78d31c3634a79579","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758678267790,"stop":1758678267790,"duration":0}},{"uid":"a474d0e74b47803a","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758591879374,"stop":1758591879374,"duration":0}},{"uid":"3c7167873a4df574","status":"failed","statusDetails":"AssertionError: [ContentTypeError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: 504, message='Attempt to decode JSON with unexpected mimetype: text/plain', url='https://deepseek--e98447c4c09f46468bb6c240053aa5be.apps.dev.apolo.us/v1/chat/completions'","time":{"start":1758505708615,"stop":1758505743014,"duration":34399}},{"uid":"e627bf6af008a336","status":"failed","statusDetails":"AssertionError: [ContentTypeError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: 504, message='Attempt to decode JSON with unexpected mimetype: text/plain', url='https://deepseek--d8fedb4c7dae4fb3a7a91f2fc72d4a0a.apps.dev.apolo.us/v1/chat/completions'","time":{"start":1758419288871,"stop":1758419326352,"duration":37481}},{"uid":"799daf72cd13a2b","status":"failed","statusDetails":"AssertionError: [ContentTypeError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: 504, message='Attempt to decode JSON with unexpected mimetype: text/plain', url='https://deepseek--3f1d669433ed45518730e89e735392ff.apps.dev.apolo.us/v1/chat/completions'","time":{"start":1758332761546,"stop":1758332801854,"duration":40308}},{"uid":"f91e08e54c2335f4","status":"failed","statusDetails":"AssertionError: [ContentTypeError] during step: Verify POST to external Compatible Chat API /v1/chat/completions returns valid data\nMessage: 504, message='Attempt to decode JSON with unexpected mimetype: text/plain', url='https://deepseek--828f7897164747c0bae6692455b345cf.apps.dev.apolo.us/v1/chat/completions'","time":{"start":1758246361096,"stop":1758246395687,"duration":34591}},{"uid":"31c89a6c2e837760","status":"skipped","statusDetails":"Skipped: DeepSeek app was not installed successfully","time":{"start":1758159867645,"stop":1758159867645,"duration":0}}]},"tags":["asyncio","class_setup"]},"source":"18647854f4a8f378.json","parameterValues":[]}