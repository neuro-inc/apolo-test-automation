{"uid":"3fbaa21e18d116c1","name":"Verify GET custom-deployment–<id> without auth header","fullName":"tests.test_cases.tests_e2e.test_service_deployment_app.TestE2EServiceDeploymentApp#test_get_cust_depl_no_auth_via_api","historyId":"c8be7ace42135bc397a43f20de8f7b3d","time":{"start":1760602891943,"stop":1760602899334,"duration":7391},"description":"\n### Pre-conditions:\n- Service Deployment app installed.\n\n### Steps:\n- Login with valid credentials.\n- Call `custom-deployment–<id>` API without auth header.\n\n### Verify that:\n\n- Http internal API\n- Https external API\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>Service Deployment app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>Call <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>custom-deployment–&lt;id&gt;</span> API without auth header.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Http internal API</li>\n<li>Https external API</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify Service Deployment /output response contains required endpoints\nMessage: {'detail': {'missing': [{'uri': 'app://default/regression-org-bo4chooo8zll/regression-proj-uf0nlspit7', 'action': 'read'}]}}","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/api_steps/api_steps.py:299: in verify_serv_depl_output_endpoints\n    assert status == 200, response\n           ^^^^^^^^^^^^^\nE   AssertionError: {'detail': {'missing': [{'uri': 'app://default/regression-org-bo4chooo8zll/regression-proj-uf0nlspit7', 'action': 'read'}]}}\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_service_deployment_app.py:554: in test_get_cust_depl_no_auth_via_api\n    await api_steps.verify_serv_depl_output_endpoints(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify Service Deployment /output response contains required endpoints\nE   Message: {'detail': {'missing': [{'uri': 'app://default/regression-org-bo4chooo8zll/regression-proj-uf0nlspit7', 'action': 'read'}]}}","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1760600705790,"stop":1760600705790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1760600705790,"stop":1760600705790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1760600705790,"stop":1760600705790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1760600705790,"stop":1760600705790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1760600705790,"stop":1760600705790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1760600705791,"stop":1760600735791,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1760600735791,"stop":1760600735791,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1760602889564,"stop":1760602889567,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1760602889568,"stop":1760602889568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1760602889568,"stop":1760602891940,"duration":2372},"status":"passed","steps":[],"attachments":[{"uid":"a6fdd23dbf146a72","name":"HTTP 200 - GET config","source":"a6fdd23dbf146a72.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"users_manager","time":{"start":1760602891940,"stop":1760602891941,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1760602891940,"stop":1760602891940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1760602891941,"stop":1760602891942,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1760602891941,"stop":1760602891941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1760602891941,"stop":1760602891941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"serv_depl_status","time":{"start":1760602891942,"stop":1760602891942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1760602891942,"stop":1760602891942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1760602891942,"stop":1760602891942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1760602891942,"stop":1760602891942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n### Pre-conditions:\n- Service Deployment app installed.\n\n### Steps:\n- Login with valid credentials.\n- Call `custom-deployment–<id>` API without auth header.\n\n### Verify that:\n\n- Http internal API\n- Https external API\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>Service Deployment app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>Call <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>custom-deployment–&lt;id&gt;</span> API without auth header.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Http internal API</li>\n<li>Https external API</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify Service Deployment /output response contains required endpoints\nMessage: {'detail': {'missing': [{'uri': 'app://default/regression-org-bo4chooo8zll/regression-proj-uf0nlspit7', 'action': 'read'}]}}","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/api_steps/api_steps.py:299: in verify_serv_depl_output_endpoints\n    assert status == 200, response\n           ^^^^^^^^^^^^^\nE   AssertionError: {'detail': {'missing': [{'uri': 'app://default/regression-org-bo4chooo8zll/regression-proj-uf0nlspit7', 'action': 'read'}]}}\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_service_deployment_app.py:554: in test_get_cust_depl_no_auth_via_api\n    await api_steps.verify_serv_depl_output_endpoints(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify Service Deployment /output response contains required endpoints\nE   Message: {'detail': {'missing': [{'uri': 'app://default/regression-org-bo4chooo8zll/regression-proj-uf0nlspit7', 'action': 'read'}]}}","steps":[{"name":"Login via UI","time":{"start":1760602891943,"stop":1760602899249,"duration":7306},"status":"passed","steps":[{"name":"Click login button","time":{"start":1760602891944,"stop":1760602893064,"duration":1120},"status":"passed","steps":[],"attachments":[{"uid":"d903ccff40c11e27","name":"Page URL","source":"d903ccff40c11e27.txt","type":"text/plain","size":33},{"uid":"fe7fc2b596b3ae37","name":"Screenshot: Click login button (success)","source":"fe7fc2b596b3ae37.png","type":"image/png","size":41636}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1760602893064,"stop":1760602893396,"duration":332},"status":"passed","steps":[],"attachments":[{"uid":"8b6f68a9b27e912d","name":"Page URL","source":"8b6f68a9b27e912d.txt","type":"text/plain","size":215},{"uid":"e245a428d9cf42ca","name":"Screenshot: Enter email (success)","source":"e245a428d9cf42ca.png","type":"image/png","size":45666}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1760602893397,"stop":1760602893730,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"c501965fe8934e82","name":"Page URL","source":"c501965fe8934e82.txt","type":"text/plain","size":215},{"uid":"df17a8928f5008bf","name":"Screenshot: Enter password (success)","source":"df17a8928f5008bf.png","type":"image/png","size":45792}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1760602893730,"stop":1760602898972,"duration":5242},"status":"passed","steps":[],"attachments":[{"uid":"91d675cdf1ce28e","name":"Page URL","source":"91d675cdf1ce28e.txt","type":"text/plain","size":215},{"uid":"297f95385c30c57d","name":"HTTP 200 - GET config","source":"297f95385c30c57d.txt","type":"text/plain","size":2137},{"uid":"3d4a1c6265d042c1","name":"HTTP 200 - GET permissions?uri=blob:","source":"3d4a1c6265d042c1.txt","type":"text/plain","size":255},{"uid":"a038339c1892ab14","name":"HTTP 200 - GET incoming","source":"a038339c1892ab14.txt","type":"text/plain","size":156},{"uid":"6b868c6de17b5ee0","name":"HTTP 200 - GET regression-org-ul7cp8jqnsig","source":"6b868c6de17b5ee0.txt","type":"text/plain","size":498},{"uid":"f672ba42e84e1443","name":"HTTP 200 - GET instances?org=regression-org-ul7cp8jqnsig&project=regression-proj-ef5qysf697&cluster=default&size=100","source":"f672ba42e84e1443.txt","type":"text/plain","size":1579},{"uid":"5c9cf20bd78d9aba","name":"HTTP 200 - GET templates","source":"5c9cf20bd78d9aba.txt","type":"text/plain","size":2146},{"uid":"bbd9bdaef2116ff3","name":"HTTP 200 - GET regression-krijxv72go?include=orgs","source":"bbd9bdaef2116ff3.txt","type":"text/plain","size":477},{"uid":"ed393e8e3366b124","name":"HTTP 200 - GET regression-krijxv72go?include=clusters&include=system_role","source":"ed393e8e3366b124.txt","type":"text/plain","size":529},{"uid":"1aba2ffaceba2492","name":"HTTP 200 - GET tags","source":"1aba2ffaceba2492.txt","type":"text/plain","size":867},{"uid":"13618d94fc75e5ae","name":"HTTP 200 - GET templates?page=1&size=50","source":"13618d94fc75e5ae.txt","type":"text/plain","size":2161},{"uid":"75fe35ffeaa7133d","name":"Screenshot: Click Continue button (success)","source":"75fe35ffeaa7133d.png","type":"image/png","size":157514}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify Apps page displayed","time":{"start":1760602898987,"stop":1760602899150,"duration":163},"status":"passed","steps":[],"attachments":[{"uid":"ceadd74d1336d42c","name":"Page URL","source":"ceadd74d1336d42c.txt","type":"text/plain","size":116},{"uid":"7f004cf75deee747","name":"Screenshot: Verify Apps page displayed (success)","source":"7f004cf75deee747.png","type":"image/png","size":157455}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"540aac33c4500f3f","name":"Page URL","source":"540aac33c4500f3f.txt","type":"text/plain","size":33},{"uid":"5af6d74218c20287","name":"Screenshot: Login via UI (success)","source":"5af6d74218c20287.png","type":"image/png","size":157411}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Verify Service Deployment /output response contains required endpoints","time":{"start":1760602899249,"stop":1760602899333,"duration":84},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify Service Deployment /output response contains required endpoints\nMessage: {'detail': {'missing': [{'uri': 'app://default/regression-org-bo4chooo8zll/regression-proj-uf0nlspit7', 'action': 'read'}]}}\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"147f6103479a819a","name":"log","source":"147f6103479a819a.txt","type":"text/plain","size":16962}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":23,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1760602899369,"stop":1760602899369,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760602899369,"stop":1760602899370,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760602899370,"stop":1760602899370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1760602899370,"stop":1760602899370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1760602899371,"stop":1760602899372,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"Service Deployment App"},{"name":"parentSuite","value":"E2E Tests"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"class_setup"},{"name":"subSuite","value":"TestE2EServiceDeploymentApp"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3595-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_e2e.test_service_deployment_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["asyncio","class_setup"]},"source":"3fbaa21e18d116c1.json","parameterValues":[]}