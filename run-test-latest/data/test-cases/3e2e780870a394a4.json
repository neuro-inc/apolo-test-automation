{"uid":"3e2e780870a394a4","name":"Admin change member role from Admin to Writer in project via CLI","fullName":"tests.test_cases.tests_cli.test_project_change_member_roles.TestCLIProjectStructureSetup#test_admin_change_admin_to_writer_cli","historyId":"a8b8661a41155ad615f7c12022ebbb0d","time":{"start":1755308484328,"stop":1755308524794,"duration":40466},"status":"failed","statusMessage":"AssertionError: [AttributeError] during step: Add organization via API and reload page\nMessage: 'ClientResponse' object has no attribute 'status_code'","statusTrace":"tests/reporting_hooks/reporting.py:46: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:365: in ui_add_org_api\n    f\"Expected HTTP 201 response but got {response.status_code}!\"\n                                          ^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: 'ClientResponse' object has no attribute 'status_code'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:516: in test_admin_change_admin_to_writer_cli\n    await self._ui_steps.ui_add_org_api(\ntests/reporting_hooks/reporting.py:55: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AttributeError] during step: Add organization via API and reload page\nE   Message: 'ClientResponse' object has no attribute 'status_code'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755307922252,"stop":1755307922253,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755307922253,"stop":1755307952253,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755307922253,"stop":1755307922253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755307922253,"stop":1755307922253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755307952254,"stop":1755307952254,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755308481746,"stop":1755308481748,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755308481749,"stop":1755308481749,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755308481749,"stop":1755308483838,"duration":2089},"status":"passed","steps":[],"attachments":[{"uid":"4dfc2377ecd35304","name":"HTTP 200 - GET config","source":"4dfc2377ecd35304.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"users_manager","time":{"start":1755308483838,"stop":1755308483838,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755308483838,"stop":1755308483839,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1755308483838,"stop":1755308483838,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755308483839,"stop":1755308483839,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755308483839,"stop":1755308483840,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755308483839,"stop":1755308483839,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755308483839,"stop":1755308483839,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755308483840,"stop":1755308484327,"duration":487},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755308483840,"stop":1755308484327,"duration":487},"status":"passed","steps":[],"attachments":[{"uid":"121f75d342bed9b4","name":"Executed CLI command","source":"121f75d342bed9b4.txt","type":"text/plain","size":15},{"uid":"1f0d82b8dcdf033f","name":"Executed CLI command output","source":"1f0d82b8dcdf033f.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: [AttributeError] during step: Add organization via API and reload page\nMessage: 'ClientResponse' object has no attribute 'status_code'","statusTrace":"tests/reporting_hooks/reporting.py:46: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:365: in ui_add_org_api\n    f\"Expected HTTP 201 response but got {response.status_code}!\"\n                                          ^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: 'ClientResponse' object has no attribute 'status_code'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:516: in test_admin_change_admin_to_writer_cli\n    await self._ui_steps.ui_add_org_api(\ntests/reporting_hooks/reporting.py:55: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AttributeError] during step: Add organization via API and reload page\nE   Message: 'ClientResponse' object has no attribute 'status_code'","steps":[{"name":"Login via UI","time":{"start":1755308484328,"stop":1755308494628,"duration":10300},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755308484329,"stop":1755308485156,"duration":827},"status":"passed","steps":[],"attachments":[{"uid":"a4610a77365d8cc0","name":"Page URL","source":"a4610a77365d8cc0.txt","type":"text/plain","size":33},{"uid":"4f6b623be0739aa9","name":"Screenshot: Click login button (success)","source":"4f6b623be0739aa9.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755308485157,"stop":1755308485464,"duration":307},"status":"passed","steps":[],"attachments":[{"uid":"4c476a1ca1ca66","name":"Page URL","source":"4c476a1ca1ca66.txt","type":"text/plain","size":33},{"uid":"c72f933dde76ea0f","name":"Screenshot: Enter email (success)","source":"c72f933dde76ea0f.png","type":"image/png","size":47212}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755308485464,"stop":1755308485646,"duration":182},"status":"passed","steps":[],"attachments":[{"uid":"ff0229fca78eaf1","name":"Page URL","source":"ff0229fca78eaf1.txt","type":"text/plain","size":215},{"uid":"f57d7d8112884d64","name":"Screenshot: Enter password (success)","source":"f57d7d8112884d64.png","type":"image/png","size":47168}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755308485646,"stop":1755308493396,"duration":7750},"status":"passed","steps":[],"attachments":[{"uid":"80b02241c7739095","name":"Page URL","source":"80b02241c7739095.txt","type":"text/plain","size":215},{"uid":"fcaea75651d2bc09","name":"HTTP 200 - GET config","source":"fcaea75651d2bc09.txt","type":"text/plain","size":752},{"uid":"a4d34c4c2bae6b62","name":"HTTP 200 - GET permissions?uri=blob:","source":"a4d34c4c2bae6b62.txt","type":"text/plain","size":163},{"uid":"a405b76f50eb0689","name":"HTTP 200 - GET regression-718b2j8l75?include=orgs","source":"a405b76f50eb0689.txt","type":"text/plain","size":360},{"uid":"3ae91b166266e195","name":"HTTP 200 - GET regression-718b2j8l75?include=clusters&include=system_role","source":"3ae91b166266e195.txt","type":"text/plain","size":388},{"uid":"51250e7d95a87a8e","name":"Screenshot: Click Continue button (success)","source":"51250e7d95a87a8e.png","type":"image/png","size":160542}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755308493407,"stop":1755308494514,"duration":1107},"status":"passed","steps":[],"attachments":[{"uid":"aa370167c491995f","name":"Page URL","source":"aa370167c491995f.txt","type":"text/plain","size":44},{"uid":"23e08331dd3e2a30","name":"HTTP 200 - GET incoming","source":"23e08331dd3e2a30.txt","type":"text/plain","size":137},{"uid":"fddef7391957a435","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"fddef7391957a435.png","type":"image/png","size":160542}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6d77772908ba9c57","name":"Page URL","source":"6d77772908ba9c57.txt","type":"text/plain","size":33},{"uid":"6c16bfb887782c14","name":"Screenshot: Login via UI (success)","source":"6c16bfb887782c14.png","type":"image/png","size":160542}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1755308494628,"stop":1755308524793,"duration":30165},"status":"failed","statusMessage":"AssertionError: [AttributeError] during step: Add organization via API and reload page\nMessage: 'ClientResponse' object has no attribute 'status_code'\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 55, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"100b8bdbe1ca5dae","name":"Page URL","source":"100b8bdbe1ca5dae.txt","type":"text/plain","size":44},{"uid":"fc3b89d7c310c200","name":"Screenshot: Add organization via API and reload page (fail)","source":"fc3b89d7c310c200.png","type":"image/png","size":160542}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6ebd1df1bffba3fd","name":"log","source":"6ebd1df1bffba3fd.txt","type":"text/plain","size":10327}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":20,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1755308524826,"stop":1755308538507,"duration":13681},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755308524826,"stop":1755308538507,"duration":13681},"status":"passed","steps":[{"name":"Delete organisation: regression-org-q0nqcf70f39x","time":{"start":1755308530114,"stop":1755308538472,"duration":8358},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1755308524826,"stop":1755308524826,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755308538508,"stop":1755308538508,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755308538509,"stop":1755308538510,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Project Remove Members"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"5908-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"3e2e780870a394a4.json","parameterValues":[]}