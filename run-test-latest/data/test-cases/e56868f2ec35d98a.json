{"uid":"e56868f2ec35d98a","name":"Admin change member role from Reader to Writer in project via CLI","fullName":"tests.test_cases.tests_cli.test_project_change_member_roles.TestCLIProjectStructureSetup#test_admin_change_reader_to_writer_cli","historyId":"238ad4c581585e2dce3cc4b5a0bc6b18","time":{"start":1759109679922,"stop":1759109679933,"duration":11},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1759109588514,"stop":1759109588514,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759109588514,"stop":1759109588515,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1759109588515,"stop":1759109588515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1759109588515,"stop":1759109618516,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759109588515,"stop":1759109588515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759109588515,"stop":1759109588515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1759109618516,"stop":1759109618516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1759109618516,"stop":1759109618520,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759109618520,"stop":1759109621001,"duration":2481},"status":"passed","steps":[],"attachments":[{"uid":"95745a206c637383","name":"HTTP 200 - GET config","source":"95745a206c637383.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759109618520,"stop":1759109618521,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759109621001,"stop":1759109621002,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759109621001,"stop":1759109621001,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1759109621001,"stop":1759109621001,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759109621002,"stop":1759109621002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759109621003,"stop":1759109678739,"duration":57736},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1759109623334,"stop":1759109655205,"duration":31871},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1759109623335,"stop":1759109624460,"duration":1125},"status":"passed","steps":[],"attachments":[{"uid":"89073e4d0f4cb18c","name":"Page URL","source":"89073e4d0f4cb18c.txt","type":"text/plain","size":33},{"uid":"204b1105eaafc1b","name":"Screenshot: Click signup button (success)","source":"204b1105eaafc1b.png","type":"image/png","size":39342}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759109624460,"stop":1759109624794,"duration":334},"status":"passed","steps":[],"attachments":[{"uid":"7f77036b7b18ca65","name":"Page URL","source":"7f77036b7b18ca65.txt","type":"text/plain","size":216},{"uid":"f63c1ffa8c220440","name":"Screenshot: Enter email (success)","source":"f63c1ffa8c220440.png","type":"image/png","size":44018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759109624795,"stop":1759109625161,"duration":366},"status":"passed","steps":[],"attachments":[{"uid":"b9c344746bac08b3","name":"Page URL","source":"b9c344746bac08b3.txt","type":"text/plain","size":216},{"uid":"b7c695040423c38f","name":"Screenshot: Enter password (success)","source":"b7c695040423c38f.png","type":"image/png","size":63769}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1759109625161,"stop":1759109627438,"duration":2277},"status":"passed","steps":[],"attachments":[{"uid":"e65a66236063607a","name":"Page URL","source":"e65a66236063607a.txt","type":"text/plain","size":216},{"uid":"e92d23572896fa89","name":"Screenshot: Click continue button (success)","source":"e92d23572896fa89.png","type":"image/png","size":11162}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1759109627438,"stop":1759109627873,"duration":435},"status":"passed","steps":[],"attachments":[{"uid":"353b1d20e59fb597","name":"Page URL","source":"353b1d20e59fb597.txt","type":"text/plain","size":194},{"uid":"3e70f58786600aca","name":"HTTP 200 - GET config","source":"3e70f58786600aca.txt","type":"text/plain","size":654},{"uid":"65b6ad5280e0ddcd","name":"Screenshot: Verify that Verify email message displayed (success)","source":"65b6ad5280e0ddcd.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1759109627873,"stop":1759109629342,"duration":1469},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1759109628226,"stop":1759109629189,"duration":963},"status":"passed","steps":[],"attachments":[{"uid":"2e9be68233168f28","name":"Page URL","source":"2e9be68233168f28.txt","type":"text/plain","size":184},{"uid":"b4c702566be557dd","name":"Screenshot: Navigate to URL (success)","source":"b4c702566be557dd.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1759109629343,"stop":1759109631332,"duration":1989},"status":"passed","steps":[],"attachments":[{"uid":"912af34709202f1b","name":"Page URL","source":"912af34709202f1b.txt","type":"text/plain","size":87},{"uid":"27b08218eadc9cfb","name":"HTTP 200 - GET config","source":"27b08218eadc9cfb.txt","type":"text/plain","size":654},{"uid":"8aad07aeb22f1ef7","name":"Screenshot: Navigate to URL (success)","source":"8aad07aeb22f1ef7.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1759109631332,"stop":1759109631441,"duration":109},"status":"passed","steps":[],"attachments":[{"uid":"bde6acf60d9eba69","name":"Page URL","source":"bde6acf60d9eba69.txt","type":"text/plain","size":33},{"uid":"47420c05306fe0da","name":"Screenshot: Verify that Auth page displayed (success)","source":"47420c05306fe0da.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1759109631441,"stop":1759109632673,"duration":1232},"status":"passed","steps":[],"attachments":[{"uid":"60489c93a0ab6e21","name":"Page URL","source":"60489c93a0ab6e21.txt","type":"text/plain","size":33},{"uid":"aaebd717213e12b7","name":"Screenshot: Click login button (success)","source":"aaebd717213e12b7.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1759109632673,"stop":1759109633823,"duration":1150},"status":"passed","steps":[],"attachments":[{"uid":"e82171dacdcf5f","name":"Page URL","source":"e82171dacdcf5f.txt","type":"text/plain","size":33},{"uid":"14b69a9091eaf136","name":"HTTP 404 - HEAD regression-1vgn7a05sr","source":"14b69a9091eaf136.txt","type":"text/plain","size":160},{"uid":"580a247da768cf6f","name":"Screenshot: Verify that Signup username page displayed (success)","source":"580a247da768cf6f.png","type":"image/png","size":37287}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1759109633823,"stop":1759109634705,"duration":882},"status":"passed","steps":[],"attachments":[{"uid":"bf97618f41499469","name":"Page URL","source":"bf97618f41499469.txt","type":"text/plain","size":362},{"uid":"7db46f943f5cc944","name":"HTTP 404 - HEAD ","source":"7db46f943f5cc944.txt","type":"text/plain","size":139},{"uid":"4b87123f2ff35af","name":"HTTP 404 - HEAD regression-1vgn7a05sr","source":"4b87123f2ff35af.txt","type":"text/plain","size":160},{"uid":"24f4b46b3d6853c6","name":"Screenshot: Enter username (success)","source":"24f4b46b3d6853c6.png","type":"image/png","size":37554}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1759109634706,"stop":1759109644989,"duration":10283},"status":"passed","steps":[],"attachments":[{"uid":"803933ad54effffe","name":"Page URL","source":"803933ad54effffe.txt","type":"text/plain","size":362},{"uid":"87028a938be5216e","name":"HTTP 200 - GET config","source":"87028a938be5216e.txt","type":"text/plain","size":654},{"uid":"7594e273c3703f8b","name":"Screenshot: Click signup button on Signup username page (success)","source":"7594e273c3703f8b.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1759109644989,"stop":1759109655138,"duration":10149},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"aace3a553418cf84","name":"Page URL","source":"aace3a553418cf84.txt","type":"text/plain","size":222},{"uid":"2245523036833d64","name":"Screenshot: Verify that User agreement pop up displayed (fail)","source":"2245523036833d64.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8123810693096dcb","name":"Page URL","source":"8123810693096dcb.txt","type":"text/plain","size":33},{"uid":"9052194933894cc","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"9052194933894cc.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1759109657632,"stop":1759109678739,"duration":21107},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1759109657633,"stop":1759109658759,"duration":1126},"status":"passed","steps":[],"attachments":[{"uid":"915e1c82dc9eb01b","name":"Page URL","source":"915e1c82dc9eb01b.txt","type":"text/plain","size":33},{"uid":"78e0158812e009d8","name":"Screenshot: Click signup button (success)","source":"78e0158812e009d8.png","type":"image/png","size":39379}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759109658759,"stop":1759109659106,"duration":347},"status":"passed","steps":[],"attachments":[{"uid":"e97aa4da23699f70","name":"Page URL","source":"e97aa4da23699f70.txt","type":"text/plain","size":216},{"uid":"4f32524365dccc0b","name":"Screenshot: Enter email (success)","source":"4f32524365dccc0b.png","type":"image/png","size":44245}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759109659106,"stop":1759109659477,"duration":371},"status":"passed","steps":[],"attachments":[{"uid":"fe407ae0ee9bacd7","name":"Page URL","source":"fe407ae0ee9bacd7.txt","type":"text/plain","size":216},{"uid":"31da7b18186d78a7","name":"Screenshot: Enter password (success)","source":"31da7b18186d78a7.png","type":"image/png","size":63967}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1759109659477,"stop":1759109661637,"duration":2160},"status":"passed","steps":[],"attachments":[{"uid":"da9e79973f6dbff4","name":"Page URL","source":"da9e79973f6dbff4.txt","type":"text/plain","size":216},{"uid":"adcbe5fc871e2964","name":"Screenshot: Click continue button (success)","source":"adcbe5fc871e2964.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1759109661637,"stop":1759109662092,"duration":455},"status":"passed","steps":[],"attachments":[{"uid":"7b01928e10ad26c7","name":"Page URL","source":"7b01928e10ad26c7.txt","type":"text/plain","size":192},{"uid":"97e03fbcd6f8679f","name":"HTTP 200 - GET config","source":"97e03fbcd6f8679f.txt","type":"text/plain","size":654},{"uid":"cd1aaa8a70285c31","name":"Screenshot: Verify that Verify email message displayed (success)","source":"cd1aaa8a70285c31.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1759109662092,"stop":1759109663862,"duration":1770},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1759109662502,"stop":1759109663521,"duration":1019},"status":"passed","steps":[],"attachments":[{"uid":"62628f40cc934ed3","name":"Page URL","source":"62628f40cc934ed3.txt","type":"text/plain","size":182},{"uid":"5237c195fa46e051","name":"Screenshot: Navigate to URL (success)","source":"5237c195fa46e051.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1759109663863,"stop":1759109665635,"duration":1772},"status":"passed","steps":[],"attachments":[{"uid":"131ea43b9d296452","name":"Page URL","source":"131ea43b9d296452.txt","type":"text/plain","size":87},{"uid":"81f9885ea5136be","name":"HTTP 200 - GET config","source":"81f9885ea5136be.txt","type":"text/plain","size":654},{"uid":"7d475a6d6b425af1","name":"Screenshot: Navigate to URL (success)","source":"7d475a6d6b425af1.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1759109665635,"stop":1759109665750,"duration":115},"status":"passed","steps":[],"attachments":[{"uid":"c59e18ac95a296d6","name":"Page URL","source":"c59e18ac95a296d6.txt","type":"text/plain","size":33},{"uid":"7306e0970e49db16","name":"Screenshot: Verify that Auth page displayed (success)","source":"7306e0970e49db16.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1759109665751,"stop":1759109667407,"duration":1656},"status":"passed","steps":[],"attachments":[{"uid":"246bbabd296a2978","name":"Page URL","source":"246bbabd296a2978.txt","type":"text/plain","size":33},{"uid":"bb99394272f9c8ee","name":"HTTP 404 - HEAD regression-zehwva9ybu","source":"bb99394272f9c8ee.txt","type":"text/plain","size":160},{"uid":"5083bccb58ff76d1","name":"Screenshot: Click login button (success)","source":"5083bccb58ff76d1.png","type":"image/png","size":37658}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1759109667407,"stop":1759109668533,"duration":1126},"status":"passed","steps":[],"attachments":[{"uid":"a5e2a33ffca2af75","name":"Page URL","source":"a5e2a33ffca2af75.txt","type":"text/plain","size":362},{"uid":"4ad13e8ad3645b67","name":"Screenshot: Verify that Signup username page displayed (success)","source":"4ad13e8ad3645b67.png","type":"image/png","size":37717}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1759109668533,"stop":1759109669373,"duration":840},"status":"passed","steps":[],"attachments":[{"uid":"ef726b7c806faf2b","name":"Page URL","source":"ef726b7c806faf2b.txt","type":"text/plain","size":362},{"uid":"ecdf7eae5c7301cf","name":"HTTP 404 - HEAD ","source":"ecdf7eae5c7301cf.txt","type":"text/plain","size":139},{"uid":"47b4e2a6c0b78eab","name":"HTTP 404 - HEAD regression-zehwva9ybu","source":"47b4e2a6c0b78eab.txt","type":"text/plain","size":160},{"uid":"756795d97ddb3371","name":"Screenshot: Enter username (success)","source":"756795d97ddb3371.png","type":"image/png","size":38049}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1759109669373,"stop":1759109672775,"duration":3402},"status":"passed","steps":[],"attachments":[{"uid":"2060cf0226f60a10","name":"Page URL","source":"2060cf0226f60a10.txt","type":"text/plain","size":362},{"uid":"cf214dec4858400f","name":"HTTP 200 - GET config","source":"cf214dec4858400f.txt","type":"text/plain","size":752},{"uid":"ac2e4729d72da917","name":"HTTP 200 - GET permissions?uri=blob:","source":"ac2e4729d72da917.txt","type":"text/plain","size":163},{"uid":"66b949089942eff9","name":"HTTP 200 - GET incoming","source":"66b949089942eff9.txt","type":"text/plain","size":137},{"uid":"68df6b5ccf9cd43e","name":"HTTP 200 - GET regression-zehwva9ybu?include=orgs","source":"68df6b5ccf9cd43e.txt","type":"text/plain","size":172},{"uid":"bb5e71ae66fcf6cc","name":"HTTP 200 - GET config","source":"bb5e71ae66fcf6cc.txt","type":"text/plain","size":752},{"uid":"c47919b784bbd41d","name":"HTTP 200 - GET permissions?uri=blob:","source":"c47919b784bbd41d.txt","type":"text/plain","size":163},{"uid":"4e5e2e7ac2509a4c","name":"HTTP 200 - GET regression-zehwva9ybu?include=orgs","source":"4e5e2e7ac2509a4c.txt","type":"text/plain","size":361},{"uid":"85ba0ea963cede9","name":"HTTP 200 - GET incoming","source":"85ba0ea963cede9.txt","type":"text/plain","size":137},{"uid":"ec68d4487a212f5e","name":"HTTP 200 - GET regression-zehwva9ybu?include=clusters&include=system_role","source":"ec68d4487a212f5e.txt","type":"text/plain","size":389},{"uid":"d513ea188742f8e8","name":"Screenshot: Click signup button on Signup username page (success)","source":"d513ea188742f8e8.png","type":"image/png","size":43157}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1759109672775,"stop":1759109672914,"duration":139},"status":"passed","steps":[],"attachments":[{"uid":"33a889d060f0b6bc","name":"Page URL","source":"33a889d060f0b6bc.txt","type":"text/plain","size":151},{"uid":"7a379657c5904229","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"7a379657c5904229.png","type":"image/png","size":46875}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1759109672914,"stop":1759109673562,"duration":648},"status":"passed","steps":[],"attachments":[{"uid":"d6df5b0c6ef62bee","name":"Page URL","source":"d6df5b0c6ef62bee.txt","type":"text/plain","size":151},{"uid":"78899f29e4081988","name":"Screenshot: Check agreement checkbox (success)","source":"78899f29e4081988.png","type":"image/png","size":41937}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1759109673562,"stop":1759109674231,"duration":669},"status":"passed","steps":[],"attachments":[{"uid":"e42e708b62d8cef","name":"Page URL","source":"e42e708b62d8cef.txt","type":"text/plain","size":151},{"uid":"3a9d512e80314afb","name":"Screenshot: Click I Agree button (success)","source":"3a9d512e80314afb.png","type":"image/png","size":42609}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1759109674231,"stop":1759109674411,"duration":180},"status":"passed","steps":[],"attachments":[{"uid":"70ef86471cff2db6","name":"Page URL","source":"70ef86471cff2db6.txt","type":"text/plain","size":151},{"uid":"bb5d40048f532eb","name":"HTTP 204 - PUT profile","source":"bb5d40048f532eb.txt","type":"text/plain","size":154},{"uid":"48eec017df40c261","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"48eec017df40c261.png","type":"image/png","size":160629}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1759109674412,"stop":1759109677511,"duration":3099},"status":"passed","steps":[],"attachments":[{"uid":"560f1dbb5e2405e5","name":"Page URL","source":"560f1dbb5e2405e5.txt","type":"text/plain","size":44},{"uid":"ddba3ed893217645","name":"Screenshot: Wait for timeout (success)","source":"ddba3ed893217645.png","type":"image/png","size":160629}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759109677511,"stop":1759109678623,"duration":1112},"status":"passed","steps":[],"attachments":[{"uid":"eac6523e291981d8","name":"Page URL","source":"eac6523e291981d8.txt","type":"text/plain","size":44},{"uid":"d12ddef538f664b5","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"d12ddef538f664b5.png","type":"image/png","size":160629}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"97123c843f92b51b","name":"Page URL","source":"97123c843f92b51b.txt","type":"text/plain","size":33},{"uid":"5bf0ddf0774b1a33","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"5bf0ddf0774b1a33.png","type":"image/png","size":160629}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":53,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ac5f7a86888ffa1a","name":"HTTP 200 - GET config","source":"ac5f7a86888ffa1a.txt","type":"text/plain","size":654},{"uid":"3ba940cfd79726fb","name":"HTTP 200 - GET config","source":"3ba940cfd79726fb.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":35,"attachmentsCount":89,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759109678739,"stop":1759109678739,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759109678739,"stop":1759109678740,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759109678740,"stop":1759109679922,"duration":1182},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759109678740,"stop":1759109679922,"duration":1182},"status":"passed","steps":[],"attachments":[{"uid":"711d4463bea2c14f","name":"Executed CLI command","source":"711d4463bea2c14f.txt","type":"text/plain","size":15},{"uid":"4adb5ecc3beeaa44","name":"Executed CLI command output","source":"4adb5ecc3beeaa44.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1759109679923,"stop":1759109679932,"duration":9},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click login button","time":{"start":1759109679924,"stop":1759109679929,"duration":5},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"d550a2174985f25e","name":"Page URL","source":"d550a2174985f25e.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"da5ee9068924d8b9","name":"Page URL","source":"da5ee9068924d8b9.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ddd29507d2661828","name":"log","source":"ddd29507d2661828.txt","type":"text/plain","size":35026}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1759109680120,"stop":1759109680121,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759109680121,"stop":1759109680121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759109680121,"stop":1759109683539,"duration":3418},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759109680121,"stop":1759109683539,"duration":3418},"status":"passed","steps":[],"attachments":[{"uid":"ae960a3fa07d15aa","name":"Cleanup note","source":"ae960a3fa07d15aa.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759109683541,"stop":1759109683542,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759109683543,"stop":1759109683543,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Project Remove Members"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"3665-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"e56868f2ec35d98a.json","parameterValues":[]}