{"uid":"c99035cfcd5e35e5","name":"Admin change member role from Reader to Writer in project via CLI","fullName":"tests.test_cases.tests_cli.test_project_change_member_roles.TestCLIProjectStructureSetup#test_admin_change_reader_to_writer_cli","historyId":"238ad4c581585e2dce3cc4b5a0bc6b18","time":{"start":1760751209980,"stop":1760751209990,"duration":10},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:73: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delay_worker_start","time":{"start":1760751115113,"stop":1760751145114,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1760751115113,"stop":1760751115113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1760751115113,"stop":1760751115113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1760751115113,"stop":1760751115113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1760751115113,"stop":1760751115113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1760751115113,"stop":1760751115113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1760751145114,"stop":1760751145118,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1760751145114,"stop":1760751145114,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1760751145118,"stop":1760751145119,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1760751145118,"stop":1760751147794,"duration":2676},"status":"passed","steps":[],"attachments":[{"uid":"13fc916768d829e6","name":"HTTP 200 - GET config","source":"13fc916768d829e6.txt","type":"text/plain","size":673}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1760751147794,"stop":1760751147794,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1760751147794,"stop":1760751147794,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1760751147794,"stop":1760751147795,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1760751147795,"stop":1760751208994,"duration":61199},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1760751150550,"stop":1760751183710,"duration":33160},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1760751150551,"stop":1760751151707,"duration":1156},"status":"passed","steps":[],"attachments":[{"uid":"a424c83912acee2","name":"Page URL","source":"a424c83912acee2.txt","type":"text/plain","size":33},{"uid":"320031edc4096868","name":"Screenshot: Click signup button (success)","source":"320031edc4096868.png","type":"image/png","size":39018}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1760751151707,"stop":1760751152068,"duration":361},"status":"passed","steps":[],"attachments":[{"uid":"34127b4b10631e19","name":"Page URL","source":"34127b4b10631e19.txt","type":"text/plain","size":216},{"uid":"400494b4ec56b20a","name":"Screenshot: Enter email (success)","source":"400494b4ec56b20a.png","type":"image/png","size":43850}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1760751152069,"stop":1760751152415,"duration":346},"status":"passed","steps":[],"attachments":[{"uid":"7f67e6590bbe842d","name":"Page URL","source":"7f67e6590bbe842d.txt","type":"text/plain","size":216},{"uid":"325b01483bf9be5d","name":"Screenshot: Enter password (success)","source":"325b01483bf9be5d.png","type":"image/png","size":63585}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1760751152415,"stop":1760751154634,"duration":2219},"status":"passed","steps":[],"attachments":[{"uid":"8d2994fba27295a2","name":"Page URL","source":"8d2994fba27295a2.txt","type":"text/plain","size":216},{"uid":"7731ee78293860ab","name":"Screenshot: Click continue button (success)","source":"7731ee78293860ab.png","type":"image/png","size":11162}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1760751154634,"stop":1760751155059,"duration":425},"status":"passed","steps":[],"attachments":[{"uid":"1f447aed2b42f54d","name":"Page URL","source":"1f447aed2b42f54d.txt","type":"text/plain","size":192},{"uid":"3784703f7c569876","name":"HTTP 200 - GET config","source":"3784703f7c569876.txt","type":"text/plain","size":673},{"uid":"acc7310b11bbc15f","name":"Screenshot: Verify that Verify email message displayed (success)","source":"acc7310b11bbc15f.png","type":"image/png","size":28211}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1760751155059,"stop":1760751156840,"duration":1781},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1760751155474,"stop":1760751156648,"duration":1174},"status":"passed","steps":[],"attachments":[{"uid":"923c999ef9ac22d9","name":"Page URL","source":"923c999ef9ac22d9.txt","type":"text/plain","size":182},{"uid":"84a75cf153648c1f","name":"Screenshot: Navigate to URL (success)","source":"84a75cf153648c1f.png","type":"image/png","size":22507}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1760751156840,"stop":1760751159000,"duration":2160},"status":"passed","steps":[],"attachments":[{"uid":"2f1f10605ebb470a","name":"Page URL","source":"2f1f10605ebb470a.txt","type":"text/plain","size":87},{"uid":"fa75281bd9c9dcc3","name":"HTTP 200 - GET config","source":"fa75281bd9c9dcc3.txt","type":"text/plain","size":673},{"uid":"a04d33963378dfe3","name":"Screenshot: Navigate to URL (success)","source":"a04d33963378dfe3.png","type":"image/png","size":88563}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1760751159000,"stop":1760751159103,"duration":103},"status":"passed","steps":[],"attachments":[{"uid":"56822af34be68ad6","name":"Page URL","source":"56822af34be68ad6.txt","type":"text/plain","size":33},{"uid":"bb810380a4c39916","name":"Screenshot: Verify that Auth page displayed (success)","source":"bb810380a4c39916.png","type":"image/png","size":88563}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1760751159104,"stop":1760751161044,"duration":1940},"status":"passed","steps":[],"attachments":[{"uid":"e84f9070c1209aeb","name":"Page URL","source":"e84f9070c1209aeb.txt","type":"text/plain","size":33},{"uid":"df8cc2c857f612af","name":"HTTP 404 - HEAD regression-cgvdrwopoe","source":"df8cc2c857f612af.txt","type":"text/plain","size":179},{"uid":"7c63887c9c614b96","name":"Screenshot: Click login button (success)","source":"7c63887c9c614b96.png","type":"image/png","size":37485}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1760751161044,"stop":1760751162153,"duration":1109},"status":"passed","steps":[],"attachments":[{"uid":"7ca12827ac0aeb52","name":"Page URL","source":"7ca12827ac0aeb52.txt","type":"text/plain","size":362},{"uid":"1982cf4319d631e2","name":"Screenshot: Verify that Signup username page displayed (success)","source":"1982cf4319d631e2.png","type":"image/png","size":37485}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1760751162153,"stop":1760751163014,"duration":861},"status":"passed","steps":[],"attachments":[{"uid":"8bf127f6ffea52c7","name":"Page URL","source":"8bf127f6ffea52c7.txt","type":"text/plain","size":362},{"uid":"ff4fdec9a16527ee","name":"HTTP 404 - HEAD ","source":"ff4fdec9a16527ee.txt","type":"text/plain","size":158},{"uid":"2578a7b878866290","name":"HTTP 404 - HEAD regression-cgvdrwopoe","source":"2578a7b878866290.txt","type":"text/plain","size":179},{"uid":"d87906b5e8f93165","name":"Screenshot: Enter username (success)","source":"d87906b5e8f93165.png","type":"image/png","size":37799}],"parameters":[],"stepsCount":0,"attachmentsCount":4,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1760751163015,"stop":1760751173465,"duration":10450},"status":"passed","steps":[],"attachments":[{"uid":"5647f97681db5f49","name":"Page URL","source":"5647f97681db5f49.txt","type":"text/plain","size":362},{"uid":"27f2c177a4830956","name":"HTTP 200 - GET config","source":"27f2c177a4830956.txt","type":"text/plain","size":673},{"uid":"7152127e7411ef3","name":"Screenshot: Click signup button on Signup username page (success)","source":"7152127e7411ef3.png","type":"image/png","size":28633}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1760751173465,"stop":1760751183624,"duration":10159},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"a019bded6ba51794","name":"Page URL","source":"a019bded6ba51794.txt","type":"text/plain","size":222},{"uid":"c87bd666c533bd53","name":"Screenshot: Verify that User agreement pop up displayed (fail)","source":"c87bd666c533bd53.png","type":"image/png","size":28633}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2bedaa9feeddcc35","name":"Page URL","source":"2bedaa9feeddcc35.txt","type":"text/plain","size":33},{"uid":"f209090658cba32f","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"f209090658cba32f.png","type":"image/png","size":28633}],"parameters":[],"stepsCount":14,"attachmentsCount":34,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1760751186569,"stop":1760751208994,"duration":22425},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1760751186569,"stop":1760751187810,"duration":1241},"status":"passed","steps":[],"attachments":[{"uid":"fe2ff417ea6242ee","name":"Page URL","source":"fe2ff417ea6242ee.txt","type":"text/plain","size":33},{"uid":"c12729e085b790f5","name":"Screenshot: Click signup button (success)","source":"c12729e085b790f5.png","type":"image/png","size":39018}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1760751187811,"stop":1760751188144,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"32644eaa12c62b1d","name":"Page URL","source":"32644eaa12c62b1d.txt","type":"text/plain","size":216},{"uid":"db84724010cfb09b","name":"Screenshot: Enter email (success)","source":"db84724010cfb09b.png","type":"image/png","size":43757}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1760751188144,"stop":1760751188497,"duration":353},"status":"passed","steps":[],"attachments":[{"uid":"860a53e75627107","name":"Page URL","source":"860a53e75627107.txt","type":"text/plain","size":216},{"uid":"36a44c4090655975","name":"Screenshot: Enter password (success)","source":"36a44c4090655975.png","type":"image/png","size":63511}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1760751188497,"stop":1760751191614,"duration":3117},"status":"passed","steps":[],"attachments":[{"uid":"d7cf631d9071e810","name":"Page URL","source":"d7cf631d9071e810.txt","type":"text/plain","size":216},{"uid":"e957ebcf5ad9d9ab","name":"Screenshot: Click continue button (success)","source":"e957ebcf5ad9d9ab.png","type":"image/png","size":11959}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1760751191614,"stop":1760751192045,"duration":431},"status":"passed","steps":[],"attachments":[{"uid":"b3d793156230b287","name":"Page URL","source":"b3d793156230b287.txt","type":"text/plain","size":192},{"uid":"83a0e84153986637","name":"HTTP 200 - GET config","source":"83a0e84153986637.txt","type":"text/plain","size":673},{"uid":"ce0e08d7ed1b72ca","name":"Screenshot: Verify that Verify email message displayed (success)","source":"ce0e08d7ed1b72ca.png","type":"image/png","size":28211}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1760751192045,"stop":1760751194169,"duration":2124},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1760751192877,"stop":1760751193890,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"bf2953c940c2424c","name":"Page URL","source":"bf2953c940c2424c.txt","type":"text/plain","size":182},{"uid":"428d134c9e667544","name":"Screenshot: Navigate to URL (success)","source":"428d134c9e667544.png","type":"image/png","size":22507}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1760751194169,"stop":1760751195899,"duration":1730},"status":"passed","steps":[],"attachments":[{"uid":"ccdf95ea9cb926aa","name":"Page URL","source":"ccdf95ea9cb926aa.txt","type":"text/plain","size":87},{"uid":"82f7d1a2dc8ef1a3","name":"HTTP 200 - GET config","source":"82f7d1a2dc8ef1a3.txt","type":"text/plain","size":673},{"uid":"621cff65b07ca957","name":"Screenshot: Navigate to URL (success)","source":"621cff65b07ca957.png","type":"image/png","size":88563}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1760751195899,"stop":1760751195999,"duration":100},"status":"passed","steps":[],"attachments":[{"uid":"dd2b1b881b132d1","name":"Page URL","source":"dd2b1b881b132d1.txt","type":"text/plain","size":33},{"uid":"8993e9aec6e4bf59","name":"Screenshot: Verify that Auth page displayed (success)","source":"8993e9aec6e4bf59.png","type":"image/png","size":88563}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1760751195999,"stop":1760751197480,"duration":1481},"status":"passed","steps":[],"attachments":[{"uid":"9bdae350a1e3b58","name":"Page URL","source":"9bdae350a1e3b58.txt","type":"text/plain","size":33},{"uid":"1dd87aaf1b0388e","name":"Screenshot: Click login button (success)","source":"1dd87aaf1b0388e.png","type":"image/png","size":37656}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1760751197480,"stop":1760751198575,"duration":1095},"status":"passed","steps":[],"attachments":[{"uid":"31ba6baa49447d7f","name":"Page URL","source":"31ba6baa49447d7f.txt","type":"text/plain","size":362},{"uid":"1a66726a50ce5eab","name":"HTTP 404 - HEAD regression-h2yccjgvwi","source":"1a66726a50ce5eab.txt","type":"text/plain","size":179},{"uid":"f4ea9d010cb3a4f5","name":"Screenshot: Verify that Signup username page displayed (success)","source":"f4ea9d010cb3a4f5.png","type":"image/png","size":37375}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1760751198575,"stop":1760751199410,"duration":835},"status":"passed","steps":[],"attachments":[{"uid":"debc9e52dd33976d","name":"Page URL","source":"debc9e52dd33976d.txt","type":"text/plain","size":362},{"uid":"9df7b2213a0286ab","name":"HTTP 404 - HEAD ","source":"9df7b2213a0286ab.txt","type":"text/plain","size":158},{"uid":"f767fa2b856ed6e4","name":"HTTP 404 - HEAD regression-h2yccjgvwi","source":"f767fa2b856ed6e4.txt","type":"text/plain","size":179},{"uid":"611e5e06939ddf4a","name":"Screenshot: Enter username (success)","source":"611e5e06939ddf4a.png","type":"image/png","size":37689}],"parameters":[],"stepsCount":0,"attachmentsCount":4,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1760751199410,"stop":1760751203189,"duration":3779},"status":"passed","steps":[],"attachments":[{"uid":"4f800bed7d8e2279","name":"Page URL","source":"4f800bed7d8e2279.txt","type":"text/plain","size":362},{"uid":"204d52df1da9ead5","name":"HTTP 200 - GET config","source":"204d52df1da9ead5.txt","type":"text/plain","size":771},{"uid":"57d4a332479c6166","name":"HTTP 200 - GET permissions?uri=blob:","source":"57d4a332479c6166.txt","type":"text/plain","size":182},{"uid":"a0e3bd1d372c3ea6","name":"HTTP 200 - GET incoming","source":"a0e3bd1d372c3ea6.txt","type":"text/plain","size":156},{"uid":"5ea513f0d55b22a","name":"HTTP 200 - GET regression-h2yccjgvwi?include=orgs","source":"5ea513f0d55b22a.txt","type":"text/plain","size":380},{"uid":"d01b9d4e402a845a","name":"HTTP 200 - GET regression-h2yccjgvwi?include=clusters&include=system_role","source":"d01b9d4e402a845a.txt","type":"text/plain","size":408},{"uid":"a7e17fda13e2fa68","name":"HTTP 200 - GET config","source":"a7e17fda13e2fa68.txt","type":"text/plain","size":771},{"uid":"5c16192868b61ac9","name":"HTTP 200 - GET permissions?uri=blob:","source":"5c16192868b61ac9.txt","type":"text/plain","size":182},{"uid":"614522015b5605a7","name":"HTTP 200 - GET regression-h2yccjgvwi?include=orgs","source":"614522015b5605a7.txt","type":"text/plain","size":380},{"uid":"1e2f423f4fca5d70","name":"HTTP 200 - GET regression-h2yccjgvwi?include=clusters&include=system_role","source":"1e2f423f4fca5d70.txt","type":"text/plain","size":408},{"uid":"32f4584e55e52a06","name":"HTTP 200 - GET incoming","source":"32f4584e55e52a06.txt","type":"text/plain","size":156},{"uid":"1d633f296d0118ab","name":"Screenshot: Click signup button on Signup username page (success)","source":"1d633f296d0118ab.png","type":"image/png","size":41373}],"parameters":[],"stepsCount":0,"attachmentsCount":12,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1760751203189,"stop":1760751203311,"duration":122},"status":"passed","steps":[],"attachments":[{"uid":"620625998184df99","name":"Page URL","source":"620625998184df99.txt","type":"text/plain","size":153},{"uid":"ca37210b1d9f77a1","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"ca37210b1d9f77a1.png","type":"image/png","size":47636}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1760751203311,"stop":1760751203947,"duration":636},"status":"passed","steps":[],"attachments":[{"uid":"628292fa38420be6","name":"Page URL","source":"628292fa38420be6.txt","type":"text/plain","size":153},{"uid":"7d7977187144246","name":"Screenshot: Check agreement checkbox (success)","source":"7d7977187144246.png","type":"image/png","size":41913}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1760751203947,"stop":1760751204638,"duration":691},"status":"passed","steps":[],"attachments":[{"uid":"e7d3d8f43ec6045b","name":"Page URL","source":"e7d3d8f43ec6045b.txt","type":"text/plain","size":153},{"uid":"5f369eac15e2c145","name":"Screenshot: Click I Agree button (success)","source":"5f369eac15e2c145.png","type":"image/png","size":42586}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1760751204638,"stop":1760751204713,"duration":75},"status":"passed","steps":[],"attachments":[{"uid":"6f8d0e9b7014c16a","name":"Page URL","source":"6f8d0e9b7014c16a.txt","type":"text/plain","size":44},{"uid":"8515442f9b9a2757","name":"HTTP 204 - PUT profile","source":"8515442f9b9a2757.txt","type":"text/plain","size":253},{"uid":"7c3529b48f7bcbf4","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"7c3529b48f7bcbf4.png","type":"image/png","size":39348}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1760751204713,"stop":1760751207791,"duration":3078},"status":"passed","steps":[],"attachments":[{"uid":"f80ec8c7e832a800","name":"Page URL","source":"f80ec8c7e832a800.txt","type":"text/plain","size":44},{"uid":"f24d00f45d822ae3","name":"Screenshot: Wait for timeout (success)","source":"f24d00f45d822ae3.png","type":"image/png","size":160162}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1760751207791,"stop":1760751208891,"duration":1100},"status":"passed","steps":[],"attachments":[{"uid":"d713357331c25452","name":"Page URL","source":"d713357331c25452.txt","type":"text/plain","size":44},{"uid":"6ef84eab7b7101da","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"6ef84eab7b7101da.png","type":"image/png","size":160162}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"67c5622078de17b0","name":"Page URL","source":"67c5622078de17b0.txt","type":"text/plain","size":33},{"uid":"697cd6f6fa49e117","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"697cd6f6fa49e117.png","type":"image/png","size":160162}],"parameters":[],"stepsCount":19,"attachmentsCount":54,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e06c054dc8196b94","name":"HTTP 200 - GET config","source":"e06c054dc8196b94.txt","type":"text/plain","size":673},{"uid":"4dc4402bd66f3dc","name":"HTTP 200 - GET config","source":"4dc4402bd66f3dc.txt","type":"text/plain","size":673}],"parameters":[],"stepsCount":35,"attachmentsCount":90,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1760751147795,"stop":1760751147795,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1760751208994,"stop":1760751208994,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1760751208994,"stop":1760751208994,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1760751208995,"stop":1760751209980,"duration":985},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1760751208995,"stop":1760751209980,"duration":985},"status":"passed","steps":[],"attachments":[{"uid":"d205fac7d87654b5","name":"Executed CLI command","source":"d205fac7d87654b5.txt","type":"text/plain","size":15},{"uid":"128efea150932d27","name":"Executed CLI command output","source":"128efea150932d27.txt","type":"text/plain","size":28}],"parameters":[],"stepsCount":0,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:73: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1760751209981,"stop":1760751209990,"duration":9},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click login button","time":{"start":1760751209981,"stop":1760751209987,"duration":6},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"8701423c90b8f3e","name":"Page URL","source":"8701423c90b8f3e.txt","type":"text/plain","size":33}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"97a6190def593d84","name":"Page URL","source":"97a6190def593d84.txt","type":"text/plain","size":33}],"parameters":[],"stepsCount":1,"attachmentsCount":2,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"81073a05aa0ed19e","name":"log","source":"81073a05aa0ed19e.txt","type":"text/plain","size":35920}],"parameters":[],"stepsCount":2,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1760751210156,"stop":1760751210156,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760751210156,"stop":1760751210156,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760751210156,"stop":1760751213149,"duration":2993},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1760751210156,"stop":1760751213149,"duration":2993},"status":"passed","steps":[],"attachments":[{"uid":"3ce4c53322037021","name":"Cleanup note","source":"3ce4c53322037021.txt","type":"text/plain","size":29}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1760751213151,"stop":1760751213152,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1760751213152,"stop":1760751213153,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Project Remove Members"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"runnervmzdgdc"},{"name":"thread","value":"3633-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"c99035cfcd5e35e5.json","parameterValues":[]}