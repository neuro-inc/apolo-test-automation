{"uid":"a8367a091a58f76e","name":"Verify User cannot purchase credits via top pane","fullName":"tests.test_cases.tests_ui.test_credits_purchase.TestUICreditsPurchase#test_user_purchase_credits","historyId":"9db4884e512bd7f645eefd6d7ed8d097","time":{"start":1763947957512,"stop":1763948035534,"duration":78022},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nMessage: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/main_page_steps.py:31: in verify_ui_terms_of_agreement_displayed\n    assert await self._pm.main_page.is_user_agreement_title_displayed(), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:133: in ui_signup_new_user_ver_link\n    await self.main_page.verify_ui_terms_of_agreement_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:152: in ui_get_second_user\n    user = await self.ui_signup_new_user_ver_link()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:35: in test_user_purchase_credits\n    second_user = await u2_steps.ui_get_second_user()\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nE   Message: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1763947933287,"stop":1763947933287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1763947933287,"stop":1763947933287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1763947933287,"stop":1763947933287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1763947933287,"stop":1763947933291,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1763947933287,"stop":1763947933287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1763947933287,"stop":1763947933287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1763947933287,"stop":1763947933287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1763947933287,"stop":1763947933287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1763947933292,"stop":1763947935485,"duration":2193},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1763947933292,"stop":1763947933292,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1763947935485,"stop":1763947935486,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1763947935486,"stop":1763947935486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1763947935486,"stop":1763947935486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1763947935486,"stop":1763947935486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1763947935487,"stop":1763947957511,"duration":22024},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1763947936284,"stop":1763947957510,"duration":21226},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1763947936285,"stop":1763947937681,"duration":1396},"status":"passed","steps":[],"attachments":[{"uid":"6996a88d6f4750f7","name":"Page URL","source":"6996a88d6f4750f7.txt","type":"text/plain","size":29},{"uid":"3a28e73f744b2ec4","name":"HTTP 200 - GET config","source":"3a28e73f744b2ec4.txt","type":"text/plain","size":673},{"uid":"aca173227a1b931d","name":"Screenshot: Click signup button (success)","source":"aca173227a1b931d.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1763947937682,"stop":1763947937992,"duration":310},"status":"passed","steps":[],"attachments":[{"uid":"ecc871f5ddb65001","name":"Page URL","source":"ecc871f5ddb65001.txt","type":"text/plain","size":216},{"uid":"ad9c59cc82ffd09e","name":"Screenshot: Enter email (success)","source":"ad9c59cc82ffd09e.png","type":"image/png","size":43305}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1763947937992,"stop":1763947938332,"duration":340},"status":"passed","steps":[],"attachments":[{"uid":"99758cde3a794bc8","name":"Page URL","source":"99758cde3a794bc8.txt","type":"text/plain","size":216},{"uid":"db94b3216c4bf69d","name":"Screenshot: Enter password (success)","source":"db94b3216c4bf69d.png","type":"image/png","size":62585}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1763947938332,"stop":1763947940603,"duration":2271},"status":"passed","steps":[],"attachments":[{"uid":"c164a0455ce35212","name":"Page URL","source":"c164a0455ce35212.txt","type":"text/plain","size":216},{"uid":"f9ce7ef454207ac4","name":"Screenshot: Click continue button (success)","source":"f9ce7ef454207ac4.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1763947940603,"stop":1763947941026,"duration":423},"status":"passed","steps":[],"attachments":[{"uid":"16b292b08b1145c2","name":"Page URL","source":"16b292b08b1145c2.txt","type":"text/plain","size":192},{"uid":"6aac39e145be4ecc","name":"HTTP 200 - GET config","source":"6aac39e145be4ecc.txt","type":"text/plain","size":673},{"uid":"a885bd207ea0fc50","name":"Screenshot: Verify that Verify email message displayed (success)","source":"a885bd207ea0fc50.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1763947941026,"stop":1763947942664,"duration":1638},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1763947941476,"stop":1763947942486,"duration":1010},"status":"passed","steps":[],"attachments":[{"uid":"6d6116b5e93a9c76","name":"Page URL","source":"6d6116b5e93a9c76.txt","type":"text/plain","size":182},{"uid":"aa96e2d9553c1e24","name":"Screenshot: Navigate to URL (success)","source":"aa96e2d9553c1e24.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1763947942664,"stop":1763947944331,"duration":1667},"status":"passed","steps":[],"attachments":[{"uid":"c2eb76fbc211f7c1","name":"Page URL","source":"c2eb76fbc211f7c1.txt","type":"text/plain","size":87},{"uid":"1fae0d43cc00fa24","name":"HTTP 200 - GET config","source":"1fae0d43cc00fa24.txt","type":"text/plain","size":673},{"uid":"3956ac4f65658ab1","name":"Screenshot: Navigate to URL (success)","source":"3956ac4f65658ab1.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1763947944332,"stop":1763947944412,"duration":80},"status":"passed","steps":[],"attachments":[{"uid":"f463171f3943c7c3","name":"Page URL","source":"f463171f3943c7c3.txt","type":"text/plain","size":33},{"uid":"13a1a8fdc7e9d59b","name":"Screenshot: Verify that Auth page displayed (success)","source":"13a1a8fdc7e9d59b.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1763947944413,"stop":1763947946523,"duration":2110},"status":"passed","steps":[],"attachments":[{"uid":"3bc5f84dc1e2a279","name":"Page URL","source":"3bc5f84dc1e2a279.txt","type":"text/plain","size":33},{"uid":"fe0b8c92fcef44e0","name":"HTTP 404 - HEAD regression-cirnhmm2te","source":"fe0b8c92fcef44e0.txt","type":"text/plain","size":179},{"uid":"c65087a6f99d3363","name":"Screenshot: Click login button (success)","source":"c65087a6f99d3363.png","type":"image/png","size":37091}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1763947946523,"stop":1763947947607,"duration":1084},"status":"passed","steps":[],"attachments":[{"uid":"65284237384d66f","name":"Page URL","source":"65284237384d66f.txt","type":"text/plain","size":362},{"uid":"8cf055703e2236d7","name":"Screenshot: Verify that Signup username page displayed (success)","source":"8cf055703e2236d7.png","type":"image/png","size":36972}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1763947947607,"stop":1763947948440,"duration":833},"status":"passed","steps":[],"attachments":[{"uid":"4acdb3bab4e2bc08","name":"Page URL","source":"4acdb3bab4e2bc08.txt","type":"text/plain","size":362},{"uid":"bf5dcebeb3412870","name":"HTTP 404 - HEAD ","source":"bf5dcebeb3412870.txt","type":"text/plain","size":158},{"uid":"1c38cba795cfd89","name":"HTTP 404 - HEAD regression-cirnhmm2te","source":"1c38cba795cfd89.txt","type":"text/plain","size":179},{"uid":"ab4db1b75c3c2746","name":"Screenshot: Enter username (success)","source":"ab4db1b75c3c2746.png","type":"image/png","size":37260}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1763947948440,"stop":1763947951779,"duration":3339},"status":"passed","steps":[],"attachments":[{"uid":"506e492ea016e9f1","name":"Page URL","source":"506e492ea016e9f1.txt","type":"text/plain","size":362},{"uid":"2846e5c9f5ce06b7","name":"HTTP 200 - GET config","source":"2846e5c9f5ce06b7.txt","type":"text/plain","size":771},{"uid":"918b123dcf1b4f73","name":"HTTP 200 - GET permissions?uri=blob:","source":"918b123dcf1b4f73.txt","type":"text/plain","size":182},{"uid":"16e27c58a6f9029","name":"HTTP 200 - GET regression-cirnhmm2te?include=orgs","source":"16e27c58a6f9029.txt","type":"text/plain","size":380},{"uid":"392b0365cf74a4c0","name":"HTTP 200 - GET regression-cirnhmm2te?include=clusters&include=system_role","source":"392b0365cf74a4c0.txt","type":"text/plain","size":408},{"uid":"a9a3a0203015a04","name":"HTTP 200 - GET incoming","source":"a9a3a0203015a04.txt","type":"text/plain","size":156},{"uid":"c2bd23f5be0696f9","name":"HTTP 200 - GET config","source":"c2bd23f5be0696f9.txt","type":"text/plain","size":771},{"uid":"b84ce73e020b87ff","name":"HTTP 200 - GET permissions?uri=blob:","source":"b84ce73e020b87ff.txt","type":"text/plain","size":182},{"uid":"35d4f36369dda16e","name":"HTTP 200 - GET incoming","source":"35d4f36369dda16e.txt","type":"text/plain","size":156},{"uid":"5481bbe57a406b71","name":"HTTP 200 - GET regression-cirnhmm2te?include=clusters&include=system_role","source":"5481bbe57a406b71.txt","type":"text/plain","size":408},{"uid":"e050a42b52e126ac","name":"HTTP 200 - GET regression-cirnhmm2te?include=orgs","source":"e050a42b52e126ac.txt","type":"text/plain","size":380},{"uid":"74502a7c3c183cd1","name":"Screenshot: Click signup button on Signup username page (success)","source":"74502a7c3c183cd1.png","type":"image/png","size":43904}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1763947951779,"stop":1763947951860,"duration":81},"status":"passed","steps":[],"attachments":[{"uid":"ee510f54a4fd89ab","name":"Page URL","source":"ee510f54a4fd89ab.txt","type":"text/plain","size":155},{"uid":"a1fa843db1308378","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"a1fa843db1308378.png","type":"image/png","size":46023}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1763947951860,"stop":1763947952478,"duration":618},"status":"passed","steps":[],"attachments":[{"uid":"103979b06869b5cf","name":"Page URL","source":"103979b06869b5cf.txt","type":"text/plain","size":155},{"uid":"ff369e3c8f177214","name":"Screenshot: Check agreement checkbox (success)","source":"ff369e3c8f177214.png","type":"image/png","size":41434}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1763947952478,"stop":1763947953094,"duration":616},"status":"passed","steps":[],"attachments":[{"uid":"b3f8c4c1b3a06177","name":"Page URL","source":"b3f8c4c1b3a06177.txt","type":"text/plain","size":155},{"uid":"fbd77b731faa0d8e","name":"Screenshot: Click I Agree button (success)","source":"fbd77b731faa0d8e.png","type":"image/png","size":42249}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1763947953094,"stop":1763947953241,"duration":147},"status":"passed","steps":[],"attachments":[{"uid":"fe119b45da705148","name":"Page URL","source":"fe119b45da705148.txt","type":"text/plain","size":155},{"uid":"50f4da75530ed624","name":"HTTP 204 - PUT profile","source":"50f4da75530ed624.txt","type":"text/plain","size":253},{"uid":"192dc3ea3293d033","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"192dc3ea3293d033.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763947953241,"stop":1763947956321,"duration":3080},"status":"passed","steps":[],"attachments":[{"uid":"483ae2e5783db74","name":"Page URL","source":"483ae2e5783db74.txt","type":"text/plain","size":44},{"uid":"f6a408e543c02b13","name":"Screenshot: Wait for timeout (success)","source":"f6a408e543c02b13.png","type":"image/png","size":158569}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1763947956321,"stop":1763947957414,"duration":1093},"status":"passed","steps":[],"attachments":[{"uid":"84737836df541b57","name":"Page URL","source":"84737836df541b57.txt","type":"text/plain","size":44},{"uid":"d2aea54a527389ef","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"d2aea54a527389ef.png","type":"image/png","size":158569}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"56991694797abcaa","name":"Page URL","source":"56991694797abcaa.txt","type":"text/plain","size":29},{"uid":"9ed6615e7b23fdfa","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"9ed6615e7b23fdfa.png","type":"image/png","size":158569}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":55,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f366313e5814d33c","name":"HTTP 200 - GET config","source":"f366313e5814d33c.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":20,"attachmentsCount":56,"hasContent":true,"attachmentStep":false},{"name":"setup","time":{"start":1763947957511,"stop":1763947957512,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1763947957511,"stop":1763947957511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1763947957511,"stop":1763947957511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nMessage: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/main_page_steps.py:31: in verify_ui_terms_of_agreement_displayed\n    assert await self._pm.main_page.is_user_agreement_title_displayed(), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:133: in ui_signup_new_user_ver_link\n    await self.main_page.verify_ui_terms_of_agreement_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:152: in ui_get_second_user\n    user = await self.ui_signup_new_user_ver_link()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:35: in test_user_purchase_credits\n    second_user = await u2_steps.ui_get_second_user()\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nE   Message: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nE   Message: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nE   Message: User agreement popup should be displayed!","steps":[{"name":"Login via UI","time":{"start":1763947957513,"stop":1763947982923,"duration":25410},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1763947957513,"stop":1763947957633,"duration":120},"status":"passed","steps":[],"attachments":[{"uid":"2ac5e60ad6f0ef70","name":"Page URL","source":"2ac5e60ad6f0ef70.txt","type":"text/plain","size":33},{"uid":"c940c8d5613d88c4","name":"Screenshot: Verify that Auth page displayed (success)","source":"c940c8d5613d88c4.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1763947957633,"stop":1763947958705,"duration":1072},"status":"passed","steps":[],"attachments":[{"uid":"fbd97170eb3ec7e8","name":"Page URL","source":"fbd97170eb3ec7e8.txt","type":"text/plain","size":33},{"uid":"a5f8983060d97e46","name":"Screenshot: Click login button (success)","source":"a5f8983060d97e46.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1763947958705,"stop":1763947958805,"duration":100},"status":"passed","steps":[],"attachments":[{"uid":"5c3c141451362a32","name":"Page URL","source":"5c3c141451362a32.txt","type":"text/plain","size":215},{"uid":"8510907f7383a248","name":"Screenshot: Verify that Login page displayed (success)","source":"8510907f7383a248.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1763947958805,"stop":1763947959124,"duration":319},"status":"passed","steps":[],"attachments":[{"uid":"48dc12e06886b8d","name":"Page URL","source":"48dc12e06886b8d.txt","type":"text/plain","size":215},{"uid":"982a0dfcac6f9e65","name":"Screenshot: Enter email (success)","source":"982a0dfcac6f9e65.png","type":"image/png","size":45400}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1763947959124,"stop":1763947959440,"duration":316},"status":"passed","steps":[],"attachments":[{"uid":"f158ab5b20081425","name":"Page URL","source":"f158ab5b20081425.txt","type":"text/plain","size":215},{"uid":"2366a7935af62d9","name":"Screenshot: Enter password (success)","source":"2366a7935af62d9.png","type":"image/png","size":45542}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1763947959440,"stop":1763947981746,"duration":22306},"status":"passed","steps":[],"attachments":[{"uid":"ae0fcf3f3098c55b","name":"Page URL","source":"ae0fcf3f3098c55b.txt","type":"text/plain","size":215},{"uid":"4aa9fd2f4ad86537","name":"HTTP 200 - GET config","source":"4aa9fd2f4ad86537.txt","type":"text/plain","size":771},{"uid":"326c5f41b8d2c2bd","name":"HTTP 200 - GET permissions?uri=blob:","source":"326c5f41b8d2c2bd.txt","type":"text/plain","size":182},{"uid":"2d5aaae772795ec6","name":"HTTP 200 - GET regression-cirnhmm2te?include=orgs","source":"2d5aaae772795ec6.txt","type":"text/plain","size":379},{"uid":"77deeec15ef30dc5","name":"HTTP 200 - GET regression-cirnhmm2te?include=clusters&include=system_role","source":"77deeec15ef30dc5.txt","type":"text/plain","size":407},{"uid":"78f407435368368b","name":"HTTP 200 - GET incoming","source":"78f407435368368b.txt","type":"text/plain","size":156},{"uid":"666d407c12a38427","name":"Screenshot: Click Continue button (success)","source":"666d407c12a38427.png","type":"image/png","size":158569}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1763947981755,"stop":1763947982842,"duration":1087},"status":"passed","steps":[],"attachments":[{"uid":"47215beb96e6d212","name":"Page URL","source":"47215beb96e6d212.txt","type":"text/plain","size":44},{"uid":"6988d8992a5996d3","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"6988d8992a5996d3.png","type":"image/png","size":158569}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"984b5340bb8f6a44","name":"Page URL","source":"984b5340bb8f6a44.txt","type":"text/plain","size":33},{"uid":"39edfb42e7dd49f8","name":"Screenshot: Login via UI (success)","source":"39edfb42e7dd49f8.png","type":"image/png","size":158569}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":21,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Get second user","time":{"start":1763947983703,"stop":1763948035533,"duration":51830},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Get second user\nMessage: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"<<User2>> :: Signup new user via UI and activate email verification link","time":{"start":1763947983704,"stop":1763948035467,"duration":51763},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"<<User2>> :: Click signup button","time":{"start":1763947983704,"stop":1763947984856,"duration":1152},"status":"passed","steps":[],"attachments":[{"uid":"c0dbcca021e1bd91","name":"Page URL","source":"c0dbcca021e1bd91.txt","type":"text/plain","size":29},{"uid":"983a6c1af3ed0012","name":"HTTP 200 - GET config","source":"983a6c1af3ed0012.txt","type":"text/plain","size":673},{"uid":"68676729564ba456","name":"Screenshot: <<User2>> :: Click signup button (success)","source":"68676729564ba456.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter email","time":{"start":1763947984856,"stop":1763947985193,"duration":337},"status":"passed","steps":[],"attachments":[{"uid":"8197d5225803c379","name":"Page URL","source":"8197d5225803c379.txt","type":"text/plain","size":216},{"uid":"f77051955b69f8b0","name":"Screenshot: <<User2>> :: Enter email (success)","source":"f77051955b69f8b0.png","type":"image/png","size":43278}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter password","time":{"start":1763947985193,"stop":1763947985508,"duration":315},"status":"passed","steps":[],"attachments":[{"uid":"285b4165545b3864","name":"Page URL","source":"285b4165545b3864.txt","type":"text/plain","size":216},{"uid":"93737ad85f84ca7d","name":"Screenshot: <<User2>> :: Enter password (success)","source":"93737ad85f84ca7d.png","type":"image/png","size":62565}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click continue button","time":{"start":1763947985509,"stop":1763947987935,"duration":2426},"status":"passed","steps":[],"attachments":[{"uid":"2bddbb72c8aff7f8","name":"Page URL","source":"2bddbb72c8aff7f8.txt","type":"text/plain","size":216},{"uid":"3538ba0eebebf67d","name":"Screenshot: <<User2>> :: Click continue button (success)","source":"3538ba0eebebf67d.png","type":"image/png","size":10741}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Verify email message displayed","time":{"start":1763947987935,"stop":1763947988354,"duration":419},"status":"passed","steps":[],"attachments":[{"uid":"601e15d2a59ae32a","name":"Page URL","source":"601e15d2a59ae32a.txt","type":"text/plain","size":192},{"uid":"42b89c7d827d4fd7","name":"HTTP 200 - GET config","source":"42b89c7d827d4fd7.txt","type":"text/plain","size":673},{"uid":"1edd5a5e13c776e0","name":"Screenshot: <<User2>> :: Verify that Verify email message displayed (success)","source":"1edd5a5e13c776e0.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1763947988354,"stop":1763947990110,"duration":1756},"status":"passed","steps":[{"name":"<<User2>> :: Navigate to URL","time":{"start":1763947988801,"stop":1763947989838,"duration":1037},"status":"passed","steps":[],"attachments":[{"uid":"6eb47cbe7173f73f","name":"Page URL","source":"6eb47cbe7173f73f.txt","type":"text/plain","size":182},{"uid":"8614177209c7a86f","name":"Screenshot: <<User2>> :: Navigate to URL (success)","source":"8614177209c7a86f.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Navigate to URL","time":{"start":1763947990111,"stop":1763947991933,"duration":1822},"status":"passed","steps":[],"attachments":[{"uid":"178dee0f7a06d5db","name":"Page URL","source":"178dee0f7a06d5db.txt","type":"text/plain","size":87},{"uid":"46f0ccab6a8d9c2","name":"HTTP 200 - GET config","source":"46f0ccab6a8d9c2.txt","type":"text/plain","size":673},{"uid":"5f4be3740d26dc20","name":"Screenshot: <<User2>> :: Navigate to URL (success)","source":"5f4be3740d26dc20.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Auth page displayed","time":{"start":1763947991933,"stop":1763947992012,"duration":79},"status":"passed","steps":[],"attachments":[{"uid":"73227f553e30b47","name":"Page URL","source":"73227f553e30b47.txt","type":"text/plain","size":33},{"uid":"499f53673ea2723c","name":"Screenshot: <<User2>> :: Verify that Auth page displayed (success)","source":"499f53673ea2723c.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click login button","time":{"start":1763947992012,"stop":1763947993672,"duration":1660},"status":"passed","steps":[],"attachments":[{"uid":"1a6705cd9af8a208","name":"Page URL","source":"1a6705cd9af8a208.txt","type":"text/plain","size":33},{"uid":"a2193e5409307eb","name":"HTTP 404 - HEAD regression-c1hirirgie","source":"a2193e5409307eb.txt","type":"text/plain","size":179},{"uid":"cf67500f17b92347","name":"Screenshot: <<User2>> :: Click login button (success)","source":"cf67500f17b92347.png","type":"image/png","size":36702}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Signup username page displayed","time":{"start":1763947993672,"stop":1763947994754,"duration":1082},"status":"passed","steps":[],"attachments":[{"uid":"27e43635b3222e77","name":"Page URL","source":"27e43635b3222e77.txt","type":"text/plain","size":362},{"uid":"160dd1bf19444f13","name":"Screenshot: <<User2>> :: Verify that Signup username page displayed (success)","source":"160dd1bf19444f13.png","type":"image/png","size":36702}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter username","time":{"start":1763947994754,"stop":1763947995572,"duration":818},"status":"passed","steps":[],"attachments":[{"uid":"c4f52b8a39a94d4f","name":"Page URL","source":"c4f52b8a39a94d4f.txt","type":"text/plain","size":362},{"uid":"2aca386b61d19dcc","name":"HTTP 404 - HEAD ","source":"2aca386b61d19dcc.txt","type":"text/plain","size":158},{"uid":"adc7da818e3af068","name":"HTTP 404 - HEAD regression-c1hirirgie","source":"adc7da818e3af068.txt","type":"text/plain","size":179},{"uid":"e80c3ea4fb6524fa","name":"Screenshot: <<User2>> :: Enter username (success)","source":"e80c3ea4fb6524fa.png","type":"image/png","size":37026}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click signup button on Signup username page","time":{"start":1763947995572,"stop":1763948025304,"duration":29732},"status":"passed","steps":[],"attachments":[{"uid":"8272648ec288a366","name":"Page URL","source":"8272648ec288a366.txt","type":"text/plain","size":362},{"uid":"54b1b6a8c396ddf0","name":"HTTP 200 - GET config","source":"54b1b6a8c396ddf0.txt","type":"text/plain","size":673},{"uid":"d243c08857dc867","name":"HTTP 200 - GET config","source":"d243c08857dc867.txt","type":"text/plain","size":673},{"uid":"edbfc265b9e65d1f","name":"Screenshot: <<User2>> :: Click signup button on Signup username page (success)","source":"edbfc265b9e65d1f.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that User agreement pop up displayed","time":{"start":1763948025304,"stop":1763948035401,"duration":10097},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"7e0755a240a6f67c","name":"Page URL","source":"7e0755a240a6f67c.txt","type":"text/plain","size":224},{"uid":"357218a337c99fa6","name":"Screenshot: <<User2>> :: Verify that User agreement pop up displayed (fail)","source":"357218a337c99fa6.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a925459b4567927","name":"Page URL","source":"a925459b4567927.txt","type":"text/plain","size":29},{"uid":"9ba8b45be672dd57","name":"Screenshot: <<User2>> :: Signup new user via UI and activate email verification link (fail)","source":"9ba8b45be672dd57.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":36,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b96b14ae0a9be3bf","name":"Page URL","source":"b96b14ae0a9be3bf.txt","type":"text/plain","size":29},{"uid":"8c67c7fa5770e868","name":"Screenshot: <<User2>> :: Get second user (fail)","source":"8c67c7fa5770e868.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":38,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e6431a82f8286128","name":"log","source":"e6431a82f8286128.txt","type":"text/plain","size":41652}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":24,"attachmentsCount":60,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1763948035605,"stop":1763948035605,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1763948035606,"stop":1763948035606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1763948035606,"stop":1763948039335,"duration":3729},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1763948035606,"stop":1763948039335,"duration":3729},"status":"passed","steps":[],"attachments":[{"uid":"82207bbc7ad8c7ff","name":"Cleanup note","source":"82207bbc7ad8c7ff.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1763948039337,"stop":1763948039337,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1763948039338,"stop":1763948039339,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"UI Credits Purchase"},{"name":"parentSuite","value":"UI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUICreditsPurchase"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"3046-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_credits_purchase"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"a8367a091a58f76e.json","parameterValues":[]}