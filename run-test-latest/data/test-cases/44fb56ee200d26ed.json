{"uid":"44fb56ee200d26ed","name":"User with organization and project logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_proj_with_token_cli","historyId":"e450c2e3ba392e5ab19b9253dfdf7207","time":{"start":1756868221896,"stop":1756868342333,"duration":120437},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via API.\n- Create project via API.\n\n### Verify that:\n\n- User can login with Bearer auth token via CLI.\n- Login output in CLI contain valid organization and project.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via API.</li>\n<li>Create project via API.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via CLI.</li>\n<li>Login output in CLI contain valid organization and project.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add project via API and reload page\nMessage: [TimeoutError] during step: Reload page\nMessage: Page.reload: Timeout 30000ms exceeded.\nCall log:\n  - waiting for navigation until \"load\"\n\nNote: Playwright Timeout. Element not found or action took too long.","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:31: in ui_reload_page\n    await self._pm.page.reload()\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:9033: in reload\n    await self._impl_obj.reload(timeout=timeout, waitUntil=wait_until)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:564: in reload\n    await self._channel.send(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TimeoutError: Page.reload: Timeout 30000ms exceeded.\nE   Call log:\nE     - waiting for navigation until \"load\"\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:388: in ui_add_proj_api\n    await self.ui_reload_page()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TimeoutError] during step: Reload page\nE   Message: Page.reload: Timeout 30000ms exceeded.\nE   Call log:\nE     - waiting for navigation until \"load\"\nE   \nE   Note: Playwright Timeout. Element not found or action took too long.\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_cli_login.py:84: in test_login_org_proj_with_token_cli\n    await self._ui_steps.ui_add_proj_api(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add project via API and reload page\nE   Message: [TimeoutError] during step: Reload page\nE   Message: Page.reload: Timeout 30000ms exceeded.\nE   Call log:\nE     - waiting for navigation until \"load\"\nE   \nE   Note: Playwright Timeout. Element not found or action took too long.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1756863088372,"stop":1756863088372,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1756863088372,"stop":1756863088372,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1756863088372,"stop":1756863088372,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1756863088373,"stop":1756863088373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1756863088373,"stop":1756863103373,"duration":15000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1756863088373,"stop":1756863088373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1756863103374,"stop":1756863103374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1756868219295,"stop":1756868219298,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1756868219298,"stop":1756868221319,"duration":2021},"status":"passed","steps":[],"attachments":[{"uid":"987bfa66442b640e","name":"HTTP 200 - GET config","source":"987bfa66442b640e.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1756868219298,"stop":1756868219298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1756868221319,"stop":1756868221320,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1756868221320,"stop":1756868221321,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1756868221320,"stop":1756868221320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1756868221320,"stop":1756868221320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1756868221320,"stop":1756868221320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1756868221321,"stop":1756868221896,"duration":575},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1756868221322,"stop":1756868221896,"duration":574},"status":"passed","steps":[],"attachments":[{"uid":"59f3e5c8c9222a37","name":"Executed CLI command","source":"59f3e5c8c9222a37.txt","type":"text/plain","size":15},{"uid":"a4ff15825580a6c3","name":"Executed CLI command output","source":"a4ff15825580a6c3.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1756868221321,"stop":1756868221321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1756868221321,"stop":1756868221321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via API.\n- Create project via API.\n\n### Verify that:\n\n- User can login with Bearer auth token via CLI.\n- Login output in CLI contain valid organization and project.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via API.</li>\n<li>Create project via API.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via CLI.</li>\n<li>Login output in CLI contain valid organization and project.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add project via API and reload page\nMessage: [TimeoutError] during step: Reload page\nMessage: Page.reload: Timeout 30000ms exceeded.\nCall log:\n  - waiting for navigation until \"load\"\n\nNote: Playwright Timeout. Element not found or action took too long.","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:31: in ui_reload_page\n    await self._pm.page.reload()\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:9033: in reload\n    await self._impl_obj.reload(timeout=timeout, waitUntil=wait_until)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:564: in reload\n    await self._channel.send(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TimeoutError: Page.reload: Timeout 30000ms exceeded.\nE   Call log:\nE     - waiting for navigation until \"load\"\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:388: in ui_add_proj_api\n    await self.ui_reload_page()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TimeoutError] during step: Reload page\nE   Message: Page.reload: Timeout 30000ms exceeded.\nE   Call log:\nE     - waiting for navigation until \"load\"\nE   \nE   Note: Playwright Timeout. Element not found or action took too long.\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_cli_login.py:84: in test_login_org_proj_with_token_cli\n    await self._ui_steps.ui_add_proj_api(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add project via API and reload page\nE   Message: [TimeoutError] during step: Reload page\nE   Message: Page.reload: Timeout 30000ms exceeded.\nE   Call log:\nE     - waiting for navigation until \"load\"\nE   \nE   Note: Playwright Timeout. Element not found or action took too long.","steps":[{"name":"Login via UI","time":{"start":1756868221897,"stop":1756868234286,"duration":12389},"status":"passed","steps":[{"name":"Click login button","time":{"start":1756868221897,"stop":1756868222629,"duration":732},"status":"passed","steps":[],"attachments":[{"uid":"4efca298696ebe1f","name":"Page URL","source":"4efca298696ebe1f.txt","type":"text/plain","size":33},{"uid":"456101f7944e25e7","name":"Screenshot: Click login button (success)","source":"456101f7944e25e7.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1756868222629,"stop":1756868222988,"duration":359},"status":"passed","steps":[],"attachments":[{"uid":"9dba0e84b54dc30c","name":"Page URL","source":"9dba0e84b54dc30c.txt","type":"text/plain","size":33},{"uid":"4680d2c3b2e5971f","name":"Screenshot: Enter email (success)","source":"4680d2c3b2e5971f.png","type":"image/png","size":46419}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1756868222988,"stop":1756868223139,"duration":151},"status":"passed","steps":[],"attachments":[{"uid":"ee8ecdf91e76da35","name":"Page URL","source":"ee8ecdf91e76da35.txt","type":"text/plain","size":215},{"uid":"cc44c6dad94fe95c","name":"Screenshot: Enter password (success)","source":"cc44c6dad94fe95c.png","type":"image/png","size":46413}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1756868223140,"stop":1756868233086,"duration":9946},"status":"passed","steps":[],"attachments":[{"uid":"8f91b10fd41ad0b2","name":"Page URL","source":"8f91b10fd41ad0b2.txt","type":"text/plain","size":215},{"uid":"46b2b005a010556e","name":"HTTP 200 - GET config","source":"46b2b005a010556e.txt","type":"text/plain","size":752},{"uid":"ab03b75ee509a613","name":"HTTP 200 - GET permissions?uri=blob:","source":"ab03b75ee509a613.txt","type":"text/plain","size":163},{"uid":"a9e6435bd8354890","name":"HTTP 200 - GET incoming","source":"a9e6435bd8354890.txt","type":"text/plain","size":137},{"uid":"e7c6550b51c5aa25","name":"HTTP 200 - GET regression-rcyu62ifjr?include=orgs","source":"e7c6550b51c5aa25.txt","type":"text/plain","size":360},{"uid":"17fac08f668f9e9f","name":"HTTP 200 - GET regression-rcyu62ifjr?include=clusters&include=system_role","source":"17fac08f668f9e9f.txt","type":"text/plain","size":388},{"uid":"7291164e13a9768b","name":"Screenshot: Click Continue button (success)","source":"7291164e13a9768b.png","type":"image/png","size":160036}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1756868233096,"stop":1756868234202,"duration":1106},"status":"passed","steps":[],"attachments":[{"uid":"975a5afc88e15354","name":"Page URL","source":"975a5afc88e15354.txt","type":"text/plain","size":44},{"uid":"60fc05fb49129cf0","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"60fc05fb49129cf0.png","type":"image/png","size":160036}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1d8e0c37ab0edad0","name":"Page URL","source":"1d8e0c37ab0edad0.txt","type":"text/plain","size":33},{"uid":"a47ec751e1839e30","name":"Screenshot: Login via UI (success)","source":"a47ec751e1839e30.png","type":"image/png","size":160036}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1756868234286,"stop":1756868250370,"duration":16084},"status":"passed","steps":[{"name":"Reload page","time":{"start":1756868247419,"stop":1756868250297,"duration":2878},"status":"passed","steps":[],"attachments":[{"uid":"d0ca8ece516febd2","name":"Page URL","source":"d0ca8ece516febd2.txt","type":"text/plain","size":44},{"uid":"3f1278e0bc316d33","name":"HTTP 200 - GET config","source":"3f1278e0bc316d33.txt","type":"text/plain","size":1118},{"uid":"8d17ba27d3b091f3","name":"HTTP 200 - GET regression-org-ts0y5ztslquw","source":"8d17ba27d3b091f3.txt","type":"text/plain","size":425},{"uid":"17b705ee8b67d32e","name":"HTTP 200 - GET permissions?uri=blob:","source":"17b705ee8b67d32e.txt","type":"text/plain","size":236},{"uid":"41161bfd4040be60","name":"HTTP 200 - GET incoming","source":"41161bfd4040be60.txt","type":"text/plain","size":137},{"uid":"e4b7bc984830ac57","name":"HTTP 200 - GET regression-rcyu62ifjr?include=orgs","source":"e4b7bc984830ac57.txt","type":"text/plain","size":455},{"uid":"45a0c6b78b59781a","name":"HTTP 200 - GET regression-rcyu62ifjr?include=clusters&include=system_role","source":"45a0c6b78b59781a.txt","type":"text/plain","size":510},{"uid":"bd01ca1e065a0fc9","name":"Screenshot: Reload page (success)","source":"bd01ca1e065a0fc9.png","type":"image/png","size":56944}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"34e3d1c6fe2dd4e","name":"Page URL","source":"34e3d1c6fe2dd4e.txt","type":"text/plain","size":44},{"uid":"b2cf6daf4b00b77f","name":"Screenshot: Add organization via API and reload page (success)","source":"b2cf6daf4b00b77f.png","type":"image/png","size":56944}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Add project via API and reload page","time":{"start":1756868250371,"stop":1756868342332,"duration":91961},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add project via API and reload page\nMessage: [TimeoutError] during step: Reload page\nMessage: Page.reload: Timeout 30000ms exceeded.\nCall log:\n  - waiting for navigation until \"load\"\n\nNote: Playwright Timeout. Element not found or action took too long.\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Reload page","time":{"start":1756868252317,"stop":1756868312327,"duration":60010},"status":"failed","statusMessage":"AssertionError: [TimeoutError] during step: Reload page\nMessage: Page.reload: Timeout 30000ms exceeded.\nCall log:\n  - waiting for navigation until \"load\"\n\nNote: Playwright Timeout. Element not found or action took too long.\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"ec9692ee544f275e","name":"Page URL","source":"ec9692ee544f275e.txt","type":"text/plain","size":81}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c34e06d48f68f2df","name":"Page URL","source":"c34e06d48f68f2df.txt","type":"text/plain","size":81}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"4600aa1127d60f78","name":"log","source":"4600aa1127d60f78.txt","type":"text/plain","size":16266}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":10,"attachmentsCount":30,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1756868342480,"stop":1756868342481,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1756868342481,"stop":1756868346636,"duration":4155},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1756868342481,"stop":1756868346635,"duration":4154},"status":"passed","steps":[{"name":"Delete organisation: regression-org-ts0y5ztslquw","time":{"start":1756868345772,"stop":1756868346601,"duration":829},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1756868346636,"stop":1756868346637,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1756868346637,"stop":1756868346638,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"5923-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"44fb56ee200d26ed.json","parameterValues":[]}