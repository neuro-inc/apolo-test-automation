{"uid":"676ecfa0dcd28785","name":"User verifies admin get-org-users output via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_verify_get_org_users_output_cli","historyId":"988677af3949726c31b3fc9ff77bcbc1","time":{"start":1761062704055,"stop":1761062883142,"duration":179087},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Invite `second user` to organization via **CLI**.\n- Run `apolo admin get-org-users` command via **CLI**.\n\n### Verify that:\n\n- Organization members are listed with valid data in command output.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>apolo admin get-org-users</span> command via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Organization members are listed with valid data in command output.</li>\n</ul></div>","status":"failed","statusMessage":"Failed: Timeout (>240.0s) from pytest-timeout.","statusTrace":".venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:474: in runtest\n    super().runtest()\n.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:721: in inner\n    runner.run(coro, context=context)\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/runners.py:118: in run\n    return self._loop.run_until_complete(task)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:712: in run_until_complete\n    self.run_forever()\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:683: in run_forever\n    self._run_once()\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:2012: in _run_once\n    event_list = self._selector.select(timeout)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/selectors.py:452: in select\n    fd_event_list = self._selector.poll(timeout, max_ev)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   Failed: Timeout (>240.0s) from pytest-timeout.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1761049876290,"stop":1761049876290,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761049876290,"stop":1761049876291,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1761049876291,"stop":1761049891292,"duration":15001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761049876291,"stop":1761049876291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761049876291,"stop":1761049876291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1761049876291,"stop":1761049876291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1761049891292,"stop":1761049891292,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1761062643141,"stop":1761062643145,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1761062643145,"stop":1761062703548,"duration":60403},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1761062643145,"stop":1761062643145,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1761062703548,"stop":1761062703548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1761062703548,"stop":1761062703548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1761062703548,"stop":1761062703548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1761062703548,"stop":1761062703548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1761062703548,"stop":1761062703549,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1761062703549,"stop":1761062703549,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1761062703549,"stop":1761062703549,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1761062703549,"stop":1761062704055,"duration":506},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1761062703550,"stop":1761062704055,"duration":505},"status":"passed","steps":[],"attachments":[{"uid":"7b5906aca552751","name":"Executed CLI command","source":"7b5906aca552751.txt","type":"text/plain","size":15},{"uid":"17ec90692b6fbd45","name":"Executed CLI command output","source":"17ec90692b6fbd45.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Invite `second user` to organization via **CLI**.\n- Run `apolo admin get-org-users` command via **CLI**.\n\n### Verify that:\n\n- Organization members are listed with valid data in command output.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>apolo admin get-org-users</span> command via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Organization members are listed with valid data in command output.</li>\n</ul></div>","status":"failed","statusMessage":"Failed: Timeout (>240.0s) from pytest-timeout.","statusTrace":".venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:474: in runtest\n    super().runtest()\n.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:721: in inner\n    runner.run(coro, context=context)\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/runners.py:118: in run\n    return self._loop.run_until_complete(task)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:712: in run_until_complete\n    self.run_forever()\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:683: in run_forever\n    self._run_once()\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/asyncio/base_events.py:2012: in _run_once\n    event_list = self._selector.select(timeout)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.13.7/x64/lib/python3.13/selectors.py:452: in select\n    fd_event_list = self._selector.poll(timeout, max_ev)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   Failed: Timeout (>240.0s) from pytest-timeout.","steps":[{"name":"Login via UI","time":{"start":1761062704056,"stop":1761062724381,"duration":20325},"status":"passed","steps":[{"name":"Click login button","time":{"start":1761062704056,"stop":1761062714010,"duration":9954},"status":"passed","steps":[],"attachments":[{"uid":"4b067eeec568dbaa","name":"Page URL","source":"4b067eeec568dbaa.txt","type":"text/plain","size":11},{"uid":"a17d3938af8a8e20","name":"HTTP 200 - GET config","source":"a17d3938af8a8e20.txt","type":"text/plain","size":673},{"uid":"b776387ec1d23395","name":"Screenshot: Click login button (success)","source":"b776387ec1d23395.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1761062714010,"stop":1761062714383,"duration":373},"status":"passed","steps":[],"attachments":[{"uid":"13103d432a7cef0e","name":"Page URL","source":"13103d432a7cef0e.txt","type":"text/plain","size":215},{"uid":"8acb31e98233282e","name":"Screenshot: Enter email (success)","source":"8acb31e98233282e.png","type":"image/png","size":46054}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1761062714383,"stop":1761062714716,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"bb4509eba87859de","name":"Page URL","source":"bb4509eba87859de.txt","type":"text/plain","size":215},{"uid":"631c6d479117bf47","name":"Screenshot: Enter password (success)","source":"631c6d479117bf47.png","type":"image/png","size":46194}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1761062714716,"stop":1761062723182,"duration":8466},"status":"passed","steps":[],"attachments":[{"uid":"4cfa32f1e841e135","name":"Page URL","source":"4cfa32f1e841e135.txt","type":"text/plain","size":215},{"uid":"d6a63face5f15ac0","name":"HTTP 200 - GET config","source":"d6a63face5f15ac0.txt","type":"text/plain","size":771},{"uid":"4d5463fe91914523","name":"HTTP 200 - GET permissions?uri=blob:","source":"4d5463fe91914523.txt","type":"text/plain","size":182},{"uid":"79ff8e1cd626a1ab","name":"HTTP 200 - GET incoming","source":"79ff8e1cd626a1ab.txt","type":"text/plain","size":156},{"uid":"13c25d8eb514a0fa","name":"HTTP 200 - GET regression-vu25zf2tpb?include=orgs","source":"13c25d8eb514a0fa.txt","type":"text/plain","size":379},{"uid":"c07b2ad8fa79f4b5","name":"HTTP 200 - GET regression-vu25zf2tpb?include=clusters&include=system_role","source":"c07b2ad8fa79f4b5.txt","type":"text/plain","size":407},{"uid":"25ca0890d077a92d","name":"Screenshot: Click Continue button (success)","source":"25ca0890d077a92d.png","type":"image/png","size":159957}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1761062723192,"stop":1761062724297,"duration":1105},"status":"passed","steps":[],"attachments":[{"uid":"d390aeb59bac5498","name":"Page URL","source":"d390aeb59bac5498.txt","type":"text/plain","size":44},{"uid":"80b12fb137cf3d16","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"80b12fb137cf3d16.png","type":"image/png","size":159957}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"eb43aebbbab805f9","name":"Page URL","source":"eb43aebbbab805f9.txt","type":"text/plain","size":11},{"uid":"5fbbf3aea4b8a9ce","name":"Screenshot: Login via UI (success)","source":"5fbbf3aea4b8a9ce.png","type":"image/png","size":159957}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":18,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Get second user","time":{"start":1761062784790,"stop":1761062814794,"duration":30004},"status":"passed","steps":[],"attachments":[{"uid":"bb4fe99dac922b7e","name":"Page URL","source":"bb4fe99dac922b7e.txt","type":"text/plain","size":11}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Login via UI","time":{"start":1761062814794,"stop":1761062886530,"duration":71736},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: <<User2>> :: Login via UI\nMessage: [TimeoutError] during step: <<User2>> :: Click login button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='about:blank'> selector=\"button:text('Log in')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Log in')\")\n    - waiting for\" https://console.dev.apolo.us/\" navigation to finish...\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"<<User2>> :: Click login button","time":{"start":1761062814795,"stop":1761062874992,"duration":60197},"status":"failed","statusMessage":"AssertionError: [TimeoutError] during step: <<User2>> :: Click login button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='about:blank'> selector=\"button:text('Log in')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Log in')\")\n    - waiting for\" https://console.dev.apolo.us/\" navigation to finish...\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"52d05e91dadb35f7","name":"Page URL","source":"52d05e91dadb35f7.txt","type":"text/plain","size":11}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1b74fa9cffb84685","name":"Page URL","source":"1b74fa9cffb84685.txt","type":"text/plain","size":11}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"16e4513448e99c90","name":"log","source":"16e4513448e99c90.txt","type":"text/plain","size":10335}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":9,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1761062883207,"stop":1761062883207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761062883208,"stop":1761062883208,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761062883208,"stop":1761062886556,"duration":3348},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1761062883208,"stop":1761062886556,"duration":3348},"status":"passed","steps":[],"attachments":[{"uid":"17055af1e5ce434a","name":"Cleanup note","source":"17055af1e5ce434a.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1761062886557,"stop":1761062886557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1761062886558,"stop":1761062886561,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3575-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"676ecfa0dcd28785.json","parameterValues":[]}