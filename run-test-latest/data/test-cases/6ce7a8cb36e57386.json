{"uid":"6ce7a8cb36e57386","name":"Admin create folder via CLI","fullName":"tests.test_cases.tests_cli.test_storage.TestCLIStorage#test_admin_create_folder_cli","historyId":"bf4a1238adbe9ff1ea4ad7ae5ae89cba","time":{"start":1759805879083,"stop":1759805946364,"duration":67281},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- User can create folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:72: in test_admin_create_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1759800743484,"stop":1759800743485,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1759800743484,"stop":1759800743484,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1759800743485,"stop":1759800743486,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1759800743485,"stop":1759800743485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759800743485,"stop":1759800743485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759800743485,"stop":1759800743485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1759800743485,"stop":1759800743485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1759805875943,"stop":1759805875947,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759805875947,"stop":1759805875947,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759805875947,"stop":1759805878376,"duration":2429},"status":"passed","steps":[],"attachments":[{"uid":"70d12e7833358ce0","name":"HTTP 200 - GET config","source":"70d12e7833358ce0.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1759805878376,"stop":1759805878376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759805878377,"stop":1759805878378,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759805878377,"stop":1759805878377,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759805878377,"stop":1759805878377,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759805878377,"stop":1759805878377,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759805878378,"stop":1759805878379,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759805878378,"stop":1759805878378,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759805878379,"stop":1759805879083,"duration":704},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759805878379,"stop":1759805879083,"duration":704},"status":"passed","steps":[],"attachments":[{"uid":"c9fe3d440dd5befe","name":"Executed CLI command","source":"c9fe3d440dd5befe.txt","type":"text/plain","size":15},{"uid":"b84b8b895d8bbbce","name":"Executed CLI command output","source":"b84b8b895d8bbbce.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- User can create folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:72: in test_admin_create_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3'","steps":[{"name":"Login via UI","time":{"start":1759805879084,"stop":1759805885410,"duration":6326},"status":"passed","steps":[{"name":"Click login button","time":{"start":1759805879084,"stop":1759805880212,"duration":1128},"status":"passed","steps":[],"attachments":[{"uid":"cd3309729f13e7b1","name":"Page URL","source":"cd3309729f13e7b1.txt","type":"text/plain","size":33},{"uid":"3ed0fb02f8061cc","name":"Screenshot: Click login button (success)","source":"3ed0fb02f8061cc.png","type":"image/png","size":41531}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759805880212,"stop":1759805880565,"duration":353},"status":"passed","steps":[],"attachments":[{"uid":"b6796c7da5e5cc02","name":"Page URL","source":"b6796c7da5e5cc02.txt","type":"text/plain","size":215},{"uid":"8d75b8a6ce26283","name":"Screenshot: Enter email (success)","source":"8d75b8a6ce26283.png","type":"image/png","size":45880}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759805880565,"stop":1759805880910,"duration":345},"status":"passed","steps":[],"attachments":[{"uid":"4c7b59620126834d","name":"Page URL","source":"4c7b59620126834d.txt","type":"text/plain","size":215},{"uid":"6fe832e32407fede","name":"Screenshot: Enter password (success)","source":"6fe832e32407fede.png","type":"image/png","size":46006}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1759805880910,"stop":1759805884192,"duration":3282},"status":"passed","steps":[],"attachments":[{"uid":"4df98a10f42dcd4e","name":"Page URL","source":"4df98a10f42dcd4e.txt","type":"text/plain","size":215},{"uid":"516b34b6307a0980","name":"HTTP 200 - GET config","source":"516b34b6307a0980.txt","type":"text/plain","size":752},{"uid":"42a9ac37c3dc5975","name":"HTTP 200 - GET permissions?uri=blob:","source":"42a9ac37c3dc5975.txt","type":"text/plain","size":163},{"uid":"87dfbde0abbcb16f","name":"HTTP 200 - GET incoming","source":"87dfbde0abbcb16f.txt","type":"text/plain","size":137},{"uid":"619c2b081234fb3c","name":"HTTP 200 - GET regression-0xhnn48tot?include=orgs","source":"619c2b081234fb3c.txt","type":"text/plain","size":360},{"uid":"2de191e4b5f2bf25","name":"HTTP 200 - GET regression-0xhnn48tot?include=clusters&include=system_role","source":"2de191e4b5f2bf25.txt","type":"text/plain","size":388},{"uid":"fecef32785d3326f","name":"Screenshot: Click Continue button (success)","source":"fecef32785d3326f.png","type":"image/png","size":160194}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759805884204,"stop":1759805885311,"duration":1107},"status":"passed","steps":[],"attachments":[{"uid":"fde41d4c46056c2","name":"Page URL","source":"fde41d4c46056c2.txt","type":"text/plain","size":44},{"uid":"648e618423df1b5d","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"648e618423df1b5d.png","type":"image/png","size":160194}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"dbf74fff0945bb51","name":"Page URL","source":"dbf74fff0945bb51.txt","type":"text/plain","size":33},{"uid":"17397cbaa67045be","name":"Screenshot: Login via UI (success)","source":"17397cbaa67045be.png","type":"image/png","size":160194}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1759805885410,"stop":1759805909094,"duration":23684},"status":"passed","steps":[{"name":"Reload page","time":{"start":1759805901530,"stop":1759805909000,"duration":7470},"status":"passed","steps":[],"attachments":[{"uid":"68f04a9b512bb093","name":"Page URL","source":"68f04a9b512bb093.txt","type":"text/plain","size":44},{"uid":"7345ee13569572f1","name":"HTTP 200 - GET config","source":"7345ee13569572f1.txt","type":"text/plain","size":1118},{"uid":"1ddeaaa1e4635c6f","name":"HTTP 200 - GET permissions?uri=blob:","source":"1ddeaaa1e4635c6f.txt","type":"text/plain","size":236},{"uid":"3b44fbfc9a906702","name":"HTTP 200 - GET regression-0xhnn48tot?include=orgs","source":"3b44fbfc9a906702.txt","type":"text/plain","size":455},{"uid":"add41fa3ffcf1218","name":"HTTP 200 - GET regression-0xhnn48tot?include=clusters&include=system_role","source":"add41fa3ffcf1218.txt","type":"text/plain","size":510},{"uid":"627fdf2a4e777d84","name":"HTTP 200 - GET tags","source":"627fdf2a4e777d84.txt","type":"text/plain","size":848},{"uid":"9959ce0bed860ff","name":"HTTP 200 - GET regression-org-rxj50qnul983","source":"9959ce0bed860ff.txt","type":"text/plain","size":425},{"uid":"bd9593b3f75f530","name":"HTTP 200 - GET incoming","source":"bd9593b3f75f530.txt","type":"text/plain","size":137},{"uid":"b8ad3a2f3a38cd32","name":"Screenshot: Reload page (success)","source":"b8ad3a2f3a38cd32.png","type":"image/png","size":58914}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8df64f9243be9b28","name":"Page URL","source":"8df64f9243be9b28.txt","type":"text/plain","size":44},{"uid":"526c4af9b8b2e726","name":"Screenshot: Add organization via API and reload page (success)","source":"526c4af9b8b2e726.png","type":"image/png","size":58914}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1759805909094,"stop":1759805909988,"duration":894},"status":"passed","steps":[],"attachments":[{"uid":"fe5917d8c056c12f","name":"Executed CLI command","source":"fe5917d8c056c12f.txt","type":"text/plain","size":1114},{"uid":"c232890ed1ab5c19","name":"Executed CLI command output","source":"c232890ed1ab5c19.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1759805909988,"stop":1759805945420,"duration":35432},"status":"passed","steps":[],"attachments":[{"uid":"facde474f8d8a3c2","name":"Executed CLI command","source":"facde474f8d8a3c2.txt","type":"text/plain","size":114},{"uid":"eef61a8ec9660beb","name":"Executed CLI command output","source":"eef61a8ec9660beb.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create folder via CLI","time":{"start":1759805945420,"stop":1759805946364,"duration":944},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-rxj50qnul983/regression-proj-m2nbxazgx3'\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"cf61c1d2b3a2c4ba","name":"Executed CLI command","source":"cf61c1d2b3a2c4ba.txt","type":"text/plain","size":37},{"uid":"5e47dfe126ea1f7","name":"Executed CLI command output","source":"5e47dfe126ea1f7.txt","type":"text/plain","size":218}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e2d47b60087e60a","name":"log","source":"e2d47b60087e60a.txt","type":"text/plain","size":39345}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":35,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1759805946379,"stop":1759805946379,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759805946380,"stop":1759805946380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759805946380,"stop":1759805981449,"duration":35069},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759805946380,"stop":1759805981449,"duration":35069},"status":"passed","steps":[{"name":"Delete organisation: regression-org-rxj50qnul983","time":{"start":1759805949984,"stop":1759805981404,"duration":31420},"status":"passed","steps":[{"name":"Delete project: regression-proj-m2nbxazgx3","time":{"start":1759805950062,"stop":1759805980219,"duration":30157},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759805981449,"stop":1759805981450,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759805981451,"stop":1759805981451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Storage"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIStorage"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3596-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_storage"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"6ce7a8cb36e57386.json","parameterValues":[]}