{"uid":"e115af0f6a7ab39d","name":"Verify User cannot purchase credits via top pane","fullName":"tests.test_cases.tests_ui.test_credits_purchase.TestUICreditsPurchase#test_user_purchase_credits","historyId":"9db4884e512bd7f645eefd6d7ed8d097","time":{"start":1764034364160,"stop":1764034364167,"duration":7},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:726: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:33: in test_user_purchase_credits\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1764034311174,"stop":1764034311174,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1764034311174,"stop":1764034311174,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764034311174,"stop":1764034311174,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1764034311174,"stop":1764034311174,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1764034311174,"stop":1764034311174,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764034311174,"stop":1764034311174,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1764034311174,"stop":1764034311174,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1764034311175,"stop":1764034311179,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1764034311179,"stop":1764034311179,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1764034311179,"stop":1764034312806,"duration":1627},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1764034312806,"stop":1764034312807,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1764034312807,"stop":1764034312808,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1764034312807,"stop":1764034312807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1764034312807,"stop":1764034312807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1764034312808,"stop":1764034364159,"duration":51351},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1764034313383,"stop":1764034343671,"duration":30288},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1764034313384,"stop":1764034343614,"duration":30230},"status":"failed","statusMessage":"AssertionError: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"8620ec9856a431f4","name":"Page URL","source":"8620ec9856a431f4.txt","type":"text/plain","size":29},{"uid":"a74a119c3c1080b5","name":"HTTP 200 - GET config","source":"a74a119c3c1080b5.txt","type":"text/plain","size":673},{"uid":"b48aecc507c00e9d","name":"HTTP 200 - GET config","source":"b48aecc507c00e9d.txt","type":"text/plain","size":673},{"uid":"7e695b64b2cc7905","name":"Screenshot: Click signup button (fail)","source":"7e695b64b2cc7905.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"400c7ea88c231526","name":"Page URL","source":"400c7ea88c231526.txt","type":"text/plain","size":29},{"uid":"b38fccc99444771c","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"b38fccc99444771c.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1764034344300,"stop":1764034364159,"duration":19859},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1764034344300,"stop":1764034345544,"duration":1244},"status":"passed","steps":[],"attachments":[{"uid":"a770d3a1842b9597","name":"Page URL","source":"a770d3a1842b9597.txt","type":"text/plain","size":29},{"uid":"a6dc2b7b74da016","name":"HTTP 200 - GET config","source":"a6dc2b7b74da016.txt","type":"text/plain","size":673},{"uid":"ff0b983cc22f6923","name":"Screenshot: Click signup button (success)","source":"ff0b983cc22f6923.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1764034345544,"stop":1764034345860,"duration":316},"status":"passed","steps":[],"attachments":[{"uid":"b5add82264e50087","name":"Page URL","source":"b5add82264e50087.txt","type":"text/plain","size":216},{"uid":"b554834655af3a70","name":"Screenshot: Enter email (success)","source":"b554834655af3a70.png","type":"image/png","size":43819}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1764034345860,"stop":1764034346197,"duration":337},"status":"passed","steps":[],"attachments":[{"uid":"15cb26ac744ee534","name":"Page URL","source":"15cb26ac744ee534.txt","type":"text/plain","size":216},{"uid":"5969224653e8f1b4","name":"Screenshot: Enter password (success)","source":"5969224653e8f1b4.png","type":"image/png","size":63053}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1764034346197,"stop":1764034347972,"duration":1775},"status":"passed","steps":[],"attachments":[{"uid":"ab549090b7c35112","name":"Page URL","source":"ab549090b7c35112.txt","type":"text/plain","size":216},{"uid":"41df75bab6289692","name":"Screenshot: Click continue button (success)","source":"41df75bab6289692.png","type":"image/png","size":10741}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1764034347972,"stop":1764034349041,"duration":1069},"status":"passed","steps":[],"attachments":[{"uid":"4ea2277a91580e4e","name":"Page URL","source":"4ea2277a91580e4e.txt","type":"text/plain","size":192},{"uid":"c93d62401f076524","name":"HTTP 200 - GET config","source":"c93d62401f076524.txt","type":"text/plain","size":673},{"uid":"4aa1a725e9166987","name":"Screenshot: Verify that Verify email message displayed (success)","source":"4aa1a725e9166987.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1764034349041,"stop":1764034350647,"duration":1606},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1764034349521,"stop":1764034350442,"duration":921},"status":"passed","steps":[],"attachments":[{"uid":"c3f1af9e4dc48db5","name":"Page URL","source":"c3f1af9e4dc48db5.txt","type":"text/plain","size":182},{"uid":"b21111fb37690b3a","name":"Screenshot: Navigate to URL (success)","source":"b21111fb37690b3a.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1764034350647,"stop":1764034352137,"duration":1490},"status":"passed","steps":[],"attachments":[{"uid":"9c5606eda9d343f4","name":"Page URL","source":"9c5606eda9d343f4.txt","type":"text/plain","size":87},{"uid":"afa49c1f8d25e47d","name":"HTTP 200 - GET config","source":"afa49c1f8d25e47d.txt","type":"text/plain","size":673},{"uid":"ae49e491ea0207bd","name":"Screenshot: Navigate to URL (success)","source":"ae49e491ea0207bd.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1764034352137,"stop":1764034352214,"duration":77},"status":"passed","steps":[],"attachments":[{"uid":"bca996c72c86f45f","name":"Page URL","source":"bca996c72c86f45f.txt","type":"text/plain","size":33},{"uid":"474dc9cc602ff446","name":"Screenshot: Verify that Auth page displayed (success)","source":"474dc9cc602ff446.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1764034352214,"stop":1764034353679,"duration":1465},"status":"passed","steps":[],"attachments":[{"uid":"4e47cf54bce3d5c2","name":"Page URL","source":"4e47cf54bce3d5c2.txt","type":"text/plain","size":33},{"uid":"da2163670177f62b","name":"Screenshot: Click login button (success)","source":"da2163670177f62b.png","type":"image/png","size":37312}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1764034353679,"stop":1764034354757,"duration":1078},"status":"passed","steps":[],"attachments":[{"uid":"d16902b49de6b431","name":"Page URL","source":"d16902b49de6b431.txt","type":"text/plain","size":362},{"uid":"168960ab190b5b48","name":"HTTP 404 - HEAD regression-7o99x6yusz","source":"168960ab190b5b48.txt","type":"text/plain","size":179},{"uid":"7b78fcfe818a7047","name":"Screenshot: Verify that Signup username page displayed (success)","source":"7b78fcfe818a7047.png","type":"image/png","size":37439}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1764034354757,"stop":1764034355576,"duration":819},"status":"passed","steps":[],"attachments":[{"uid":"a503e9c4540a826d","name":"Page URL","source":"a503e9c4540a826d.txt","type":"text/plain","size":362},{"uid":"4feb4e669879afac","name":"HTTP 404 - HEAD ","source":"4feb4e669879afac.txt","type":"text/plain","size":158},{"uid":"767e01fc6d4f4c38","name":"HTTP 404 - HEAD regression-7o99x6yusz","source":"767e01fc6d4f4c38.txt","type":"text/plain","size":179},{"uid":"f402c4d5f65721a2","name":"Screenshot: Enter username (success)","source":"f402c4d5f65721a2.png","type":"image/png","size":37753}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1764034355576,"stop":1764034358446,"duration":2870},"status":"passed","steps":[],"attachments":[{"uid":"856a088ad0be3198","name":"Page URL","source":"856a088ad0be3198.txt","type":"text/plain","size":362},{"uid":"bb037c1716626e6","name":"HTTP 200 - GET config","source":"bb037c1716626e6.txt","type":"text/plain","size":771},{"uid":"1f64df172ecfc2c5","name":"HTTP 200 - GET permissions?uri=blob:","source":"1f64df172ecfc2c5.txt","type":"text/plain","size":182},{"uid":"516f3f6da8146f9a","name":"HTTP 200 - GET incoming","source":"516f3f6da8146f9a.txt","type":"text/plain","size":156},{"uid":"4eedb446800418b1","name":"HTTP 200 - GET regression-7o99x6yusz?include=clusters&include=system_role","source":"4eedb446800418b1.txt","type":"text/plain","size":408},{"uid":"51eb6813501d34f7","name":"HTTP 200 - GET regression-7o99x6yusz?include=orgs","source":"51eb6813501d34f7.txt","type":"text/plain","size":380},{"uid":"5bad471b8b98eea3","name":"HTTP 200 - GET config","source":"5bad471b8b98eea3.txt","type":"text/plain","size":771},{"uid":"31512c9a3ef36367","name":"HTTP 200 - GET permissions?uri=blob:","source":"31512c9a3ef36367.txt","type":"text/plain","size":182},{"uid":"da2945e32ceb37d7","name":"HTTP 200 - GET regression-7o99x6yusz?include=clusters&include=system_role","source":"da2945e32ceb37d7.txt","type":"text/plain","size":408},{"uid":"3ac5c9a76f4d8956","name":"HTTP 200 - GET incoming","source":"3ac5c9a76f4d8956.txt","type":"text/plain","size":156},{"uid":"197d0da22d190b63","name":"HTTP 200 - GET regression-7o99x6yusz?include=orgs","source":"197d0da22d190b63.txt","type":"text/plain","size":380},{"uid":"5106597110a565d8","name":"Screenshot: Click signup button on Signup username page (success)","source":"5106597110a565d8.png","type":"image/png","size":38952}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1764034358446,"stop":1764034358513,"duration":67},"status":"passed","steps":[],"attachments":[{"uid":"c1c879a74b21385c","name":"Page URL","source":"c1c879a74b21385c.txt","type":"text/plain","size":151},{"uid":"4a3cbcb11b9c4126","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"4a3cbcb11b9c4126.png","type":"image/png","size":45446}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1764034358514,"stop":1764034359132,"duration":618},"status":"passed","steps":[],"attachments":[{"uid":"568a0f884c850381","name":"Page URL","source":"568a0f884c850381.txt","type":"text/plain","size":151},{"uid":"f2e504396573113f","name":"Screenshot: Check agreement checkbox (success)","source":"f2e504396573113f.png","type":"image/png","size":41963}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1764034359132,"stop":1764034359749,"duration":617},"status":"passed","steps":[],"attachments":[{"uid":"90645d6fb15b9e39","name":"Page URL","source":"90645d6fb15b9e39.txt","type":"text/plain","size":151},{"uid":"a6c65a9c5b9ff739","name":"Screenshot: Click I Agree button (success)","source":"a6c65a9c5b9ff739.png","type":"image/png","size":42772}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1764034359749,"stop":1764034359888,"duration":139},"status":"passed","steps":[],"attachments":[{"uid":"325014775b458861","name":"Page URL","source":"325014775b458861.txt","type":"text/plain","size":151},{"uid":"77ca00f7bb4acec8","name":"HTTP 204 - PUT profile","source":"77ca00f7bb4acec8.txt","type":"text/plain","size":253},{"uid":"f1b8fdf6047fda9e","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"f1b8fdf6047fda9e.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1764034359888,"stop":1764034362970,"duration":3082},"status":"passed","steps":[],"attachments":[{"uid":"f8ad17df8ebb7d0b","name":"Page URL","source":"f8ad17df8ebb7d0b.txt","type":"text/plain","size":44},{"uid":"ac36f5bdc47e0fb6","name":"Screenshot: Wait for timeout (success)","source":"ac36f5bdc47e0fb6.png","type":"image/png","size":161031}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1764034362971,"stop":1764034364066,"duration":1095},"status":"passed","steps":[],"attachments":[{"uid":"47aba819886c7025","name":"Page URL","source":"47aba819886c7025.txt","type":"text/plain","size":44},{"uid":"c73d955479ff2a45","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"c73d955479ff2a45.png","type":"image/png","size":161031}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"fa480fe328122185","name":"Page URL","source":"fa480fe328122185.txt","type":"text/plain","size":29},{"uid":"ee59eb2835a3b6c7","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"ee59eb2835a3b6c7.png","type":"image/png","size":161031}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":55,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":61,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1764034364159,"stop":1764034364159,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1764034364159,"stop":1764034364159,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1764034364160,"stop":1764034364160,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:726: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:33: in test_user_purchase_credits\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1764034364161,"stop":1764034364166,"duration":5},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Verify that Auth page displayed","time":{"start":1764034364161,"stop":1764034364164,"duration":3},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"4efdd7282ce7421f","name":"Page URL","source":"4efdd7282ce7421f.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"88c317c17b5c87f","name":"Page URL","source":"88c317c17b5c87f.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5c54669e3abba89d","name":"log","source":"5c54669e3abba89d.txt","type":"text/plain","size":25279}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1764034364266,"stop":1764034364266,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1764034364266,"stop":1764034364266,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1764034364266,"stop":1764034368295,"duration":4029},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1764034364266,"stop":1764034368295,"duration":4029},"status":"passed","steps":[],"attachments":[{"uid":"b0d2055261b35a69","name":"Cleanup note","source":"b0d2055261b35a69.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1764034368296,"stop":1764034368297,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1764034368297,"stop":1764034368298,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"UI Tests"},{"name":"suite","value":"UI Credits Purchase"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUICreditsPurchase"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"3054-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_credits_purchase"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"e115af0f6a7ab39d.json","parameterValues":[]}