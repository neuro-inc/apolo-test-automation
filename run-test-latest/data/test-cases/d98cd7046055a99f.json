{"uid":"d98cd7046055a99f","name":"User with organization and project logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_proj_with_token_cli","historyId":"e450c2e3ba392e5ab19b9253dfdf7207","time":{"start":1759895661654,"stop":1759895720214,"duration":58560},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via API.\n- Create project via API.\n\n### Verify that:\n\n- User can login with Bearer auth token via CLI.\n- Login output in CLI contain valid organization and project.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via API.</li>\n<li>Create project via API.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via CLI.</li>\n<li>Login output in CLI contain valid organization and project.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1759895658752,"stop":1759895658756,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759895658756,"stop":1759895658756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759895658756,"stop":1759895661113,"duration":2357},"status":"passed","steps":[],"attachments":[{"uid":"8714cf98c7fc2602","name":"HTTP 200 - GET config","source":"8714cf98c7fc2602.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"users_manager","time":{"start":1759895661113,"stop":1759895661113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1759895661113,"stop":1759895661113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759895661114,"stop":1759895661114,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759895661114,"stop":1759895661115,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759895661114,"stop":1759895661114,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759895661115,"stop":1759895661115,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759895661115,"stop":1759895661115,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759895661115,"stop":1759895661653,"duration":538},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759895661115,"stop":1759895661653,"duration":538},"status":"passed","steps":[],"attachments":[{"uid":"fcce22327a7543af","name":"Executed CLI command","source":"fcce22327a7543af.txt","type":"text/plain","size":15},{"uid":"37489f5b789f2ba0","name":"Executed CLI command output","source":"37489f5b789f2ba0.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via API.\n- Create project via API.\n\n### Verify that:\n\n- User can login with Bearer auth token via CLI.\n- Login output in CLI contain valid organization and project.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via API.</li>\n<li>Create project via API.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via CLI.</li>\n<li>Login output in CLI contain valid organization and project.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1759895661654,"stop":1759895668214,"duration":6560},"status":"passed","steps":[{"name":"Click login button","time":{"start":1759895661654,"stop":1759895662798,"duration":1144},"status":"passed","steps":[],"attachments":[{"uid":"f9a33937cbb46f3","name":"Page URL","source":"f9a33937cbb46f3.txt","type":"text/plain","size":33},{"uid":"cc9054d3fd9cd307","name":"Screenshot: Click login button (success)","source":"cc9054d3fd9cd307.png","type":"image/png","size":41616}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759895662798,"stop":1759895663130,"duration":332},"status":"passed","steps":[],"attachments":[{"uid":"5d383f12423f9760","name":"Page URL","source":"5d383f12423f9760.txt","type":"text/plain","size":215},{"uid":"267f794262a5a06f","name":"Screenshot: Enter email (success)","source":"267f794262a5a06f.png","type":"image/png","size":45912}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759895663130,"stop":1759895663463,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"85b4d09771da859e","name":"Page URL","source":"85b4d09771da859e.txt","type":"text/plain","size":215},{"uid":"30f424fe65fd13d8","name":"Screenshot: Enter password (success)","source":"30f424fe65fd13d8.png","type":"image/png","size":46039}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1759895663464,"stop":1759895667016,"duration":3552},"status":"passed","steps":[],"attachments":[{"uid":"cdbf9d5684c8bcfd","name":"Page URL","source":"cdbf9d5684c8bcfd.txt","type":"text/plain","size":215},{"uid":"db32c0b774f76213","name":"HTTP 200 - GET config","source":"db32c0b774f76213.txt","type":"text/plain","size":752},{"uid":"2f20c9daf2a5f0f5","name":"HTTP 200 - GET permissions?uri=blob:","source":"2f20c9daf2a5f0f5.txt","type":"text/plain","size":163},{"uid":"2ea42ebb7b22121f","name":"HTTP 200 - GET regression-i4nru4pyb0?include=orgs","source":"2ea42ebb7b22121f.txt","type":"text/plain","size":360},{"uid":"15843e92d52115aa","name":"HTTP 200 - GET incoming","source":"15843e92d52115aa.txt","type":"text/plain","size":137},{"uid":"d9cbde8b45eecc5a","name":"HTTP 200 - GET regression-i4nru4pyb0?include=clusters&include=system_role","source":"d9cbde8b45eecc5a.txt","type":"text/plain","size":388},{"uid":"c1c2ba94d2a1c5e1","name":"Screenshot: Click Continue button (success)","source":"c1c2ba94d2a1c5e1.png","type":"image/png","size":159517}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759895667026,"stop":1759895668131,"duration":1105},"status":"passed","steps":[],"attachments":[{"uid":"af4ce0ed01d28b75","name":"Page URL","source":"af4ce0ed01d28b75.txt","type":"text/plain","size":44},{"uid":"479cba39364103a1","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"479cba39364103a1.png","type":"image/png","size":159517}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f3256b1f478c7811","name":"Page URL","source":"f3256b1f478c7811.txt","type":"text/plain","size":33},{"uid":"76d8d1480bfac381","name":"Screenshot: Login via UI (success)","source":"76d8d1480bfac381.png","type":"image/png","size":159517}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1759895668214,"stop":1759895682330,"duration":14116},"status":"passed","steps":[{"name":"Reload page","time":{"start":1759895679328,"stop":1759895682250,"duration":2922},"status":"passed","steps":[],"attachments":[{"uid":"b6e514b5bea24f5e","name":"Page URL","source":"b6e514b5bea24f5e.txt","type":"text/plain","size":44},{"uid":"c9a4760b8968e5ef","name":"HTTP 200 - GET config","source":"c9a4760b8968e5ef.txt","type":"text/plain","size":1118},{"uid":"7e8416d4210ace9b","name":"HTTP 200 - GET permissions?uri=blob:","source":"7e8416d4210ace9b.txt","type":"text/plain","size":236},{"uid":"ba06a55291c7b274","name":"HTTP 200 - GET regression-i4nru4pyb0?include=clusters&include=system_role","source":"ba06a55291c7b274.txt","type":"text/plain","size":510},{"uid":"f54db342fda38ae3","name":"HTTP 200 - GET regression-org-23wrdlcc6spt","source":"f54db342fda38ae3.txt","type":"text/plain","size":425},{"uid":"4d1a4a4f5ced4342","name":"HTTP 200 - GET incoming","source":"4d1a4a4f5ced4342.txt","type":"text/plain","size":137},{"uid":"bc762eb7fe2b9e8d","name":"HTTP 200 - GET regression-i4nru4pyb0?include=orgs","source":"bc762eb7fe2b9e8d.txt","type":"text/plain","size":455},{"uid":"c5d63d39f0e8d841","name":"HTTP 200 - GET tags","source":"c5d63d39f0e8d841.txt","type":"text/plain","size":848},{"uid":"7667452d688644f8","name":"Screenshot: Reload page (success)","source":"7667452d688644f8.png","type":"image/png","size":58234}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3752b3ae62d9a4e4","name":"Page URL","source":"3752b3ae62d9a4e4.txt","type":"text/plain","size":44},{"uid":"1101c6b5b9d6c1b8","name":"Screenshot: Add organization via API and reload page (success)","source":"1101c6b5b9d6c1b8.png","type":"image/png","size":58234}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Add project via API and reload page","time":{"start":1759895682330,"stop":1759895719362,"duration":37032},"status":"passed","steps":[{"name":"Reload page","time":{"start":1759895716370,"stop":1759895719263,"duration":2893},"status":"passed","steps":[],"attachments":[{"uid":"d1a5315efe81d491","name":"Page URL","source":"d1a5315efe81d491.txt","type":"text/plain","size":81},{"uid":"af17a3542f9577cc","name":"HTTP 200 - GET config","source":"af17a3542f9577cc.txt","type":"text/plain","size":1118},{"uid":"257a2841d726fc4d","name":"HTTP 200 - GET permissions?uri=blob:","source":"257a2841d726fc4d.txt","type":"text/plain","size":236},{"uid":"b7cb3e23d335dc26","name":"HTTP 200 - GET incoming","source":"b7cb3e23d335dc26.txt","type":"text/plain","size":137},{"uid":"357ee0350e90745e","name":"HTTP 200 - GET regression-i4nru4pyb0?include=orgs","source":"357ee0350e90745e.txt","type":"text/plain","size":455},{"uid":"deed6c00a89b1bb3","name":"HTTP 200 - GET regression-org-23wrdlcc6spt","source":"deed6c00a89b1bb3.txt","type":"text/plain","size":425},{"uid":"ca61c798722cec26","name":"HTTP 200 - GET regression-i4nru4pyb0?include=clusters&include=system_role","source":"ca61c798722cec26.txt","type":"text/plain","size":510},{"uid":"1614b5749991e3d4","name":"HTTP 200 - GET instances?org=regression-org-23wrdlcc6spt&project=regression-proj-iumu4anbf3&cluster=default&size=100","source":"1614b5749991e3d4.txt","type":"text/plain","size":271},{"uid":"7cb2d3c3433efcd9","name":"HTTP 200 - GET templates","source":"7cb2d3c3433efcd9.txt","type":"text/plain","size":1127},{"uid":"6cbb1c5c9e299761","name":"HTTP 200 - GET tags","source":"6cbb1c5c9e299761.txt","type":"text/plain","size":848},{"uid":"332993b9a0677401","name":"HTTP 200 - GET templates?page=1&size=50","source":"332993b9a0677401.txt","type":"text/plain","size":1142},{"uid":"7ea5493b71470944","name":"Screenshot: Reload page (success)","source":"7ea5493b71470944.png","type":"image/png","size":156834}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5a1d31af64a70b44","name":"Page URL","source":"5a1d31af64a70b44.txt","type":"text/plain","size":81},{"uid":"befa1d51d7e55866","name":"Screenshot: Add project via API and reload page (success)","source":"befa1d51d7e55866.png","type":"image/png","size":156834}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":14,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1759895719363,"stop":1759895720213,"duration":850},"status":"passed","steps":[],"attachments":[{"uid":"5ba29d940dcc6bbb","name":"Executed CLI command","source":"5ba29d940dcc6bbb.txt","type":"text/plain","size":1114},{"uid":"cbbf02a2cf66673d","name":"Executed CLI command output","source":"cbbf02a2cf66673d.txt","type":"text/plain","size":286}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1759895720213,"stop":1759895720213,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"b3b5fa57ca701d24","name":"Executed CLI command","source":"b3b5fa57ca701d24.txt","type":"text/plain","size":1114},{"uid":"59e35d098f1542ca","name":"Executed CLI command output","source":"59e35d098f1542ca.txt","type":"text/plain","size":286}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"76d5e3b5039e2f7f","name":"log","source":"76d5e3b5039e2f7f.txt","type":"text/plain","size":26808}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":47,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1759895720215,"stop":1759895720215,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759895720215,"stop":1759895726090,"duration":5875},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759895720215,"stop":1759895726090,"duration":5875},"status":"passed","steps":[{"name":"Delete organisation: regression-org-23wrdlcc6spt","time":{"start":1759895723779,"stop":1759895726040,"duration":2261},"status":"passed","steps":[{"name":"Delete project: regression-proj-iumu4anbf3","time":{"start":1759895725017,"stop":1759895725132,"duration":115},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1759895720215,"stop":1759895720215,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759895726091,"stop":1759895726092,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759895726093,"stop":1759895726094,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Login"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3650-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":58,"unknown":0,"total":61},"items":[{"uid":"3f9c886dd40dfc0c","status":"passed","time":{"start":1759550636686,"stop":1759550700236,"duration":63550}},{"uid":"60d8eec33ce542da","status":"passed","time":{"start":1759464031967,"stop":1759464067980,"duration":36013}},{"uid":"9b5b69f369f47825","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add project via API and reload page\nMessage: Expected HTTP 201 response but got 504!","time":{"start":1759380702337,"stop":1759380752280,"duration":49943}},{"uid":"fdc1d296527c822","status":"passed","time":{"start":1759288407667,"stop":1759288435732,"duration":28065}},{"uid":"79d5ebbf20fa6127","status":"passed","time":{"start":1759201940337,"stop":1759201990172,"duration":49835}},{"uid":"83d30f8eb1f52354","status":"passed","time":{"start":1759159649212,"stop":1759159689224,"duration":40012}},{"uid":"8a02fd0f18d8ce8d","status":"passed","time":{"start":1759116286108,"stop":1759116323760,"duration":37652}},{"uid":"cfae2b3128a76d6a","status":"passed","time":{"start":1759029934416,"stop":1759029968676,"duration":34260}},{"uid":"fc83d52f91263a6","status":"passed","time":{"start":1758943386553,"stop":1758943433006,"duration":46453}},{"uid":"5d540eac8fb4834f","status":"passed","time":{"start":1758856005160,"stop":1758856039519,"duration":34359}},{"uid":"30cb3883958f57eb","status":"passed","time":{"start":1758769641612,"stop":1758769684813,"duration":43201}},{"uid":"97417029fe3e1f34","status":"passed","time":{"start":1758711621123,"stop":1758711657242,"duration":36119}},{"uid":"828281b581c6c2e","status":"passed","time":{"start":1758696454689,"stop":1758696488012,"duration":33323}},{"uid":"427a71eea111ed74","status":"passed","time":{"start":1758684553510,"stop":1758684591679,"duration":38169}},{"uid":"aac02c15b5789471","status":"passed","time":{"start":1758596852899,"stop":1758596894818,"duration":41919}},{"uid":"a0a22f96d50b6f","status":"passed","time":{"start":1758510350306,"stop":1758510388453,"duration":38147}},{"uid":"a500d2c4da011c19","status":"passed","time":{"start":1758423992482,"stop":1758424022139,"duration":29657}},{"uid":"99fec15b413cb8c0","status":"passed","time":{"start":1758337882290,"stop":1758337930289,"duration":47999}},{"uid":"c777bcd7bddad5e1","status":"passed","time":{"start":1758251123728,"stop":1758251160758,"duration":37030}},{"uid":"fc17587105abd0d4","status":"passed","time":{"start":1758164592481,"stop":1758164632654,"duration":40173}}]},"tags":["asyncio"]},"source":"d98cd7046055a99f.json","parameterValues":[]}