{"uid":"9504edb179678770","name":"User removes organization via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_remove_organization_cli","historyId":"a5aed9e26487d1557b98b4ed8dc5d667","time":{"start":1758106063480,"stop":1758106100418,"duration":36938},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can remove organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1758102806618,"stop":1758102806618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758102806618,"stop":1758102806618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1758102806618,"stop":1758102806618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1758102806618,"stop":1758102821619,"duration":15001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758102806618,"stop":1758102806618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758102806618,"stop":1758102806618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1758102821619,"stop":1758102821619,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1758106060623,"stop":1758106060626,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1758106060627,"stop":1758106060627,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1758106060627,"stop":1758106062934,"duration":2307},"status":"passed","steps":[],"attachments":[{"uid":"61fa303dfbff399","name":"HTTP 200 - GET config","source":"61fa303dfbff399.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"users_manager","time":{"start":1758106062935,"stop":1758106062935,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1758106062935,"stop":1758106062935,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1758106062935,"stop":1758106062936,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1758106062936,"stop":1758106062936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1758106062936,"stop":1758106062937,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1758106062937,"stop":1758106062937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1758106062937,"stop":1758106062937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1758106062937,"stop":1758106063479,"duration":542},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1758106062938,"stop":1758106063479,"duration":541},"status":"passed","steps":[],"attachments":[{"uid":"c0fb3da92c6e71ad","name":"Executed CLI command","source":"c0fb3da92c6e71ad.txt","type":"text/plain","size":15},{"uid":"98cd290dbf4fd679","name":"Executed CLI command output","source":"98cd290dbf4fd679.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Create second organization via **CLI**.\n\n### Verify that:\n\n- User can remove organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Create second organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1758106063480,"stop":1758106070837,"duration":7357},"status":"passed","steps":[{"name":"Click login button","time":{"start":1758106063480,"stop":1758106064578,"duration":1098},"status":"passed","steps":[],"attachments":[{"uid":"c2af8558ac0409a1","name":"Page URL","source":"c2af8558ac0409a1.txt","type":"text/plain","size":33},{"uid":"fd56b37943a7dae2","name":"Screenshot: Click login button (success)","source":"fd56b37943a7dae2.png","type":"image/png","size":41649}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758106064578,"stop":1758106064705,"duration":127},"status":"passed","steps":[],"attachments":[{"uid":"684c8fa94497c7b0","name":"Page URL","source":"684c8fa94497c7b0.txt","type":"text/plain","size":215},{"uid":"1b3a355fae0af4cf","name":"Screenshot: Enter email (success)","source":"1b3a355fae0af4cf.png","type":"image/png","size":45189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758106064705,"stop":1758106064855,"duration":150},"status":"passed","steps":[],"attachments":[{"uid":"bd196f5e7c8e7bd5","name":"Page URL","source":"bd196f5e7c8e7bd5.txt","type":"text/plain","size":215},{"uid":"5ae17c999ecbbccd","name":"Screenshot: Enter password (success)","source":"5ae17c999ecbbccd.png","type":"image/png","size":45713}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1758106064855,"stop":1758106069582,"duration":4727},"status":"passed","steps":[],"attachments":[{"uid":"b13b9cc1f7ef08d0","name":"Page URL","source":"b13b9cc1f7ef08d0.txt","type":"text/plain","size":215},{"uid":"56ecda65b8c1e2b7","name":"HTTP 200 - GET config","source":"56ecda65b8c1e2b7.txt","type":"text/plain","size":752},{"uid":"61252b1d95c5e3e1","name":"HTTP 200 - GET permissions?uri=blob:","source":"61252b1d95c5e3e1.txt","type":"text/plain","size":163},{"uid":"79468477ef7b3b3e","name":"HTTP 200 - GET regression-ljzcrlojtv?include=orgs","source":"79468477ef7b3b3e.txt","type":"text/plain","size":360},{"uid":"391534efe1ddfeec","name":"HTTP 200 - GET incoming","source":"391534efe1ddfeec.txt","type":"text/plain","size":137},{"uid":"6c9681ddfac04366","name":"HTTP 200 - GET regression-ljzcrlojtv?include=clusters&include=system_role","source":"6c9681ddfac04366.txt","type":"text/plain","size":388},{"uid":"35812801a8d2a652","name":"Screenshot: Click Continue button (success)","source":"35812801a8d2a652.png","type":"image/png","size":158779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1758106069606,"stop":1758106070731,"duration":1125},"status":"passed","steps":[],"attachments":[{"uid":"6cd240395711f80d","name":"Page URL","source":"6cd240395711f80d.txt","type":"text/plain","size":44},{"uid":"80f251876295f1df","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"80f251876295f1df.png","type":"image/png","size":158779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a444bd539a280a36","name":"Page URL","source":"a444bd539a280a36.txt","type":"text/plain","size":33},{"uid":"37fd739caabfd07e","name":"Screenshot: Login via UI (success)","source":"37fd739caabfd07e.png","type":"image/png","size":158779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1758106070837,"stop":1758106071838,"duration":1001},"status":"passed","steps":[],"attachments":[{"uid":"e750d1227a38f3a1","name":"Executed CLI command","source":"e750d1227a38f3a1.txt","type":"text/plain","size":1114},{"uid":"ae7f8e18254297d1","name":"Executed CLI command output","source":"ae7f8e18254297d1.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1758106071838,"stop":1758106076398,"duration":4560},"status":"passed","steps":[],"attachments":[{"uid":"92f886297f79e079","name":"Executed CLI command","source":"92f886297f79e079.txt","type":"text/plain","size":20},{"uid":"6f3cf6dcc81295f6","name":"Executed CLI command output","source":"6f3cf6dcc81295f6.txt","type":"text/plain","size":26}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1758106076399,"stop":1758106087245,"duration":10846},"status":"passed","steps":[],"attachments":[{"uid":"b53451d9f02242bc","name":"Executed CLI command","source":"b53451d9f02242bc.txt","type":"text/plain","size":1114},{"uid":"1b27d16919deb6fa","name":"Executed CLI command output","source":"1b27d16919deb6fa.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1758106087245,"stop":1758106091677,"duration":4432},"status":"passed","steps":[],"attachments":[{"uid":"55e94535e8d3d410","name":"Executed CLI command","source":"55e94535e8d3d410.txt","type":"text/plain","size":20},{"uid":"f144d3cabb4f2ae0","name":"Executed CLI command output","source":"f144d3cabb4f2ae0.txt","type":"text/plain","size":149}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization is listed in the CLI output","time":{"start":1758106091678,"stop":1758106091678,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"cfe5b9489a73ca91","name":"Executed CLI command","source":"cfe5b9489a73ca91.txt","type":"text/plain","size":20},{"uid":"21194deb689f1b62","name":"Executed CLI command output","source":"21194deb689f1b62.txt","type":"text/plain","size":149}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Remove organization via CLI","time":{"start":1758106091678,"stop":1758106096414,"duration":4736},"status":"passed","steps":[],"attachments":[{"uid":"2d65c3e8cdd7abbd","name":"Executed CLI command","source":"2d65c3e8cdd7abbd.txt","type":"text/plain","size":58},{"uid":"6ea4dc7c4ca9764c","name":"Executed CLI command output","source":"6ea4dc7c4ca9764c.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1758106096414,"stop":1758106100417,"duration":4003},"status":"passed","steps":[],"attachments":[{"uid":"f358390379e24c50","name":"Executed CLI command","source":"f358390379e24c50.txt","type":"text/plain","size":20},{"uid":"17ef6124789aba57","name":"Executed CLI command output","source":"17ef6124789aba57.txt","type":"text/plain","size":26}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6fb63880287760d1","name":"log","source":"6fb63880287760d1.txt","type":"text/plain","size":14920}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1758106100419,"stop":1758106100419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758106100419,"stop":1758106100419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758106100419,"stop":1758106104129,"duration":3710},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1758106100419,"stop":1758106104129,"duration":3710},"status":"passed","steps":[],"attachments":[{"uid":"f956664673d89a20","name":"Cleanup note","source":"f956664673d89a20.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1758106104130,"stop":1758106104130,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1758106104131,"stop":1758106104132,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3601-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":37,"unknown":0,"total":43},"items":[{"uid":"a8b4a106837cf30f","status":"passed","time":{"start":1758083518345,"stop":1758083561322,"duration":42977}},{"uid":"31bbf75cfa48489d","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Welcome new user page displayed\nMessage: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"h3.truncate.text-h3\").filter(has_text=\"Welcome, regression-ceadr7jsak@apolo.us\")","time":{"start":1757990486446,"stop":1757990503825,"duration":17379}},{"uid":"5a36ba9980858e87","status":"passed","time":{"start":1757904567915,"stop":1757904608936,"duration":41021}},{"uid":"9ff4be215ff0e891","status":"passed","time":{"start":1757817074732,"stop":1757817109446,"duration":34714}},{"uid":"aa5bf959eb2db194","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify organization_count\nMessage: Expected 0 organizations, got 1","time":{"start":1757730615785,"stop":1757730650243,"duration":34458}},{"uid":"f7cf13218a9c0f66","status":"passed","time":{"start":1757644028509,"stop":1757644073545,"duration":45036}},{"uid":"ce04d96f47424c10","status":"passed","time":{"start":1757557277536,"stop":1757557316120,"duration":38584}},{"uid":"978193bdbd8f659","status":"passed","time":{"start":1757471226842,"stop":1757471279213,"duration":52371}},{"uid":"a04a0eba1f4f67ab","status":"passed","time":{"start":1757419383565,"stop":1757419426105,"duration":42540}},{"uid":"585ba096a975629f","status":"passed","time":{"start":1757385004251,"stop":1757385047509,"duration":43258}},{"uid":"6f5182272335b5d4","status":"passed","time":{"start":1757298521426,"stop":1757298556496,"duration":35070}},{"uid":"e0c22817593fbc14","status":"passed","time":{"start":1757212501641,"stop":1757212534532,"duration":32891}},{"uid":"497ad372dab0a180","status":"passed","time":{"start":1757141675474,"stop":1757141715023,"duration":39549}},{"uid":"54fc77713e67378f","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: You are using apolo-extras tool 24.10.0, however 25.9.0 is available.\nERROR: There are no clusters available. Please run 'apolo logout' and then 'apolo login'.","time":{"start":1757125938012,"stop":1757125970903,"duration":32891}},{"uid":"5b48c4c445b5364c","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: You are using apolo-extras tool 24.10.0, however 25.8.0 is available.\nERROR: There are no clusters available. Please run 'apolo logout' and then 'apolo login'.","time":{"start":1757039285354,"stop":1757039325544,"duration":40190}},{"uid":"9da4a75f9487d15e","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: You are using apolo-extras tool 24.10.0, however 25.8.0 is available.\nERROR: There are no clusters available. Please run 'apolo logout' and then 'apolo login'.","time":{"start":1756952871665,"stop":1756952890904,"duration":19239}},{"uid":"bdd79bbf21829dd5","status":"passed","time":{"start":1756866207069,"stop":1756866239601,"duration":32532}},{"uid":"188454f79002ce1e","status":"passed","time":{"start":1756803690705,"stop":1756803734818,"duration":44113}},{"uid":"9e31f3855460c9fb","status":"passed","time":{"start":1756607014919,"stop":1756607053442,"duration":38523}},{"uid":"3c82afe4c0969556","status":"passed","time":{"start":1756520751920,"stop":1756520791320,"duration":39400}}]},"tags":["asyncio"]},"source":"9504edb179678770.json","parameterValues":[]}