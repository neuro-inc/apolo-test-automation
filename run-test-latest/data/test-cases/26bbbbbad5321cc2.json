{"uid":"26bbbbbad5321cc2","name":"User without organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_with_token_cli","historyId":"fd27a26b14b2678c9927d4e7b4c1ac77","time":{"start":1762824891828,"stop":1762824909719,"duration":17891},"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"base_url","time":{"start":1762824728622,"stop":1762824728622,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1762824728623,"stop":1762824728623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1762824728623,"stop":1762824728623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1762824728623,"stop":1762824728623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1762824728623,"stop":1762824728623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1762824728623,"stop":1762824728623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1762824728623,"stop":1762824728623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1762824890182,"stop":1762824890185,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1762824890185,"stop":1762824891305,"duration":1120},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1762824890186,"stop":1762824890186,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1762824891306,"stop":1762824891306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1762824891306,"stop":1762824891306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1762824891306,"stop":1762824891306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1762824891306,"stop":1762824891307,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1762824891307,"stop":1762824891307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1762824891307,"stop":1762824891827,"duration":520},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1762824891308,"stop":1762824891827,"duration":519},"status":"passed","steps":[],"attachments":[{"uid":"272c56e81fd84ba6","name":"Executed CLI command","source":"272c56e81fd84ba6.txt","type":"text/plain","size":15},{"uid":"ed487092727dc65c","name":"Executed CLI command output","source":"ed487092727dc65c.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1762824891307,"stop":1762824891307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1762824891307,"stop":1762824891307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1762824891828,"stop":1762824907843,"duration":16015},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1762824891828,"stop":1762824892299,"duration":471},"status":"passed","steps":[],"attachments":[{"uid":"bdb19b9a39e27d54","name":"Page URL","source":"bdb19b9a39e27d54.txt","type":"text/plain","size":29},{"uid":"b19f391485a521f8","name":"HTTP 200 - GET config","source":"b19f391485a521f8.txt","type":"text/plain","size":673},{"uid":"d55a1dfdb7298073","name":"Screenshot: Verify that Auth page displayed (success)","source":"d55a1dfdb7298073.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1762824892299,"stop":1762824893238,"duration":939},"status":"passed","steps":[],"attachments":[{"uid":"ab2680754516a1e","name":"Page URL","source":"ab2680754516a1e.txt","type":"text/plain","size":33},{"uid":"a2b4cb547760c6f4","name":"Screenshot: Click login button (success)","source":"a2b4cb547760c6f4.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1762824893238,"stop":1762824893527,"duration":289},"status":"passed","steps":[],"attachments":[{"uid":"fa1798891df6654e","name":"Page URL","source":"fa1798891df6654e.txt","type":"text/plain","size":215},{"uid":"d567be51ff2145eb","name":"Screenshot: Verify that Login page displayed (success)","source":"d567be51ff2145eb.png","type":"image/png","size":41599}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1762824893527,"stop":1762824893862,"duration":335},"status":"passed","steps":[],"attachments":[{"uid":"ecf49f9b2c26283c","name":"Page URL","source":"ecf49f9b2c26283c.txt","type":"text/plain","size":215},{"uid":"8e0c5c97b5c272d","name":"Screenshot: Enter email (success)","source":"8e0c5c97b5c272d.png","type":"image/png","size":45725}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1762824893862,"stop":1762824894193,"duration":331},"status":"passed","steps":[],"attachments":[{"uid":"47c8e395f431d208","name":"Page URL","source":"47c8e395f431d208.txt","type":"text/plain","size":215},{"uid":"bccf01394454a909","name":"Screenshot: Enter password (success)","source":"bccf01394454a909.png","type":"image/png","size":45875}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1762824894194,"stop":1762824906658,"duration":12464},"status":"passed","steps":[],"attachments":[{"uid":"2df31ff95e90c0b5","name":"Page URL","source":"2df31ff95e90c0b5.txt","type":"text/plain","size":215},{"uid":"df477e97f1bfdbc8","name":"HTTP 200 - GET config","source":"df477e97f1bfdbc8.txt","type":"text/plain","size":771},{"uid":"bc7c236725035b91","name":"HTTP 200 - GET permissions?uri=blob:","source":"bc7c236725035b91.txt","type":"text/plain","size":182},{"uid":"faf3892908a4f696","name":"HTTP 200 - GET incoming","source":"faf3892908a4f696.txt","type":"text/plain","size":156},{"uid":"92ca21439ac31b1d","name":"HTTP 200 - GET regression-usk1uqb4ir?include=orgs","source":"92ca21439ac31b1d.txt","type":"text/plain","size":379},{"uid":"4ba8a42f36b2ad72","name":"HTTP 200 - GET regression-usk1uqb4ir?include=clusters&include=system_role","source":"4ba8a42f36b2ad72.txt","type":"text/plain","size":407},{"uid":"cb38c65d95b3e2ed","name":"Screenshot: Click Continue button (success)","source":"cb38c65d95b3e2ed.png","type":"image/png","size":159067}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1762824906666,"stop":1762824907759,"duration":1093},"status":"passed","steps":[],"attachments":[{"uid":"4e77cf20267ad3dd","name":"Page URL","source":"4e77cf20267ad3dd.txt","type":"text/plain","size":44},{"uid":"4250e58e4c775bf2","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"4250e58e4c775bf2.png","type":"image/png","size":159067}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"74c08d864ebe90a3","name":"Page URL","source":"74c08d864ebe90a3.txt","type":"text/plain","size":29},{"uid":"41d49514f3d22336","name":"Screenshot: Login via UI (success)","source":"41d49514f3d22336.png","type":"image/png","size":159067}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1762824907843,"stop":1762824909718,"duration":1875},"status":"passed","steps":[],"attachments":[{"uid":"4ec7c6ac35086d0e","name":"Executed CLI command","source":"4ec7c6ac35086d0e.txt","type":"text/plain","size":1114},{"uid":"7e281d6560278be","name":"Executed CLI command output","source":"7e281d6560278be.txt","type":"text/plain","size":150}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1762824909718,"stop":1762824909719,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"adc30f5652528cad","name":"Executed CLI command","source":"adc30f5652528cad.txt","type":"text/plain","size":1114},{"uid":"2f7b5dbc7bbf3343","name":"Executed CLI command output","source":"2f7b5dbc7bbf3343.txt","type":"text/plain","size":150}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8bf3c0dbd845e944","name":"log","source":"8bf3c0dbd845e944.txt","type":"text/plain","size":33765}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":27,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1762824909720,"stop":1762824909720,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1762824909720,"stop":1762824909720,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1762824909721,"stop":1762824913511,"duration":3790},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1762824909721,"stop":1762824913511,"duration":3790},"status":"passed","steps":[],"attachments":[{"uid":"88530528780ce4dc","name":"Cleanup note","source":"88530528780ce4dc.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1762824913512,"stop":1762824913512,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1762824913513,"stop":1762824913514,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Login"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"3536-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d8aa6de7696042bf","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Auth page displayed\nMessage: Auth page should be displayed!","time":{"start":1762824755560,"stop":1762824876224,"duration":120664}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":104,"unknown":0,"total":104},"items":[{"uid":"d09ad70578542709","status":"passed","time":{"start":1762738354446,"stop":1762738466522,"duration":112076}},{"uid":"cafb118d3b9d419d","status":"passed","time":{"start":1762652137012,"stop":1762652154137,"duration":17125}},{"uid":"f803ff7d5326cf4d","status":"passed","time":{"start":1762565527155,"stop":1762565543952,"duration":16797}},{"uid":"9fbcf81b330b1b0b","status":"passed","time":{"start":1762479122792,"stop":1762479140257,"duration":17465}},{"uid":"c31b5dc059237a41","status":"passed","time":{"start":1762392731655,"stop":1762392830334,"duration":98679}},{"uid":"782e52cd4db10945","status":"passed","time":{"start":1762306331808,"stop":1762306359691,"duration":27883}},{"uid":"16e6ac39f8063b03","status":"passed","time":{"start":1762219934906,"stop":1762219961728,"duration":26822}},{"uid":"4b1583862d440455","status":"passed","time":{"start":1762133607698,"stop":1762133634147,"duration":26449}},{"uid":"3b1ddb57aa3cfe80","status":"passed","time":{"start":1762047230614,"stop":1762047257198,"duration":26584}},{"uid":"48e644b79f32d146","status":"passed","time":{"start":1761960714611,"stop":1761960730784,"duration":16173}},{"uid":"f0697c382f345917","status":"passed","time":{"start":1761874402981,"stop":1761874507391,"duration":104410}},{"uid":"964e91c511646116","status":"passed","time":{"start":1761788032545,"stop":1761788049502,"duration":16957}},{"uid":"1848c7893893d8a8","status":"passed","time":{"start":1761701534747,"stop":1761701638036,"duration":103289}},{"uid":"f7d13725ca087c39","status":"passed","time":{"start":1761615538680,"stop":1761615555586,"duration":16906}},{"uid":"82d69f62bc44b7d0","status":"passed","time":{"start":1761593096631,"stop":1761593113193,"duration":16562}},{"uid":"c4340b5dc8085340","status":"passed","time":{"start":1761559465112,"stop":1761559515715,"duration":50603}},{"uid":"90a564d3b18fcc36","status":"passed","time":{"start":1759550588617,"stop":1759550597494,"duration":8877}},{"uid":"4d2614dcb18eb073","status":"passed","time":{"start":1759463976166,"stop":1759463983919,"duration":7753}},{"uid":"fe1a3cf1169c67fa","status":"passed","time":{"start":1759380523674,"stop":1759380530811,"duration":7137}},{"uid":"fcd2600d959e0a0b","status":"passed","time":{"start":1759288355062,"stop":1759288365927,"duration":10865}}]},"tags":["asyncio"]},"source":"26bbbbbad5321cc2.json","parameterValues":[]}