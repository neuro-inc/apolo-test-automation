{"uid":"4c60437dc8f1fdf9","name":"Admin create secret with no project created via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_secret_no_proj_cli","historyId":"00fd51dcec949e8f8cb720ad306bef95","time":{"start":1761237608472,"stop":1761237640002,"duration":31530},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"base_url","time":{"start":1761218170417,"stop":1761218170417,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1761218170418,"stop":1761218170419,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1761218170418,"stop":1761218170418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761218170418,"stop":1761218170418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761218170418,"stop":1761218170418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1761218170418,"stop":1761218170418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761218170418,"stop":1761218170418,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1761237547543,"stop":1761237547546,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1761237547546,"stop":1761237607952,"duration":60406},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1761237547546,"stop":1761237547546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1761237607952,"stop":1761237607952,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1761237607952,"stop":1761237607953,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1761237607952,"stop":1761237607952,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1761237607953,"stop":1761237607954,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1761237607953,"stop":1761237607953,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1761237607954,"stop":1761237607954,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1761237607954,"stop":1761237607954,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1761237607954,"stop":1761237608472,"duration":518},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1761237607955,"stop":1761237608472,"duration":517},"status":"passed","steps":[],"attachments":[{"uid":"e25ae51d562c89d9","name":"Executed CLI command","source":"e25ae51d562c89d9.txt","type":"text/plain","size":15},{"uid":"eb07369293c07015","name":"Executed CLI command output","source":"eb07369293c07015.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1761237608473,"stop":1761237624648,"duration":16175},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1761237608473,"stop":1761237617630,"duration":9157},"status":"passed","steps":[],"attachments":[{"uid":"b41cf1e244d40f61","name":"Page URL","source":"b41cf1e244d40f61.txt","type":"text/plain","size":11},{"uid":"84feb650496a02a5","name":"HTTP 200 - GET config","source":"84feb650496a02a5.txt","type":"text/plain","size":673},{"uid":"8062dad741084972","name":"Screenshot: Verify that Auth page displayed (success)","source":"8062dad741084972.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1761237617630,"stop":1761237618740,"duration":1110},"status":"passed","steps":[],"attachments":[{"uid":"ee7eb5810901aa05","name":"Page URL","source":"ee7eb5810901aa05.txt","type":"text/plain","size":33},{"uid":"7d0e12bac7c1816f","name":"Screenshot: Click login button (success)","source":"7d0e12bac7c1816f.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1761237618740,"stop":1761237618950,"duration":210},"status":"passed","steps":[],"attachments":[{"uid":"fe43c1957eb6280e","name":"Page URL","source":"fe43c1957eb6280e.txt","type":"text/plain","size":33},{"uid":"57758f27c3c6091c","name":"Screenshot: Verify that Login page displayed (success)","source":"57758f27c3c6091c.png","type":"image/png","size":41599}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1761237618951,"stop":1761237619282,"duration":331},"status":"passed","steps":[],"attachments":[{"uid":"735f74c99425890b","name":"Page URL","source":"735f74c99425890b.txt","type":"text/plain","size":215},{"uid":"c03b5894d8fec85c","name":"Screenshot: Enter email (success)","source":"c03b5894d8fec85c.png","type":"image/png","size":45558}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1761237619282,"stop":1761237619615,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"f13f484ee592757a","name":"Page URL","source":"f13f484ee592757a.txt","type":"text/plain","size":215},{"uid":"9aeb681510a079c6","name":"Screenshot: Enter password (success)","source":"9aeb681510a079c6.png","type":"image/png","size":45695}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1761237619615,"stop":1761237623450,"duration":3835},"status":"passed","steps":[],"attachments":[{"uid":"859fdb3cf6394e01","name":"Page URL","source":"859fdb3cf6394e01.txt","type":"text/plain","size":215},{"uid":"3d771f8c5b63ce87","name":"HTTP 200 - GET config","source":"3d771f8c5b63ce87.txt","type":"text/plain","size":771},{"uid":"91785f95a15feee2","name":"HTTP 200 - GET permissions?uri=blob:","source":"91785f95a15feee2.txt","type":"text/plain","size":182},{"uid":"b47e4ddea5c20181","name":"HTTP 200 - GET incoming","source":"b47e4ddea5c20181.txt","type":"text/plain","size":156},{"uid":"3ecb4d4215d1973d","name":"HTTP 200 - GET regression-rbblhkr756?include=orgs","source":"3ecb4d4215d1973d.txt","type":"text/plain","size":379},{"uid":"b67c2bb7ffce4414","name":"HTTP 200 - GET regression-rbblhkr756?include=clusters&include=system_role","source":"b67c2bb7ffce4414.txt","type":"text/plain","size":407},{"uid":"4795eddef25986f9","name":"Screenshot: Click Continue button (success)","source":"4795eddef25986f9.png","type":"image/png","size":159887}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1761237623460,"stop":1761237624565,"duration":1105},"status":"passed","steps":[],"attachments":[{"uid":"1dd34d2c2b3c4cca","name":"Page URL","source":"1dd34d2c2b3c4cca.txt","type":"text/plain","size":44},{"uid":"48a140199ac28b3f","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"48a140199ac28b3f.png","type":"image/png","size":159887}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"431c10365ef6784c","name":"Page URL","source":"431c10365ef6784c.txt","type":"text/plain","size":11},{"uid":"719425bdfe4d1b43","name":"Screenshot: Login via UI (success)","source":"719425bdfe4d1b43.png","type":"image/png","size":159887}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1761237624648,"stop":1761237638523,"duration":13875},"status":"passed","steps":[{"name":"Reload page","time":{"start":1761237636430,"stop":1761237638438,"duration":2008},"status":"passed","steps":[{"name":"Reload page","time":{"start":1761237636431,"stop":1761237638344,"duration":1913},"status":"passed","steps":[],"attachments":[{"uid":"d44b7822e21aecf2","name":"Page URL","source":"d44b7822e21aecf2.txt","type":"text/plain","size":44},{"uid":"13ca53ae8b9c332","name":"HTTP 200 - GET config","source":"13ca53ae8b9c332.txt","type":"text/plain","size":2137},{"uid":"c11bc87a4c8a0aaa","name":"HTTP 200 - GET permissions?uri=blob:","source":"c11bc87a4c8a0aaa.txt","type":"text/plain","size":255},{"uid":"a0b454a42fef2ae7","name":"HTTP 200 - GET incoming","source":"a0b454a42fef2ae7.txt","type":"text/plain","size":156},{"uid":"47a06493028eb9f4","name":"HTTP 200 - GET regression-rbblhkr756?include=clusters&include=system_role","source":"47a06493028eb9f4.txt","type":"text/plain","size":529},{"uid":"e2af29ab0355c8c9","name":"HTTP 200 - GET regression-org-kno72bcs2e1q","source":"e2af29ab0355c8c9.txt","type":"text/plain","size":444},{"uid":"6c7e945bbb1f9f4e","name":"HTTP 200 - GET regression-rbblhkr756?include=orgs","source":"6c7e945bbb1f9f4e.txt","type":"text/plain","size":474},{"uid":"1740acc02ec4a409","name":"HTTP 200 - GET tags","source":"1740acc02ec4a409.txt","type":"text/plain","size":867},{"uid":"2ec09681dad89ad1","name":"Screenshot: Reload page (success)","source":"2ec09681dad89ad1.png","type":"image/png","size":56925}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"81f459f419a5cf43","name":"Page URL","source":"81f459f419a5cf43.txt","type":"text/plain","size":44},{"uid":"2fe8b90779f17beb","name":"Screenshot: Reload page (success)","source":"2fe8b90779f17beb.png","type":"image/png","size":56925}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c9548cc163cd7a61","name":"Page URL","source":"c9548cc163cd7a61.txt","type":"text/plain","size":44},{"uid":"11819726b2eba789","name":"Screenshot: Add organization via API and reload page (success)","source":"11819726b2eba789.png","type":"image/png","size":56925}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1761237638523,"stop":1761237639385,"duration":862},"status":"passed","steps":[],"attachments":[{"uid":"6fabb535ecc464c8","name":"Executed CLI command","source":"6fabb535ecc464c8.txt","type":"text/plain","size":1114},{"uid":"6f3bb9fd1ca858da","name":"Executed CLI command output","source":"6f3bb9fd1ca858da.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1761237639386,"stop":1761237640002,"duration":616},"status":"passed","steps":[],"attachments":[{"uid":"858891bfd8cb9cdf","name":"Executed CLI command","source":"858891bfd8cb9cdf.txt","type":"text/plain","size":39},{"uid":"84bf09f0dba57060","name":"Executed CLI command output","source":"84bf09f0dba57060.txt","type":"text/plain","size":159}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"83f8d9d7cb2ae20a","name":"log","source":"83f8d9d7cb2ae20a.txt","type":"text/plain","size":31779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":40,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1761237640003,"stop":1761237640003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761237640003,"stop":1761237643789,"duration":3786},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1761237640003,"stop":1761237643789,"duration":3786},"status":"passed","steps":[{"name":"Delete organisation: regression-org-kno72bcs2e1q","time":{"start":1761237643279,"stop":1761237643751,"duration":472},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1761237640003,"stop":1761237640003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1761237643790,"stop":1761237643790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1761237643791,"stop":1761237643792,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Secrets"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3575-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"99ae1c9a56e423a2","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Auth page displayed\nMessage: Auth page should be displayed!","time":{"start":1761237354580,"stop":1761237534273,"duration":179693}},{"uid":"49df776cbdfb235b","status":"failed","statusDetails":"Failed: Timeout (>240.0s) from pytest-timeout.","time":{"start":1761237100629,"stop":1761237279705,"duration":179076}}],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":55,"unknown":0,"total":56},"items":[{"uid":"dff389670cf74f77","status":"passed","time":{"start":1759550975790,"stop":1759551004476,"duration":28686}},{"uid":"a0b5af0b44f1ae1f","status":"passed","time":{"start":1759463690478,"stop":1759463714083,"duration":23605}},{"uid":"fc4daf5d3f234746","status":"passed","time":{"start":1759380444730,"stop":1759380471943,"duration":27213}},{"uid":"6c13c0d298690297","status":"passed","time":{"start":1759288174152,"stop":1759288197175,"duration":23023}},{"uid":"b5126a3d6673bb8a","status":"passed","time":{"start":1759201887833,"stop":1759201910860,"duration":23027}},{"uid":"b5ffbdeb1927a4cf","status":"passed","time":{"start":1759159526766,"stop":1759159548830,"duration":22064}},{"uid":"125a613374d816a8","status":"passed","time":{"start":1759116063192,"stop":1759116083465,"duration":20273}},{"uid":"8733f82fb0eadac6","status":"passed","time":{"start":1759029803837,"stop":1759029837233,"duration":33396}},{"uid":"2bc0f050919bc212","status":"passed","time":{"start":1758943387379,"stop":1758943415809,"duration":28430}},{"uid":"ef4b6c7f7e8e70d7","status":"passed","time":{"start":1758855775186,"stop":1758855800153,"duration":24967}},{"uid":"32ab8fa1a3a00f00","status":"passed","time":{"start":1758769412147,"stop":1758769436887,"duration":24740}},{"uid":"92f598c31eb9fc6f","status":"passed","time":{"start":1758711528545,"stop":1758711563104,"duration":34559}},{"uid":"2a9864d058e52fb8","status":"passed","time":{"start":1758696413260,"stop":1758696430514,"duration":17254}},{"uid":"39999bc87edabc6c","status":"passed","time":{"start":1758684292586,"stop":1758684322882,"duration":30296}},{"uid":"c654b96cc05ccbfb","status":"passed","time":{"start":1758596577085,"stop":1758596603129,"duration":26044}},{"uid":"b197b6dc34cb2cd1","status":"passed","time":{"start":1758510256938,"stop":1758510281001,"duration":24063}},{"uid":"f256cac6455f149b","status":"passed","time":{"start":1758423859319,"stop":1758423889248,"duration":29929}},{"uid":"b4133827e3f22469","status":"passed","time":{"start":1758337643846,"stop":1758337674320,"duration":30474}},{"uid":"13edf4d3ed58bd7c","status":"passed","time":{"start":1758251011932,"stop":1758251029868,"duration":17936}},{"uid":"9ca43e234d50a7e3","status":"passed","time":{"start":1758164357569,"stop":1758164391527,"duration":33958}}]},"tags":["asyncio"]},"source":"4c60437dc8f1fdf9.json","parameterValues":[]}