{"uid":"78365f917129191e","name":"Admin create disk with no project created via CLI","fullName":"tests.test_cases.tests_cli.test_disks.TestCLIDisks#test_admin_create_disk_no_proj_cli","historyId":"659e5fc31111fbde5c0eadbdd99dadde","time":{"start":1764898614544,"stop":1764898649997,"duration":35453},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create disk via CLI if there is no project created yet.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create disk via CLI if there is no project created yet.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1764898304997,"stop":1764898304997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1764898304997,"stop":1764898304997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764898304997,"stop":1764898304997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764898304997,"stop":1764898304997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1764898304998,"stop":1764898304998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1764898304998,"stop":1764898304998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1764898304998,"stop":1764898304998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1764898613000,"stop":1764898613003,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1764898613003,"stop":1764898613989,"duration":986},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1764898613003,"stop":1764898613004,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1764898613989,"stop":1764898613990,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1764898613990,"stop":1764898613990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1764898613990,"stop":1764898613990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1764898613990,"stop":1764898613990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1764898613990,"stop":1764898613991,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1764898613991,"stop":1764898613991,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1764898613991,"stop":1764898614543,"duration":552},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1764898613991,"stop":1764898614543,"duration":552},"status":"passed","steps":[],"attachments":[{"uid":"d6e24c8f14dd2200","name":"Executed CLI command","source":"d6e24c8f14dd2200.txt","type":"text/plain","size":15},{"uid":"275aeb6eab32f1c8","name":"Executed CLI command output","source":"275aeb6eab32f1c8.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1764898613991,"stop":1764898613991,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create disk via CLI if there is no project created yet.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create disk via CLI if there is no project created yet.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1764898614544,"stop":1764898630195,"duration":15651},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1764898614545,"stop":1764898614803,"duration":258},"status":"passed","steps":[],"attachments":[{"uid":"5925d0b503324d87","name":"Page URL","source":"5925d0b503324d87.txt","type":"text/plain","size":29},{"uid":"f0b732c8c8436afe","name":"HTTP 200 - GET config","source":"f0b732c8c8436afe.txt","type":"text/plain","size":673},{"uid":"b32eec6557e72769","name":"Screenshot: Verify that Auth page displayed (success)","source":"b32eec6557e72769.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1764898614803,"stop":1764898615911,"duration":1108},"status":"passed","steps":[],"attachments":[{"uid":"3045e9126379becd","name":"Page URL","source":"3045e9126379becd.txt","type":"text/plain","size":33},{"uid":"96c283d5b60e6e5c","name":"Screenshot: Click login button (success)","source":"96c283d5b60e6e5c.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1764898615911,"stop":1764898616012,"duration":101},"status":"passed","steps":[],"attachments":[{"uid":"7e257c5864b2657e","name":"Page URL","source":"7e257c5864b2657e.txt","type":"text/plain","size":215},{"uid":"f8f8480611906636","name":"Screenshot: Verify that Login page displayed (success)","source":"f8f8480611906636.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1764898616012,"stop":1764898616331,"duration":319},"status":"passed","steps":[],"attachments":[{"uid":"f7fbf8b9ea1c708","name":"Page URL","source":"f7fbf8b9ea1c708.txt","type":"text/plain","size":215},{"uid":"1a1f88e818732582","name":"Screenshot: Enter email (success)","source":"1a1f88e818732582.png","type":"image/png","size":45829}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1764898616331,"stop":1764898616648,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"425a1351b4381a06","name":"Page URL","source":"425a1351b4381a06.txt","type":"text/plain","size":215},{"uid":"7346632efd0fe6ea","name":"Screenshot: Enter password (success)","source":"7346632efd0fe6ea.png","type":"image/png","size":45967}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1764898616649,"stop":1764898629011,"duration":12362},"status":"passed","steps":[],"attachments":[{"uid":"99c7a5525900c30e","name":"Page URL","source":"99c7a5525900c30e.txt","type":"text/plain","size":215},{"uid":"c1eb83645fc3eb55","name":"HTTP 200 - GET config","source":"c1eb83645fc3eb55.txt","type":"text/plain","size":771},{"uid":"9c58f6ebe4375b7a","name":"HTTP 200 - GET permissions?uri=blob:","source":"9c58f6ebe4375b7a.txt","type":"text/plain","size":182},{"uid":"c35bf7d9034ae947","name":"HTTP 200 - GET regression-o6ur843esu?include=clusters&include=system_role","source":"c35bf7d9034ae947.txt","type":"text/plain","size":407},{"uid":"4496682d7b995558","name":"HTTP 200 - GET incoming","source":"4496682d7b995558.txt","type":"text/plain","size":156},{"uid":"4948c534311e70ee","name":"HTTP 200 - GET regression-o6ur843esu?include=orgs","source":"4948c534311e70ee.txt","type":"text/plain","size":379},{"uid":"9d7033d4805c5afc","name":"Screenshot: Click Continue button (success)","source":"9d7033d4805c5afc.png","type":"image/png","size":160388}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1764898629019,"stop":1764898630111,"duration":1092},"status":"passed","steps":[],"attachments":[{"uid":"6b80fe7b6321f0d2","name":"Page URL","source":"6b80fe7b6321f0d2.txt","type":"text/plain","size":44},{"uid":"ce17af635b5c2004","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"ce17af635b5c2004.png","type":"image/png","size":160388}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a31f5084f9b1590a","name":"Page URL","source":"a31f5084f9b1590a.txt","type":"text/plain","size":29},{"uid":"8f24dc1844a95baf","name":"Screenshot: Login via UI (success)","source":"8f24dc1844a95baf.png","type":"image/png","size":160388}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1764898630195,"stop":1764898648482,"duration":18287},"status":"passed","steps":[{"name":"Reload page","time":{"start":1764898647669,"stop":1764898648418,"duration":749},"status":"passed","steps":[{"name":"Reload page","time":{"start":1764898647669,"stop":1764898648337,"duration":668},"status":"passed","steps":[],"attachments":[{"uid":"cb034b00c4d6fc4b","name":"Page URL","source":"cb034b00c4d6fc4b.txt","type":"text/plain","size":44},{"uid":"3c25abaf86469ae7","name":"HTTP 200 - GET config","source":"3c25abaf86469ae7.txt","type":"text/plain","size":2137},{"uid":"f99eacb89c1a9303","name":"HTTP 200 - GET permissions?uri=blob:","source":"f99eacb89c1a9303.txt","type":"text/plain","size":255},{"uid":"ee6fbef54bba6f3","name":"HTTP 200 - GET regression-o6ur843esu?include=clusters&include=system_role","source":"ee6fbef54bba6f3.txt","type":"text/plain","size":529},{"uid":"82a13a1a8fe85e77","name":"HTTP 200 - GET incoming","source":"82a13a1a8fe85e77.txt","type":"text/plain","size":156},{"uid":"c5a1d0e80b899996","name":"HTTP 200 - GET regression-org-saugep0jdqsp","source":"c5a1d0e80b899996.txt","type":"text/plain","size":444},{"uid":"a4ea88a77dd16d81","name":"HTTP 200 - GET regression-o6ur843esu?include=orgs","source":"a4ea88a77dd16d81.txt","type":"text/plain","size":474},{"uid":"c7094b9cfea221b6","name":"HTTP 200 - GET tags","source":"c7094b9cfea221b6.txt","type":"text/plain","size":948},{"uid":"a6edf480213ed1","name":"Screenshot: Reload page (success)","source":"a6edf480213ed1.png","type":"image/png","size":56738}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ea398ac5153a0bb1","name":"Page URL","source":"ea398ac5153a0bb1.txt","type":"text/plain","size":44},{"uid":"43c84377140407a8","name":"Screenshot: Reload page (success)","source":"43c84377140407a8.png","type":"image/png","size":56738}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d0668b83ef57b33b","name":"Page URL","source":"d0668b83ef57b33b.txt","type":"text/plain","size":44},{"uid":"a6ea5cbcb5e0db51","name":"Screenshot: Add organization via API and reload page (success)","source":"a6ea5cbcb5e0db51.png","type":"image/png","size":56738}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1764898648482,"stop":1764898649364,"duration":882},"status":"passed","steps":[],"attachments":[{"uid":"b5c1b58aaa00a6a3","name":"Executed CLI command","source":"b5c1b58aaa00a6a3.txt","type":"text/plain","size":1114},{"uid":"8263f0ff2ac92d33","name":"Executed CLI command output","source":"8263f0ff2ac92d33.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create disk via CLI","time":{"start":1764898649364,"stop":1764898649997,"duration":633},"status":"passed","steps":[],"attachments":[{"uid":"537fe98def7614b8","name":"Executed CLI command","source":"537fe98def7614b8.txt","type":"text/plain","size":87},{"uid":"64be587b023087d4","name":"Executed CLI command output","source":"64be587b023087d4.txt","type":"text/plain","size":159}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"fc9a63b1f05535b1","name":"log","source":"fc9a63b1f05535b1.txt","type":"text/plain","size":19989}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":40,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1764898649998,"stop":1764898649998,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1764898649998,"stop":1764898649999,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1764898649999,"stop":1764898658821,"duration":8822},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1764898649999,"stop":1764898658821,"duration":8822},"status":"passed","steps":[{"name":"Delete organisation: regression-org-saugep0jdqsp","time":{"start":1764898656086,"stop":1764898658777,"duration":2691},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1764898658822,"stop":1764898658822,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1764898658823,"stop":1764898658824,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Disks"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIDisks"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"3150-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_disks"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":95,"unknown":0,"total":98},"items":[{"uid":"ad9b750329ac5776","status":"passed","time":{"start":1764812079752,"stop":1764812114625,"duration":34873}},{"uid":"6129e3afb0061921","status":"passed","time":{"start":1764725669708,"stop":1764725705161,"duration":35453}},{"uid":"27418446208cb28b","status":"passed","time":{"start":1764639439539,"stop":1764639476793,"duration":37254}},{"uid":"e00ba03fe2e5230a","status":"passed","time":{"start":1764552941326,"stop":1764552977530,"duration":36204}},{"uid":"388dbe455b9260c4","status":"passed","time":{"start":1764466519387,"stop":1764466555110,"duration":35723}},{"uid":"8987c17aa0766c39","status":"passed","time":{"start":1764380139007,"stop":1764380173776,"duration":34769}},{"uid":"d2a707e410ceb07","status":"passed","time":{"start":1764293661839,"stop":1764293686537,"duration":24698}},{"uid":"dca51df639d50b1","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Welcome new user page displayed\nMessage: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"h3.truncate.text-h3\").filter(has_text=\"Welcome, regression-ej1c9fl1qj@apolo.us\")","time":{"start":1764207409276,"stop":1764207420219,"duration":10943}},{"uid":"c68e555c05ca6960","status":"passed","time":{"start":1764120897050,"stop":1764120924893,"duration":27843}},{"uid":"83e69b8988caf7fa","status":"passed","time":{"start":1764034483924,"stop":1764034517876,"duration":33952}},{"uid":"2d07e5e4f2bbde03","status":"passed","time":{"start":1763948074412,"stop":1763948107673,"duration":33261}},{"uid":"bd29c55553246c17","status":"passed","time":{"start":1763861660906,"stop":1763861699411,"duration":38505}},{"uid":"c6bbc46288e45ad0","status":"passed","time":{"start":1763775260839,"stop":1763775294598,"duration":33759}},{"uid":"bebb3ad49fc827e8","status":"passed","time":{"start":1763688931930,"stop":1763688974385,"duration":42455}},{"uid":"6b8fdc0bb954065d","status":"passed","time":{"start":1763602571401,"stop":1763602606792,"duration":35391}},{"uid":"5e72f8d6ca18ed80","status":"passed","time":{"start":1763516128920,"stop":1763516161328,"duration":32408}},{"uid":"74b5ed0743a719be","status":"passed","time":{"start":1763429656195,"stop":1763429689042,"duration":32847}},{"uid":"49a0ab4e686792d8","status":"passed","time":{"start":1763343330869,"stop":1763343373521,"duration":42652}},{"uid":"8d063a9f86fc6513","status":"passed","time":{"start":1763256855151,"stop":1763256887044,"duration":31893}},{"uid":"e4b469ca2c764f3a","status":"passed","time":{"start":1763170426595,"stop":1763170458237,"duration":31642}}]},"tags":["asyncio"]},"source":"78365f917129191e.json","parameterValues":[]}