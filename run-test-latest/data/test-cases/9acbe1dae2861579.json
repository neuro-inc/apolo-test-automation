{"uid":"9acbe1dae2861579","name":"Verify Admin can purchase organization credits with custom amount","fullName":"tests.test_cases.tests_ui.test_credits_purchase.TestUICreditsPurchase#test_admin_purchase_credits","historyId":"fd4c09752399b53a74b87a0aea0bec06","time":{"start":1758597004297,"stop":1758597059671,"duration":55374},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n\n### Verify that:\n\n- Admin can purchase credits by input custom amount.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Admin can purchase credits by input custom amount.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Payment page displayed\nMessage: Payment page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/payment_page_steps.py:14: in verify_ui_page_displayed\n    assert await self._pm.payment_page.is_loaded(email=email), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Payment page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:149: in test_admin_purchase_credits\n    await steps.payment_page.verify_ui_page_displayed(email=user.email)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify that Payment page displayed\nE   Message: Payment page should be displayed!","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1758591086068,"stop":1758591086068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758591086068,"stop":1758591086068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758591086068,"stop":1758591086068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758591086068,"stop":1758591086068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1758591086068,"stop":1758591086068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1758591086069,"stop":1758591086069,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1758591086069,"stop":1758591086069,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1758597001735,"stop":1758597001738,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1758597001738,"stop":1758597004294,"duration":2556},"status":"passed","steps":[],"attachments":[{"uid":"5f49badb76f82176","name":"HTTP 200 - GET config","source":"5f49badb76f82176.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1758597001738,"stop":1758597001739,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1758597004294,"stop":1758597004294,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1758597004294,"stop":1758597004294,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1758597004295,"stop":1758597004295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1758597004295,"stop":1758597004296,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1758597004295,"stop":1758597004295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1758597004296,"stop":1758597004296,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1758597004297,"stop":1758597004297,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1758597004297,"stop":1758597004297,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n\n### Verify that:\n\n- Admin can purchase credits by input custom amount.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>Admin can purchase credits by input custom amount.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Payment page displayed\nMessage: Payment page should be displayed!","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/payment_page_steps.py:14: in verify_ui_page_displayed\n    assert await self._pm.payment_page.is_loaded(email=email), (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Payment page should be displayed!\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:149: in test_admin_purchase_credits\n    await steps.payment_page.verify_ui_page_displayed(email=user.email)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify that Payment page displayed\nE   Message: Payment page should be displayed!","steps":[{"name":"Login via UI","time":{"start":1758597004298,"stop":1758597009465,"duration":5167},"status":"passed","steps":[{"name":"Click login button","time":{"start":1758597004299,"stop":1758597005173,"duration":874},"status":"passed","steps":[],"attachments":[{"uid":"13cdd9fddacb38e2","name":"Page URL","source":"13cdd9fddacb38e2.txt","type":"text/plain","size":33},{"uid":"f2da014adcbba57b","name":"Screenshot: Click login button (success)","source":"f2da014adcbba57b.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758597005173,"stop":1758597005367,"duration":194},"status":"passed","steps":[],"attachments":[{"uid":"8c1c6fae66869a2a","name":"Page URL","source":"8c1c6fae66869a2a.txt","type":"text/plain","size":215},{"uid":"30cb846b0c5095cb","name":"Screenshot: Enter email (success)","source":"30cb846b0c5095cb.png","type":"image/png","size":46695}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758597005367,"stop":1758597005515,"duration":148},"status":"passed","steps":[],"attachments":[{"uid":"be91ef39bdf44933","name":"Page URL","source":"be91ef39bdf44933.txt","type":"text/plain","size":215},{"uid":"ed2d56f8c13cba5d","name":"Screenshot: Enter password (success)","source":"ed2d56f8c13cba5d.png","type":"image/png","size":46579}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1758597005516,"stop":1758597008252,"duration":2736},"status":"passed","steps":[],"attachments":[{"uid":"c9825ab2c056cb1d","name":"Page URL","source":"c9825ab2c056cb1d.txt","type":"text/plain","size":215},{"uid":"fba658972badc60d","name":"HTTP 200 - GET config","source":"fba658972badc60d.txt","type":"text/plain","size":752},{"uid":"d9913ce8645c5d81","name":"HTTP 200 - GET permissions?uri=blob:","source":"d9913ce8645c5d81.txt","type":"text/plain","size":163},{"uid":"858592a5b6723492","name":"HTTP 200 - GET incoming","source":"858592a5b6723492.txt","type":"text/plain","size":137},{"uid":"2c95f54085fffae0","name":"HTTP 200 - GET regression-1ev6ymkw3o?include=orgs","source":"2c95f54085fffae0.txt","type":"text/plain","size":360},{"uid":"bc9d28f63613be84","name":"HTTP 200 - GET regression-1ev6ymkw3o?include=clusters&include=system_role","source":"bc9d28f63613be84.txt","type":"text/plain","size":388},{"uid":"ead063054941718c","name":"Screenshot: Click Continue button (success)","source":"ead063054941718c.png","type":"image/png","size":52611}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1758597008262,"stop":1758597009367,"duration":1105},"status":"passed","steps":[],"attachments":[{"uid":"9e33b0f1182dea2e","name":"Page URL","source":"9e33b0f1182dea2e.txt","type":"text/plain","size":44},{"uid":"e4038e6a401fe9dc","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"e4038e6a401fe9dc.png","type":"image/png","size":161259}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"fad8ced5ef0eda4","name":"Page URL","source":"fad8ced5ef0eda4.txt","type":"text/plain","size":33},{"uid":"5a9677d2b826c0b2","name":"Screenshot: Login via UI (success)","source":"5a9677d2b826c0b2.png","type":"image/png","size":161259}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1758597009465,"stop":1758597027055,"duration":17590},"status":"passed","steps":[{"name":"Reload page","time":{"start":1758597019169,"stop":1758597026947,"duration":7778},"status":"passed","steps":[],"attachments":[{"uid":"1aa87df3d18d8da7","name":"Page URL","source":"1aa87df3d18d8da7.txt","type":"text/plain","size":44},{"uid":"8df1f989948d820e","name":"HTTP 200 - GET config","source":"8df1f989948d820e.txt","type":"text/plain","size":1118},{"uid":"2c91091bc6328f44","name":"HTTP 200 - GET permissions?uri=blob:","source":"2c91091bc6328f44.txt","type":"text/plain","size":236},{"uid":"597edd27413e1fbf","name":"HTTP 200 - GET regression-1ev6ymkw3o?include=clusters&include=system_role","source":"597edd27413e1fbf.txt","type":"text/plain","size":510},{"uid":"118f221e9f4da9cd","name":"HTTP 200 - GET incoming","source":"118f221e9f4da9cd.txt","type":"text/plain","size":137},{"uid":"fcbf880cc32e15a3","name":"HTTP 200 - GET regression-1ev6ymkw3o?include=orgs","source":"fcbf880cc32e15a3.txt","type":"text/plain","size":455},{"uid":"9334274a7854c9bb","name":"HTTP 200 - GET regression-org-8xmdca0vicyq","source":"9334274a7854c9bb.txt","type":"text/plain","size":425},{"uid":"7494211d245e9564","name":"Screenshot: Reload page (success)","source":"7494211d245e9564.png","type":"image/png","size":56294}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a3e3a17a7ef9a10e","name":"Page URL","source":"a3e3a17a7ef9a10e.txt","type":"text/plain","size":44},{"uid":"9d56e488bd1bef","name":"Screenshot: Add organization via API and reload page (success)","source":"9d56e488bd1bef.png","type":"image/png","size":56294}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Verify Credits button on the top pane of the main page is enabled","time":{"start":1758597027056,"stop":1758597027201,"duration":145},"status":"passed","steps":[],"attachments":[{"uid":"19f52e587344827d","name":"Page URL","source":"19f52e587344827d.txt","type":"text/plain","size":81},{"uid":"5a8ebc2bf82a4eb7","name":"Screenshot: Verify Credits button on the top pane of the main page is enabled (success)","source":"5a8ebc2bf82a4eb7.png","type":"image/png","size":56294}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Get current credits amount","time":{"start":1758597027202,"stop":1758597027341,"duration":139},"status":"passed","steps":[],"attachments":[{"uid":"f884a212c13fe233","name":"Page URL","source":"f884a212c13fe233.txt","type":"text/plain","size":81},{"uid":"e4c177d50c9c8e24","name":"Screenshot: Get current credits amount (success)","source":"e4c177d50c9c8e24.png","type":"image/png","size":56294}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Credits button on the top pane of the main page","time":{"start":1758597027341,"stop":1758597028194,"duration":853},"status":"passed","steps":[],"attachments":[{"uid":"f4f883f42d082702","name":"Page URL","source":"f4f883f42d082702.txt","type":"text/plain","size":81},{"uid":"74917c5848abcee2","name":"Screenshot: Click Credits button on the top pane of the main page (success)","source":"74917c5848abcee2.png","type":"image/png","size":76738}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify Buy credits popup displayed","time":{"start":1758597028194,"stop":1758597028401,"duration":207},"status":"passed","steps":[],"attachments":[{"uid":"15d56e71e350cb8d","name":"Page URL","source":"15d56e71e350cb8d.txt","type":"text/plain","size":81},{"uid":"6abd10deda7ffe36","name":"Screenshot: Verify Buy credits popup displayed (success)","source":"6abd10deda7ffe36.png","type":"image/png","size":72421}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter credits amount","time":{"start":1758597028401,"stop":1758597028606,"duration":205},"status":"passed","steps":[],"attachments":[{"uid":"bab93ac36477c67a","name":"Page URL","source":"bab93ac36477c67a.txt","type":"text/plain","size":81},{"uid":"f3ae09e285a67944","name":"Screenshot: Enter credits amount (success)","source":"f3ae09e285a67944.png","type":"image/png","size":75838}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Buy credits button","time":{"start":1758597028606,"stop":1758597029385,"duration":779},"status":"passed","steps":[],"attachments":[{"uid":"32087a8b41ca6a38","name":"Page URL","source":"32087a8b41ca6a38.txt","type":"text/plain","size":81},{"uid":"12c219006d8f088b","name":"Screenshot: Click Buy credits button (success)","source":"12c219006d8f088b.png","type":"image/png","size":68077}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Payment page displayed","time":{"start":1758597029385,"stop":1758597059670,"duration":30285},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that Payment page displayed\nMessage: Payment page should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"81ad81a340504702","name":"Page URL","source":"81ad81a340504702.txt","type":"text/plain","size":81},{"uid":"1b0ac9e513912642","name":"HTTP 200 - POST checkout","source":"1b0ac9e513912642.txt","type":"text/plain","size":150},{"uid":"98838cb7ca04641e","name":"Screenshot: Verify that Payment page displayed (fail)","source":"98838cb7ca04641e.png","type":"image/png","size":54804}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b4248f794904534b","name":"log","source":"b4248f794904534b.txt","type":"text/plain","size":41405}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":43,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1758597059681,"stop":1758597059682,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758597059682,"stop":1758597059682,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758597059682,"stop":1758597064549,"duration":4867},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1758597059682,"stop":1758597064549,"duration":4867},"status":"passed","steps":[{"name":"Delete organisation: regression-org-8xmdca0vicyq","time":{"start":1758597063869,"stop":1758597064490,"duration":621},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1758597064550,"stop":1758597064550,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1758597064551,"stop":1758597064551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"UI Tests"},{"name":"suite","value":"UI Credits Purchase"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUICreditsPurchase"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3601-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_credits_purchase"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"9acbe1dae2861579.json","parameterValues":[]}