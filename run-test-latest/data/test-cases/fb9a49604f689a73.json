{"uid":"fb9a49604f689a73","name":"Admin change member role from Reader to Writer in project via CLI","fullName":"tests.test_cases.tests_cli.test_project_change_member_roles.TestCLIProjectStructureSetup#test_admin_change_reader_to_writer_cli","historyId":"238ad4c581585e2dce3cc4b5a0bc6b18","time":{"start":1758705941702,"stop":1758705941712,"duration":10},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1758705852657,"stop":1758705852658,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758705852658,"stop":1758705852658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1758705852658,"stop":1758705852658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758705852658,"stop":1758705852658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758705852658,"stop":1758705852658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1758705852659,"stop":1758705882659,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1758705882659,"stop":1758705882659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1758705882660,"stop":1758705882664,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1758705882664,"stop":1758705882664,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1758705882664,"stop":1758705884935,"duration":2271},"status":"passed","steps":[],"attachments":[{"uid":"c3f92f0b928a7445","name":"HTTP 200 - GET config","source":"c3f92f0b928a7445.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper","time":{"start":1758705884936,"stop":1758705884936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1758705884936,"stop":1758705884936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1758705884936,"stop":1758705884936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1758705884937,"stop":1758705940399,"duration":55462},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1758705887042,"stop":1758705918724,"duration":31682},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1758705887043,"stop":1758705888238,"duration":1195},"status":"passed","steps":[],"attachments":[{"uid":"7c8023a8fc319ef7","name":"Page URL","source":"7c8023a8fc319ef7.txt","type":"text/plain","size":33},{"uid":"937a93d9f5333f14","name":"Screenshot: Click signup button (success)","source":"937a93d9f5333f14.png","type":"image/png","size":39460}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758705888238,"stop":1758705888411,"duration":173},"status":"passed","steps":[],"attachments":[{"uid":"a456792abd7b910c","name":"Page URL","source":"a456792abd7b910c.txt","type":"text/plain","size":216},{"uid":"96f12ecbe0896f6","name":"Screenshot: Enter email (success)","source":"96f12ecbe0896f6.png","type":"image/png","size":44646}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758705888411,"stop":1758705888629,"duration":218},"status":"passed","steps":[],"attachments":[{"uid":"e84aa041436c8763","name":"Page URL","source":"e84aa041436c8763.txt","type":"text/plain","size":216},{"uid":"71522d9962554511","name":"Screenshot: Enter password (success)","source":"71522d9962554511.png","type":"image/png","size":57006}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1758705888629,"stop":1758705890581,"duration":1952},"status":"passed","steps":[],"attachments":[{"uid":"5b34d8de32dc4238","name":"Page URL","source":"5b34d8de32dc4238.txt","type":"text/plain","size":216},{"uid":"d724a1615dc17aa8","name":"Screenshot: Click continue button (success)","source":"d724a1615dc17aa8.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1758705890581,"stop":1758705891691,"duration":1110},"status":"passed","steps":[],"attachments":[{"uid":"980ec0144cb6ba8e","name":"Page URL","source":"980ec0144cb6ba8e.txt","type":"text/plain","size":192},{"uid":"8e4800cccedc6f0f","name":"HTTP 200 - GET config","source":"8e4800cccedc6f0f.txt","type":"text/plain","size":654},{"uid":"1ed2f2d24065ae06","name":"Screenshot: Verify that Verify email message displayed (success)","source":"1ed2f2d24065ae06.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1758705891691,"stop":1758705893307,"duration":1616},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1758705892071,"stop":1758705893122,"duration":1051},"status":"passed","steps":[],"attachments":[{"uid":"9b4c27f1e0612490","name":"Page URL","source":"9b4c27f1e0612490.txt","type":"text/plain","size":182},{"uid":"b2ad7fd97158bd34","name":"Screenshot: Navigate to URL (success)","source":"b2ad7fd97158bd34.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1758705893307,"stop":1758705895158,"duration":1851},"status":"passed","steps":[],"attachments":[{"uid":"6c8e2c228e7fd6e7","name":"Page URL","source":"6c8e2c228e7fd6e7.txt","type":"text/plain","size":87},{"uid":"756f4eb67324deb7","name":"HTTP 200 - GET config","source":"756f4eb67324deb7.txt","type":"text/plain","size":654},{"uid":"fb386b3ea8a8a08b","name":"Screenshot: Navigate to URL (success)","source":"fb386b3ea8a8a08b.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1758705895158,"stop":1758705895241,"duration":83},"status":"passed","steps":[],"attachments":[{"uid":"be3781966cb03762","name":"Page URL","source":"be3781966cb03762.txt","type":"text/plain","size":33},{"uid":"3a99d25e66d3a962","name":"Screenshot: Verify that Auth page displayed (success)","source":"3a99d25e66d3a962.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1758705895242,"stop":1758705896485,"duration":1243},"status":"passed","steps":[],"attachments":[{"uid":"c7a9c80eaf86ce15","name":"Page URL","source":"c7a9c80eaf86ce15.txt","type":"text/plain","size":33},{"uid":"dd20f9ae618da93d","name":"Screenshot: Click login button (success)","source":"dd20f9ae618da93d.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1758705896485,"stop":1758705897604,"duration":1119},"status":"passed","steps":[],"attachments":[{"uid":"cbf8d3499aab7fcd","name":"Page URL","source":"cbf8d3499aab7fcd.txt","type":"text/plain","size":33},{"uid":"e29a9a43f705cb13","name":"HTTP 404 - HEAD regression-ltzdnm648t","source":"e29a9a43f705cb13.txt","type":"text/plain","size":160},{"uid":"478d8c3b34ff2517","name":"Screenshot: Verify that Signup username page displayed (success)","source":"478d8c3b34ff2517.png","type":"image/png","size":37257}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1758705897604,"stop":1758705898251,"duration":647},"status":"passed","steps":[],"attachments":[{"uid":"52e986b59b3f3308","name":"Page URL","source":"52e986b59b3f3308.txt","type":"text/plain","size":362},{"uid":"1b9af95c4bad739d","name":"HTTP 404 - HEAD ","source":"1b9af95c4bad739d.txt","type":"text/plain","size":139},{"uid":"da7e01af1ea04f12","name":"HTTP 404 - HEAD regression-ltzdnm648t","source":"da7e01af1ea04f12.txt","type":"text/plain","size":160},{"uid":"3cdb17afd09e3130","name":"Screenshot: Enter username (success)","source":"3cdb17afd09e3130.png","type":"image/png","size":37545}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1758705898252,"stop":1758705908467,"duration":10215},"status":"passed","steps":[],"attachments":[{"uid":"fb20e0e04e590126","name":"Page URL","source":"fb20e0e04e590126.txt","type":"text/plain","size":362},{"uid":"d9a3bc2bead064f2","name":"HTTP 200 - GET config","source":"d9a3bc2bead064f2.txt","type":"text/plain","size":654},{"uid":"53c6b48facce7b0d","name":"Screenshot: Click signup button on Signup username page (success)","source":"53c6b48facce7b0d.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1758705908467,"stop":1758705918630,"duration":10163},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"57142709bced76c5","name":"Page URL","source":"57142709bced76c5.txt","type":"text/plain","size":222},{"uid":"80c685e545694361","name":"Screenshot: Verify that User agreement pop up displayed (fail)","source":"80c685e545694361.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"db8b858c4a3e0c84","name":"Page URL","source":"db8b858c4a3e0c84.txt","type":"text/plain","size":33},{"uid":"2f806bb75d81002d","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"2f806bb75d81002d.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1758705921025,"stop":1758705940399,"duration":19374},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1758705921025,"stop":1758705922142,"duration":1117},"status":"passed","steps":[],"attachments":[{"uid":"5d6b6f747ca85091","name":"Page URL","source":"5d6b6f747ca85091.txt","type":"text/plain","size":33},{"uid":"5ab71289c36b9f13","name":"Screenshot: Click signup button (success)","source":"5ab71289c36b9f13.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758705922142,"stop":1758705922319,"duration":177},"status":"passed","steps":[],"attachments":[{"uid":"385062114214f525","name":"Page URL","source":"385062114214f525.txt","type":"text/plain","size":216},{"uid":"90e6df2caaa60b6b","name":"Screenshot: Enter email (success)","source":"90e6df2caaa60b6b.png","type":"image/png","size":44843}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758705922319,"stop":1758705922488,"duration":169},"status":"passed","steps":[],"attachments":[{"uid":"47395d3950a59f72","name":"Page URL","source":"47395d3950a59f72.txt","type":"text/plain","size":216},{"uid":"e66f42f1a5bafa1d","name":"Screenshot: Enter password (success)","source":"e66f42f1a5bafa1d.png","type":"image/png","size":55444}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1758705922488,"stop":1758705924214,"duration":1726},"status":"passed","steps":[],"attachments":[{"uid":"69c1b7ac79be7fc6","name":"Page URL","source":"69c1b7ac79be7fc6.txt","type":"text/plain","size":216},{"uid":"a7010deb852d98da","name":"Screenshot: Click continue button (success)","source":"a7010deb852d98da.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1758705924214,"stop":1758705924664,"duration":450},"status":"passed","steps":[],"attachments":[{"uid":"7ecfccc421531902","name":"Page URL","source":"7ecfccc421531902.txt","type":"text/plain","size":192},{"uid":"8fb5a65e4fd6ad2c","name":"HTTP 200 - GET config","source":"8fb5a65e4fd6ad2c.txt","type":"text/plain","size":654},{"uid":"51ea52ff95fee9ec","name":"Screenshot: Verify that Verify email message displayed (success)","source":"51ea52ff95fee9ec.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1758705924665,"stop":1758705926306,"duration":1641},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1758705925172,"stop":1758705926131,"duration":959},"status":"passed","steps":[],"attachments":[{"uid":"5eb229411ae47f03","name":"Page URL","source":"5eb229411ae47f03.txt","type":"text/plain","size":182},{"uid":"450e7075f7fce229","name":"Screenshot: Navigate to URL (success)","source":"450e7075f7fce229.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1758705926306,"stop":1758705927856,"duration":1550},"status":"passed","steps":[],"attachments":[{"uid":"9c46b1b8002cc103","name":"Page URL","source":"9c46b1b8002cc103.txt","type":"text/plain","size":87},{"uid":"944bf7f45362bb0a","name":"HTTP 200 - GET config","source":"944bf7f45362bb0a.txt","type":"text/plain","size":654},{"uid":"4c67c9074cb1c4f4","name":"Screenshot: Navigate to URL (success)","source":"4c67c9074cb1c4f4.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1758705927856,"stop":1758705927973,"duration":117},"status":"passed","steps":[],"attachments":[{"uid":"b1ec07be608f0252","name":"Page URL","source":"b1ec07be608f0252.txt","type":"text/plain","size":33},{"uid":"f5a073b8b7ac5ac6","name":"Screenshot: Verify that Auth page displayed (success)","source":"f5a073b8b7ac5ac6.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1758705927973,"stop":1758705929174,"duration":1201},"status":"passed","steps":[],"attachments":[{"uid":"2d8342c393c61e0f","name":"Page URL","source":"2d8342c393c61e0f.txt","type":"text/plain","size":33},{"uid":"7c426175fea2e409","name":"Screenshot: Click login button (success)","source":"7c426175fea2e409.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1758705929175,"stop":1758705930283,"duration":1108},"status":"passed","steps":[],"attachments":[{"uid":"d66174b5089643b7","name":"Page URL","source":"d66174b5089643b7.txt","type":"text/plain","size":362},{"uid":"7ee6ec9b8c2bd274","name":"HTTP 404 - HEAD regression-sxb6erdq12","source":"7ee6ec9b8c2bd274.txt","type":"text/plain","size":160},{"uid":"57de2b5a08ae5150","name":"Screenshot: Verify that Signup username page displayed (success)","source":"57de2b5a08ae5150.png","type":"image/png","size":37542}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1758705930283,"stop":1758705930931,"duration":648},"status":"passed","steps":[],"attachments":[{"uid":"cf9ff84725250d6","name":"Page URL","source":"cf9ff84725250d6.txt","type":"text/plain","size":362},{"uid":"df02a322c7fa7245","name":"HTTP 404 - HEAD ","source":"df02a322c7fa7245.txt","type":"text/plain","size":139},{"uid":"38a95ad902b4c33e","name":"HTTP 404 - HEAD regression-sxb6erdq12","source":"38a95ad902b4c33e.txt","type":"text/plain","size":160},{"uid":"eb3e9c3d18b21fb","name":"Screenshot: Enter username (success)","source":"eb3e9c3d18b21fb.png","type":"image/png","size":37860}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1758705930931,"stop":1758705934440,"duration":3509},"status":"passed","steps":[],"attachments":[{"uid":"1a7975c230bea196","name":"Page URL","source":"1a7975c230bea196.txt","type":"text/plain","size":362},{"uid":"cc4d70aa5e27f8e6","name":"HTTP 200 - GET config","source":"cc4d70aa5e27f8e6.txt","type":"text/plain","size":752},{"uid":"c94e9d89a10b9b7e","name":"HTTP 200 - GET permissions?uri=blob:","source":"c94e9d89a10b9b7e.txt","type":"text/plain","size":163},{"uid":"792bb25dd8472eb9","name":"HTTP 200 - GET incoming","source":"792bb25dd8472eb9.txt","type":"text/plain","size":137},{"uid":"edf63365fc569344","name":"HTTP 200 - GET regression-sxb6erdq12?include=orgs","source":"edf63365fc569344.txt","type":"text/plain","size":361},{"uid":"9ab259f5253a51d4","name":"HTTP 200 - GET regression-sxb6erdq12?include=clusters&include=system_role","source":"9ab259f5253a51d4.txt","type":"text/plain","size":389},{"uid":"68e872ca5331880e","name":"HTTP 200 - GET config","source":"68e872ca5331880e.txt","type":"text/plain","size":752},{"uid":"f6b4717d9816f90e","name":"HTTP 200 - GET permissions?uri=blob:","source":"f6b4717d9816f90e.txt","type":"text/plain","size":163},{"uid":"aa878402d85c40e3","name":"HTTP 200 - GET incoming","source":"aa878402d85c40e3.txt","type":"text/plain","size":137},{"uid":"fe0a0a6a1ce66f21","name":"HTTP 200 - GET regression-sxb6erdq12?include=orgs","source":"fe0a0a6a1ce66f21.txt","type":"text/plain","size":361},{"uid":"88d400fe3a38e0c0","name":"HTTP 200 - GET regression-sxb6erdq12?include=clusters&include=system_role","source":"88d400fe3a38e0c0.txt","type":"text/plain","size":389},{"uid":"c78de69c3c26e6b3","name":"Screenshot: Click signup button on Signup username page (success)","source":"c78de69c3c26e6b3.png","type":"image/png","size":39037}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1758705934440,"stop":1758705934553,"duration":113},"status":"passed","steps":[],"attachments":[{"uid":"255a6257ef5fa269","name":"Page URL","source":"255a6257ef5fa269.txt","type":"text/plain","size":151},{"uid":"31838fa36aea4245","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"31838fa36aea4245.png","type":"image/png","size":45702}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1758705934553,"stop":1758705935240,"duration":687},"status":"passed","steps":[],"attachments":[{"uid":"408fe7aed78f8459","name":"Page URL","source":"408fe7aed78f8459.txt","type":"text/plain","size":151},{"uid":"34ce11d825ab5e72","name":"Screenshot: Check agreement checkbox (success)","source":"34ce11d825ab5e72.png","type":"image/png","size":40873}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1758705935240,"stop":1758705935953,"duration":713},"status":"passed","steps":[],"attachments":[{"uid":"830674e221d1601a","name":"Page URL","source":"830674e221d1601a.txt","type":"text/plain","size":151},{"uid":"bc617931ecbdc6f2","name":"HTTP 204 - PUT profile","source":"bc617931ecbdc6f2.txt","type":"text/plain","size":154},{"uid":"98fa5fe480422c4a","name":"Screenshot: Click I Agree button (success)","source":"98fa5fe480422c4a.png","type":"image/png","size":41492}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1758705935953,"stop":1758705936103,"duration":150},"status":"passed","steps":[],"attachments":[{"uid":"7e0a18b241b1f16a","name":"Page URL","source":"7e0a18b241b1f16a.txt","type":"text/plain","size":44},{"uid":"e9228da38eb78e74","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"e9228da38eb78e74.png","type":"image/png","size":160538}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1758705936103,"stop":1758705939198,"duration":3095},"status":"passed","steps":[],"attachments":[{"uid":"47e93d5fb5a5b98b","name":"Page URL","source":"47e93d5fb5a5b98b.txt","type":"text/plain","size":44},{"uid":"215eca87d6a9f524","name":"Screenshot: Wait for timeout (success)","source":"215eca87d6a9f524.png","type":"image/png","size":160538}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1758705939199,"stop":1758705940298,"duration":1099},"status":"passed","steps":[],"attachments":[{"uid":"982b4ba76b45c113","name":"Page URL","source":"982b4ba76b45c113.txt","type":"text/plain","size":44},{"uid":"89b80d203da46c03","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"89b80d203da46c03.png","type":"image/png","size":160538}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"72ebf050a41ae7","name":"Page URL","source":"72ebf050a41ae7.txt","type":"text/plain","size":33},{"uid":"6aa04f5a77c334a1","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"6aa04f5a77c334a1.png","type":"image/png","size":160538}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":54,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3829efe3d9179bda","name":"HTTP 200 - GET config","source":"3829efe3d9179bda.txt","type":"text/plain","size":654},{"uid":"b874736b9142ff6a","name":"HTTP 200 - GET config","source":"b874736b9142ff6a.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":35,"attachmentsCount":90,"hasContent":true,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1758705884937,"stop":1758705884937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1758705940399,"stop":1758705941701,"duration":1302},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1758705940400,"stop":1758705941701,"duration":1301},"status":"passed","steps":[],"attachments":[{"uid":"a05114592806f7e7","name":"Executed CLI command","source":"a05114592806f7e7.txt","type":"text/plain","size":15},{"uid":"9d4cf2b831c1305c","name":"Executed CLI command output","source":"9d4cf2b831c1305c.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1758705940399,"stop":1758705940399,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1758705940399,"stop":1758705940399,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1758705941702,"stop":1758705941711,"duration":9},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click login button","time":{"start":1758705941703,"stop":1758705941709,"duration":6},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"b045da7a723cfd7","name":"Page URL","source":"b045da7a723cfd7.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e52b540a6e22439","name":"Page URL","source":"e52b540a6e22439.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"50c6e4c89063b4cc","name":"log","source":"50c6e4c89063b4cc.txt","type":"text/plain","size":35648}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1758705941904,"stop":1758705941904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758705941904,"stop":1758705941904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758705941904,"stop":1758705945532,"duration":3628},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1758705941904,"stop":1758705945532,"duration":3628},"status":"passed","steps":[],"attachments":[{"uid":"54d8c8b0608cca0c","name":"Cleanup note","source":"54d8c8b0608cca0c.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1758705945534,"stop":1758705945534,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1758705945535,"stop":1758705945536,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Project Remove Members"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3715-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"fb9a49604f689a73.json","parameterValues":[]}