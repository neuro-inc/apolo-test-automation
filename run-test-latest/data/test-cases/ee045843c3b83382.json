{"uid":"ee045843c3b83382","name":"Admin create second secret via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_second_secret_cli","historyId":"845e221e8b146c443519ec46a03e8fea","time":{"start":1757818846074,"stop":1757818877257,"duration":31183},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create first secret via **CLI**.\n\n### Verify that:\n\n- User can create second secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create first secret via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757813532635,"stop":1757813532635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757813532635,"stop":1757813532635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1757813532635,"stop":1757813532635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757813532635,"stop":1757813532635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757813532635,"stop":1757813532635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1757813532636,"stop":1757813547636,"duration":15000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1757813547636,"stop":1757813547636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1757818843010,"stop":1757818843013,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757818843013,"stop":1757818843013,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757818843013,"stop":1757818845522,"duration":2509},"status":"passed","steps":[],"attachments":[{"uid":"90451d5e50d8e0d0","name":"HTTP 200 - GET config","source":"90451d5e50d8e0d0.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"users_manager","time":{"start":1757818845522,"stop":1757818845522,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1757818845522,"stop":1757818845522,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757818845523,"stop":1757818845523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757818845523,"stop":1757818845524,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1757818845523,"stop":1757818845523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1757818845524,"stop":1757818845524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1757818845524,"stop":1757818846073,"duration":549},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1757818845524,"stop":1757818846073,"duration":549},"status":"passed","steps":[],"attachments":[{"uid":"d5a95181eab3d080","name":"Executed CLI command","source":"d5a95181eab3d080.txt","type":"text/plain","size":15},{"uid":"81aa4891e00b784c","name":"Executed CLI command output","source":"81aa4891e00b784c.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1757818845524,"stop":1757818845524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create first secret via **CLI**.\n\n### Verify that:\n\n- User can create second secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create first secret via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create second secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1757818846074,"stop":1757818857241,"duration":11167},"status":"passed","steps":[{"name":"Click login button","time":{"start":1757818846075,"stop":1757818847275,"duration":1200},"status":"passed","steps":[],"attachments":[{"uid":"c3a7d90754beabf4","name":"Page URL","source":"c3a7d90754beabf4.txt","type":"text/plain","size":33},{"uid":"61f7ebd4ce50710b","name":"Screenshot: Click login button (success)","source":"61f7ebd4ce50710b.png","type":"image/png","size":41583}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757818847275,"stop":1757818847408,"duration":133},"status":"passed","steps":[],"attachments":[{"uid":"a1ab54312e70571","name":"Page URL","source":"a1ab54312e70571.txt","type":"text/plain","size":215},{"uid":"48c1285aa222ede6","name":"Screenshot: Enter email (success)","source":"48c1285aa222ede6.png","type":"image/png","size":45949}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757818847408,"stop":1757818847560,"duration":152},"status":"passed","steps":[],"attachments":[{"uid":"7b063c9d8695d06f","name":"Page URL","source":"7b063c9d8695d06f.txt","type":"text/plain","size":215},{"uid":"f860bf74da8ba887","name":"Screenshot: Enter password (success)","source":"f860bf74da8ba887.png","type":"image/png","size":46473}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1757818847560,"stop":1757818856007,"duration":8447},"status":"passed","steps":[],"attachments":[{"uid":"7b734201f6a9e056","name":"Page URL","source":"7b734201f6a9e056.txt","type":"text/plain","size":215},{"uid":"5b8938cffce45d61","name":"HTTP 200 - GET config","source":"5b8938cffce45d61.txt","type":"text/plain","size":752},{"uid":"618592719b163ca4","name":"HTTP 200 - GET permissions?uri=blob:","source":"618592719b163ca4.txt","type":"text/plain","size":163},{"uid":"2a6550e27d3a55ec","name":"HTTP 200 - GET regression-uiiqr8lsw3?include=clusters&include=system_role","source":"2a6550e27d3a55ec.txt","type":"text/plain","size":388},{"uid":"1d7cbdf1a9372d7f","name":"HTTP 200 - GET incoming","source":"1d7cbdf1a9372d7f.txt","type":"text/plain","size":137},{"uid":"61ef4981bc98c71e","name":"HTTP 200 - GET regression-uiiqr8lsw3?include=orgs","source":"61ef4981bc98c71e.txt","type":"text/plain","size":360},{"uid":"3ae50756f6bd8d77","name":"Screenshot: Click Continue button (success)","source":"3ae50756f6bd8d77.png","type":"image/png","size":160343}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757818856019,"stop":1757818857129,"duration":1110},"status":"passed","steps":[],"attachments":[{"uid":"20660cd8e467011e","name":"Page URL","source":"20660cd8e467011e.txt","type":"text/plain","size":44},{"uid":"b517a226faaac90f","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"b517a226faaac90f.png","type":"image/png","size":160343}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"510da6bb3e20a1b7","name":"Page URL","source":"510da6bb3e20a1b7.txt","type":"text/plain","size":33},{"uid":"71cd381f614afa39","name":"Screenshot: Login via UI (success)","source":"71cd381f614afa39.png","type":"image/png","size":160343}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1757818857241,"stop":1757818868909,"duration":11668},"status":"passed","steps":[{"name":"Reload page","time":{"start":1757818866174,"stop":1757818868826,"duration":2652},"status":"passed","steps":[],"attachments":[{"uid":"f6d320a7e7ea12b3","name":"Page URL","source":"f6d320a7e7ea12b3.txt","type":"text/plain","size":44},{"uid":"c41aa719cba7a902","name":"HTTP 200 - GET config","source":"c41aa719cba7a902.txt","type":"text/plain","size":1118},{"uid":"e7e0e358d4762046","name":"HTTP 200 - GET permissions?uri=blob:","source":"e7e0e358d4762046.txt","type":"text/plain","size":163},{"uid":"a7d4ae954457e513","name":"HTTP 200 - GET regression-org-383yb95zjxuw","source":"a7d4ae954457e513.txt","type":"text/plain","size":425},{"uid":"193e763af2d8576a","name":"HTTP 200 - GET incoming","source":"193e763af2d8576a.txt","type":"text/plain","size":137},{"uid":"c49d413bd85d5499","name":"HTTP 200 - GET regression-uiiqr8lsw3?include=clusters&include=system_role","source":"c49d413bd85d5499.txt","type":"text/plain","size":510},{"uid":"99411916e5080106","name":"HTTP 200 - GET regression-uiiqr8lsw3?include=orgs","source":"99411916e5080106.txt","type":"text/plain","size":455},{"uid":"8d0ee869dc5a9679","name":"Screenshot: Reload page (success)","source":"8d0ee869dc5a9679.png","type":"image/png","size":57663}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e1048897215721c3","name":"Page URL","source":"e1048897215721c3.txt","type":"text/plain","size":44},{"uid":"e8a4674f6a398e20","name":"Screenshot: Add organization via API and reload page (success)","source":"e8a4674f6a398e20.png","type":"image/png","size":57663}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1757818868909,"stop":1757818870577,"duration":1668},"status":"passed","steps":[],"attachments":[{"uid":"19577bca13d1a946","name":"Executed CLI command","source":"19577bca13d1a946.txt","type":"text/plain","size":1114},{"uid":"5c316d76e43b9186","name":"Executed CLI command output","source":"5c316d76e43b9186.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1757818870577,"stop":1757818874426,"duration":3849},"status":"passed","steps":[],"attachments":[{"uid":"3d9a8c5c03380de4","name":"Executed CLI command","source":"3d9a8c5c03380de4.txt","type":"text/plain","size":114},{"uid":"5cdee308300e9010","name":"Executed CLI command output","source":"5cdee308300e9010.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1757818874426,"stop":1757818875530,"duration":1104},"status":"passed","steps":[],"attachments":[{"uid":"37345c14530c5714","name":"Executed CLI command","source":"37345c14530c5714.txt","type":"text/plain","size":39},{"uid":"9ffda618bb1b2714","name":"Executed CLI command output","source":"9ffda618bb1b2714.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1757818875530,"stop":1757818876397,"duration":867},"status":"passed","steps":[],"attachments":[{"uid":"1eefbb772becbbc7","name":"Executed CLI command","source":"1eefbb772becbbc7.txt","type":"text/plain","size":43},{"uid":"9095378b5e398507","name":"Executed CLI command output","source":"9095378b5e398507.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"List secrets via CLI","time":{"start":1757818876397,"stop":1757818877256,"duration":859},"status":"passed","steps":[],"attachments":[{"uid":"bae0da27eb9a261a","name":"Executed CLI command","source":"bae0da27eb9a261a.txt","type":"text/plain","size":15},{"uid":"8c24b72a45765d71","name":"Executed CLI command output","source":"8c24b72a45765d71.txt","type":"text/plain","size":493}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify secret listed in list secrets output","time":{"start":1757818877256,"stop":1757818877256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify secret listed in list secrets output","time":{"start":1757818877256,"stop":1757818877256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"83b852a7ce146d36","name":"log","source":"83b852a7ce146d36.txt","type":"text/plain","size":19554}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":15,"attachmentsCount":38,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1757818877257,"stop":1757818877258,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757818877258,"stop":1757818877258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757818877258,"stop":1757818880888,"duration":3630},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757818877258,"stop":1757818880888,"duration":3630},"status":"passed","steps":[{"name":"Delete organisation: regression-org-383yb95zjxuw","time":{"start":1757818880192,"stop":1757818880835,"duration":643},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757818880888,"stop":1757818880889,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757818880890,"stop":1757818880890,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Secrets"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3606-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":31,"unknown":0,"total":31},"items":[{"uid":"b9566e831995800c","status":"passed","time":{"start":1757732727435,"stop":1757732765391,"duration":37956}},{"uid":"11c62be7f4cb0943","status":"passed","time":{"start":1757645810215,"stop":1757645842499,"duration":32284}},{"uid":"af472247f0ed65ae","status":"passed","time":{"start":1757559434782,"stop":1757559487692,"duration":52910}},{"uid":"3a8d39cd436e342d","status":"passed","time":{"start":1757473989801,"stop":1757474030024,"duration":40223}},{"uid":"ac8f2c46bde946f2","status":"passed","time":{"start":1757421794594,"stop":1757421833525,"duration":38931}},{"uid":"47a2047b678b4766","status":"passed","time":{"start":1757387142593,"stop":1757387174101,"duration":31508}},{"uid":"43d9e408f36e8e3e","status":"passed","time":{"start":1757300637685,"stop":1757300662022,"duration":24337}},{"uid":"9a28f702ee45d3c0","status":"passed","time":{"start":1757214634736,"stop":1757214668699,"duration":33963}},{"uid":"c145b3d256b6adb3","status":"passed","time":{"start":1757143922654,"stop":1757143964221,"duration":41567}},{"uid":"a8c5cc33b4ae5b78","status":"passed","time":{"start":1757127974816,"stop":1757128006302,"duration":31486}},{"uid":"8f0187ea6a20126","status":"passed","time":{"start":1757041004574,"stop":1757041059202,"duration":54628}},{"uid":"30c59a21d156cfc2","status":"passed","time":{"start":1756954883846,"stop":1756954925239,"duration":41393}},{"uid":"e83c0c1de9ee1fcb","status":"passed","time":{"start":1756868090532,"stop":1756868118006,"duration":27474}},{"uid":"435ca6ca8e654d40","status":"passed","time":{"start":1756805644996,"stop":1756805668534,"duration":23538}},{"uid":"1a2de3177cad2bce","status":"passed","time":{"start":1756608801742,"stop":1756608829883,"duration":28141}},{"uid":"3edba26c9ff57efa","status":"passed","time":{"start":1756522465468,"stop":1756522493834,"duration":28366}},{"uid":"592508b71ddd757f","status":"passed","time":{"start":1756436244022,"stop":1756436264942,"duration":20920}},{"uid":"d131d849c0059c4d","status":"passed","time":{"start":1756349636275,"stop":1756349658304,"duration":22029}},{"uid":"d063353c365ac1ed","status":"passed","time":{"start":1756177066796,"stop":1756177120907,"duration":54111}},{"uid":"a3092e0684b3fb3e","status":"passed","time":{"start":1756090391666,"stop":1756090413745,"duration":22079}}]},"tags":["asyncio"]},"source":"ee045843c3b83382.json","parameterValues":[]}