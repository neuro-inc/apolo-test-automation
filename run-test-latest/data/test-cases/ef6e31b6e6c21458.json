{"uid":"ef6e31b6e6c21458","name":"User with organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_with_token_cli","historyId":"075596f237e9dcd99027c3eb0247d079","time":{"start":1755312666485,"stop":1755312686867,"duration":20382},"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Create organization via API.\nVerify that:\n    - User can login with Bearer auth token via CLI.\n    - Login output in CLI valid organization and no project info.\n","descriptionHtml":"<p>-Login with valid credentials via UI.<br />\n-Get Bearer auth token from Playwright local storage.<br />\n-Create organization via API.<br />\nVerify that:<br />\n- User can login with Bearer auth token via CLI.<br />\n- Login output in CLI valid organization and no project info.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755307922253,"stop":1755307937253,"duration":15000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755307937253,"stop":1755307937253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755312663947,"stop":1755312663949,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755312663949,"stop":1755312665991,"duration":2042},"status":"passed","steps":[],"attachments":[{"uid":"4db58af6b779dd11","name":"HTTP 200 - GET config","source":"4db58af6b779dd11.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755312663949,"stop":1755312663949,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755312665992,"stop":1755312665992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755312665992,"stop":1755312665992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1755312665992,"stop":1755312665992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755312665992,"stop":1755312665993,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755312665993,"stop":1755312665993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755312665993,"stop":1755312665993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755312665993,"stop":1755312665994,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755312665994,"stop":1755312666484,"duration":490},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755312665994,"stop":1755312666484,"duration":490},"status":"passed","steps":[],"attachments":[{"uid":"db074b5009b81860","name":"Executed CLI command","source":"db074b5009b81860.txt","type":"text/plain","size":15},{"uid":"ff9f8cc31959a6ca","name":"Executed CLI command output","source":"ff9f8cc31959a6ca.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Create organization via API.\nVerify that:\n    - User can login with Bearer auth token via CLI.\n    - Login output in CLI valid organization and no project info.\n","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755312666485,"stop":1755312677394,"duration":10909},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755312666485,"stop":1755312667302,"duration":817},"status":"passed","steps":[],"attachments":[{"uid":"75e3c25e6860cf5f","name":"Page URL","source":"75e3c25e6860cf5f.txt","type":"text/plain","size":33},{"uid":"b8805f59f86f5a82","name":"Screenshot: Click login button (success)","source":"b8805f59f86f5a82.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755312667302,"stop":1755312667730,"duration":428},"status":"passed","steps":[],"attachments":[{"uid":"3499dba82d73a2f0","name":"Page URL","source":"3499dba82d73a2f0.txt","type":"text/plain","size":33},{"uid":"ff5636fb2837194c","name":"Screenshot: Enter email (success)","source":"ff5636fb2837194c.png","type":"image/png","size":47192}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755312667730,"stop":1755312667961,"duration":231},"status":"passed","steps":[],"attachments":[{"uid":"fe498cdbf50315f2","name":"Page URL","source":"fe498cdbf50315f2.txt","type":"text/plain","size":215},{"uid":"9607b76cb3373481","name":"Screenshot: Enter password (success)","source":"9607b76cb3373481.png","type":"image/png","size":47629}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755312667961,"stop":1755312676150,"duration":8189},"status":"passed","steps":[],"attachments":[{"uid":"64030804fd5cf49d","name":"Page URL","source":"64030804fd5cf49d.txt","type":"text/plain","size":215},{"uid":"a8948dce02312905","name":"HTTP 200 - GET config","source":"a8948dce02312905.txt","type":"text/plain","size":752},{"uid":"28ab24140483a833","name":"HTTP 200 - GET permissions?uri=blob:","source":"28ab24140483a833.txt","type":"text/plain","size":163},{"uid":"f37ef3f716fdb4e6","name":"HTTP 200 - GET regression-s904d81tdk?include=orgs","source":"f37ef3f716fdb4e6.txt","type":"text/plain","size":360},{"uid":"ba76e22fa039666b","name":"HTTP 200 - GET incoming","source":"ba76e22fa039666b.txt","type":"text/plain","size":137},{"uid":"9cfcb16c0856bf95","name":"HTTP 200 - GET regression-s904d81tdk?include=clusters&include=system_role","source":"9cfcb16c0856bf95.txt","type":"text/plain","size":388},{"uid":"51fe906c3b16218","name":"Screenshot: Click Continue button (success)","source":"51fe906c3b16218.png","type":"image/png","size":161347}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755312676164,"stop":1755312677277,"duration":1113},"status":"passed","steps":[],"attachments":[{"uid":"4c20013a18340741","name":"Page URL","source":"4c20013a18340741.txt","type":"text/plain","size":44},{"uid":"af9384a118c1c050","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"af9384a118c1c050.png","type":"image/png","size":161347}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c98bd2d37b85ec40","name":"Page URL","source":"c98bd2d37b85ec40.txt","type":"text/plain","size":33},{"uid":"5c288077eebd8351","name":"Screenshot: Login via UI (success)","source":"5c288077eebd8351.png","type":"image/png","size":161347}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1755312677394,"stop":1755312686002,"duration":8608},"status":"passed","steps":[{"name":"Reload page","time":{"start":1755312684262,"stop":1755312685918,"duration":1656},"status":"passed","steps":[],"attachments":[{"uid":"5922a1a86e0a1005","name":"Page URL","source":"5922a1a86e0a1005.txt","type":"text/plain","size":44},{"uid":"cd60f028fcb74588","name":"HTTP 200 - GET config","source":"cd60f028fcb74588.txt","type":"text/plain","size":1118},{"uid":"d7126ab34f202d92","name":"HTTP 200 - GET permissions?uri=blob:","source":"d7126ab34f202d92.txt","type":"text/plain","size":236},{"uid":"19b8ed9184a62dc","name":"HTTP 200 - GET incoming","source":"19b8ed9184a62dc.txt","type":"text/plain","size":137},{"uid":"1f82e0d437163f48","name":"HTTP 200 - GET regression-org-aen8w4afdkkj","source":"1f82e0d437163f48.txt","type":"text/plain","size":425},{"uid":"3c228cc71b0024dc","name":"HTTP 200 - GET regression-s904d81tdk?include=clusters&include=system_role","source":"3c228cc71b0024dc.txt","type":"text/plain","size":510},{"uid":"142f5df5c515e103","name":"HTTP 200 - GET regression-s904d81tdk?include=orgs","source":"142f5df5c515e103.txt","type":"text/plain","size":455},{"uid":"b470e79050181f27","name":"Screenshot: Reload page (success)","source":"b470e79050181f27.png","type":"image/png","size":57029}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e472083b204e61c6","name":"Page URL","source":"e472083b204e61c6.txt","type":"text/plain","size":44},{"uid":"ec70b540b756554c","name":"Screenshot: Add organization via API and reload page (success)","source":"ec70b540b756554c.png","type":"image/png","size":57029}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755312686002,"stop":1755312686866,"duration":864},"status":"passed","steps":[],"attachments":[{"uid":"38cd0c1f2e5c40db","name":"Executed CLI command","source":"38cd0c1f2e5c40db.txt","type":"text/plain","size":1114},{"uid":"7b2963ae3604ddff","name":"Executed CLI command output","source":"7b2963ae3604ddff.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1755312686866,"stop":1755312686867,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"99f1296a89c4efc","name":"Executed CLI command","source":"99f1296a89c4efc.txt","type":"text/plain","size":1114},{"uid":"60f5969623842046","name":"Executed CLI command output","source":"60f5969623842046.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"243a06d313fb64cc","name":"log","source":"243a06d313fb64cc.txt","type":"text/plain","size":16457}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1755312686868,"stop":1755312686868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1755312686869,"stop":1755312695277,"duration":8408},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755312686869,"stop":1755312695277,"duration":8408},"status":"passed","steps":[{"name":"Delete organisation: regression-org-aen8w4afdkkj","time":{"start":1755312691174,"stop":1755312695233,"duration":4059},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755312695278,"stop":1755312695279,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755312695280,"stop":1755312695281,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"5905-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":7},"items":[{"uid":"6a363645946a3e3e","status":"passed","time":{"start":1755284436561,"stop":1755284463826,"duration":27265}},{"uid":"67c7cf9bda28068e","status":"passed","time":{"start":1754880255737,"stop":1754880275437,"duration":19700}},{"uid":"31b83455d3e9435d","status":"passed","time":{"start":1754831416534,"stop":1754831438962,"duration":22428}},{"uid":"da8acd88dca1c378","status":"passed","time":{"start":1754707248416,"stop":1754707263164,"duration":14748}},{"uid":"8d7631606d83903f","status":"passed","time":{"start":1754620215504,"stop":1754620231473,"duration":15969}},{"uid":"407e7b7dbb045232","status":"passed","time":{"start":1754596053145,"stop":1754596068039,"duration":14894}}]},"tags":["asyncio"]},"source":"ef6e31b6e6c21458.json","parameterValues":[]}