{"uid":"e8536ecfe16deb40","name":"Verify PostgreSQL client connection in Shell app via UI","fullName":"tests.test_cases.tests_e2e.test_postgres_app.TestE2EPostgresApp#test_postgres_connection_in_shell_vi_ui","historyId":"c0048ef5f0ba987b2fba7adf593e37a0","time":{"start":1761967070158,"stop":1761967090001,"duration":19843},"description":"\n### Pre-conditions:\n- PostgreSQL app installed.\n- Shell app installed.\n\n### Steps:\n- Login with valid credentials.\n- Get Postgres Users.Postgres User Credentials[0].Uri from `output` API.\n- Open Shell app.\n- Run `psql {URI}` command in Shell app.\n\n### Verify that:\n\n- psql connection is successful.\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>PostgreSQL app installed.</li>\n<li>Shell app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>Get Postgres Users.Postgres User Credentials[0].Uri from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>output</span> API.</li>\n<li>Open Shell app.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>psql {URI}</span> command in Shell app.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>psql connection is successful.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1761960688535,"stop":1761960688535,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761960688535,"stop":1761960688536,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761960688536,"stop":1761960688536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1761960688536,"stop":1761960688536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1761960688536,"stop":1761960688536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1761960688536,"stop":1761960688536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761960688536,"stop":1761960688536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1761967069474,"stop":1761967069477,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1761967069477,"stop":1761967069477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1761967069477,"stop":1761967070156,"duration":679},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1761967070156,"stop":1761967070156,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1761967070156,"stop":1761967070156,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1761967070156,"stop":1761967070156,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1761967070157,"stop":1761967070157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1761967070157,"stop":1761967070157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1761967070157,"stop":1761967070157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"postgres_status","time":{"start":1761967070157,"stop":1761967070157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1761967070157,"stop":1761967070157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1761967070157,"stop":1761967070157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"shell_status","time":{"start":1761967070158,"stop":1761967070158,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n### Pre-conditions:\n- PostgreSQL app installed.\n- Shell app installed.\n\n### Steps:\n- Login with valid credentials.\n- Get Postgres Users.Postgres User Credentials[0].Uri from `output` API.\n- Open Shell app.\n- Run `psql {URI}` command in Shell app.\n\n### Verify that:\n\n- psql connection is successful.\n","descriptionHtml":"<div style='line-height:1.6;'><h3>Pre-conditions:</h3>\n<ul>\n<li>PostgreSQL app installed.</li>\n<li>Shell app installed.</li>\n</ul>\n<h3>Steps:</h3>\n<ul>\n<li>Login with valid credentials.</li>\n<li>Get Postgres Users.Postgres User Credentials[0].Uri from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>output</span> API.</li>\n<li>Open Shell app.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>psql {URI}</span> command in Shell app.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>psql connection is successful.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1761967070159,"stop":1761967075879,"duration":5720},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1761967070159,"stop":1761967071238,"duration":1079},"status":"passed","steps":[],"attachments":[{"uid":"e0bd9d379bc58707","name":"Page URL","source":"e0bd9d379bc58707.txt","type":"text/plain","size":29},{"uid":"f393c48f76a75e58","name":"HTTP 200 - GET config","source":"f393c48f76a75e58.txt","type":"text/plain","size":673},{"uid":"6413a836b6f8402d","name":"Screenshot: Verify that Auth page displayed (success)","source":"6413a836b6f8402d.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1761967071238,"stop":1761967072112,"duration":874},"status":"passed","steps":[],"attachments":[{"uid":"3a38d3b856725cce","name":"Page URL","source":"3a38d3b856725cce.txt","type":"text/plain","size":33},{"uid":"93a2eae0edf7e005","name":"Screenshot: Click login button (success)","source":"93a2eae0edf7e005.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1761967072112,"stop":1761967072314,"duration":202},"status":"passed","steps":[],"attachments":[{"uid":"d1e4dc77e891d5e9","name":"Page URL","source":"d1e4dc77e891d5e9.txt","type":"text/plain","size":215},{"uid":"4b977bc271a9b139","name":"Screenshot: Verify that Login page displayed (success)","source":"4b977bc271a9b139.png","type":"image/png","size":41599}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1761967072314,"stop":1761967072631,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"8acdd276b399bc4e","name":"Page URL","source":"8acdd276b399bc4e.txt","type":"text/plain","size":215},{"uid":"1ba937da62bc37c8","name":"Screenshot: Enter email (success)","source":"1ba937da62bc37c8.png","type":"image/png","size":45986}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1761967072631,"stop":1761967072946,"duration":315},"status":"passed","steps":[],"attachments":[{"uid":"e503a771dabefe85","name":"Page URL","source":"e503a771dabefe85.txt","type":"text/plain","size":215},{"uid":"aee708e7f0ecb21b","name":"Screenshot: Enter password (success)","source":"aee708e7f0ecb21b.png","type":"image/png","size":46130}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1761967072946,"stop":1761967075596,"duration":2650},"status":"passed","steps":[],"attachments":[{"uid":"3c4dbacbe1c747eb","name":"Page URL","source":"3c4dbacbe1c747eb.txt","type":"text/plain","size":215},{"uid":"6a44a4f937aeb64d","name":"HTTP 200 - GET config","source":"6a44a4f937aeb64d.txt","type":"text/plain","size":2137},{"uid":"5976a7e2dbd7a040","name":"HTTP 200 - GET permissions?uri=blob:","source":"5976a7e2dbd7a040.txt","type":"text/plain","size":255},{"uid":"944a0c71d9ea04d7","name":"HTTP 200 - GET incoming","source":"944a0c71d9ea04d7.txt","type":"text/plain","size":156},{"uid":"916ce4519d72720e","name":"HTTP 200 - GET regression-org-95pw8hv5lmv4","source":"916ce4519d72720e.txt","type":"text/plain","size":498},{"uid":"cf8f75a50b9d91d8","name":"HTTP 200 - GET regression-vdfmiqtda8?include=orgs","source":"cf8f75a50b9d91d8.txt","type":"text/plain","size":477},{"uid":"c2d28935701c0036","name":"HTTP 200 - GET instances?org=regression-org-95pw8hv5lmv4&project=regression-proj-6szgh4nzdk&cluster=default&size=100","source":"c2d28935701c0036.txt","type":"text/plain","size":1575},{"uid":"8e5a1a88575b4382","name":"HTTP 200 - GET regression-vdfmiqtda8?include=clusters&include=system_role","source":"8e5a1a88575b4382.txt","type":"text/plain","size":529},{"uid":"21bfb078abe2bfa1","name":"HTTP 200 - GET templates","source":"21bfb078abe2bfa1.txt","type":"text/plain","size":2146},{"uid":"99b74f1387e40399","name":"HTTP 200 - GET tags","source":"99b74f1387e40399.txt","type":"text/plain","size":867},{"uid":"866e169a78e3ecc2","name":"HTTP 200 - GET templates?page=1&size=50","source":"866e169a78e3ecc2.txt","type":"text/plain","size":2161},{"uid":"dc6b2803de45ae9e","name":"Screenshot: Click Continue button (success)","source":"dc6b2803de45ae9e.png","type":"image/png","size":154011}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify Apps page displayed","time":{"start":1761967075604,"stop":1761967075747,"duration":143},"status":"passed","steps":[],"attachments":[{"uid":"6127634eb6db82c4","name":"Page URL","source":"6127634eb6db82c4.txt","type":"text/plain","size":116},{"uid":"b356da37c0501bfb","name":"Screenshot: Verify Apps page displayed (success)","source":"b356da37c0501bfb.png","type":"image/png","size":159670}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c6b229a6dfdc9e79","name":"Page URL","source":"c6b229a6dfdc9e79.txt","type":"text/plain","size":29},{"uid":"4ad5a484f61c9aba","name":"Screenshot: Login via UI (success)","source":"4ad5a484f61c9aba.png","type":"image/png","size":159603}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":27,"hasContent":true,"attachmentStep":false},{"name":"Get PostgreSQL User URI endpoint via API","time":{"start":1761967075880,"stop":1761967076081,"duration":201},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Open Shell app page","time":{"start":1761967076081,"stop":1761967079733,"duration":3652},"status":"passed","steps":[],"attachments":[{"uid":"29e0cc40f664029e","name":"Page URL","source":"29e0cc40f664029e.txt","type":"text/plain","size":116},{"uid":"654fb9237df92d8b","name":"HTTP 302 - GET callback?success_redirect_url=https%3A%2F%2Fshell--fdd398253a184ccf9df9a2563e9b6d77.apps.dev.apolo.us%2F&code=9Ppu7XKXo78imMHOqDGmAvaKpRfQlW1wY4-jWqU44JVpF","source":"654fb9237df92d8b.txt","type":"text/plain","size":298},{"uid":"577819b3906632e6","name":"Screenshot: Open Shell app page (success)","source":"577819b3906632e6.png","type":"image/png","size":201211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter command inside shell app page","time":{"start":1761967079733,"stop":1761967086985,"duration":7252},"status":"passed","steps":[],"attachments":[{"uid":"b93b3a5b29721847","name":"Page URL","source":"b93b3a5b29721847.txt","type":"text/plain","size":66},{"uid":"c345e03e692d3ce3","name":"Screenshot: Enter command inside shell app page (success)","source":"c345e03e692d3ce3.png","type":"image/png","size":214757}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Open Shell app page","time":{"start":1761967086985,"stop":1761967089776,"duration":2791},"status":"passed","steps":[],"attachments":[{"uid":"ca7012475a257e39","name":"Page URL","source":"ca7012475a257e39.txt","type":"text/plain","size":66},{"uid":"f84540ba0f5ed4e9","name":"Screenshot: Open Shell app page (success)","source":"f84540ba0f5ed4e9.png","type":"image/png","size":214757}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify executed command displayed in shell output","time":{"start":1761967089776,"stop":1761967089884,"duration":108},"status":"passed","steps":[],"attachments":[{"uid":"fcf11f1311c4d6ca","name":"Page URL","source":"fcf11f1311c4d6ca.txt","type":"text/plain","size":66},{"uid":"10aae2d3d40915e7","name":"Screenshot: Verify executed command displayed in shell output (success)","source":"10aae2d3d40915e7.png","type":"image/png","size":214757}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify psql connection was successful in shell output","time":{"start":1761967089884,"stop":1761967090001,"duration":117},"status":"passed","steps":[],"attachments":[{"uid":"1291d0128ecc7cb9","name":"Page URL","source":"1291d0128ecc7cb9.txt","type":"text/plain","size":66},{"uid":"c8ae61a6d4ac4ca3","name":"Screenshot: Verify psql connection was successful in shell output (success)","source":"c8ae61a6d4ac4ca3.png","type":"image/png","size":214757}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"883837d451aa71bb","name":"log","source":"883837d451aa71bb.txt","type":"text/plain","size":22387},{"uid":"c1b53c4fccd5fab5","name":"stdout","source":"c1b53c4fccd5fab5.txt","type":"text/plain","size":288}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":40,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1761967090002,"stop":1761967090003,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1761967090002,"stop":1761967090002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1761967090003,"stop":1761967090003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1761967090003,"stop":1761967090003,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1761967090004,"stop":1761967090005,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"E2E Tests"},{"name":"suite","value":"PostgreSQL App"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"class_setup"},{"name":"subSuite","value":"TestE2EPostgresApp"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"3562-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_e2e.test_postgres_app"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":1,"skipped":3,"passed":7,"unknown":0,"total":13},"items":[{"uid":"84e670627a99f92f","status":"failed","statusDetails":"AssertionError: [Error] during step: Open Shell app page\nMessage: Page.goto: Protocol error (Page.navigate): Cannot navigate to invalid URL\nCall log:\n  - navigating to \"\", waiting until \"load\"","time":{"start":1761880649379,"stop":1761880657778,"duration":8399}},{"uid":"e0ffe0fb7e1e1849","status":"skipped","statusDetails":"Skipped: Shell app was not installed successfully","time":{"start":1761795438150,"stop":1761795438150,"duration":0}},{"uid":"ac20d23d7050de59","status":"skipped","statusDetails":"Skipped: Shell app was not installed successfully","time":{"start":1761707939705,"stop":1761707939705,"duration":0}},{"uid":"fc764c284b2002c0","status":"passed","time":{"start":1761621468427,"stop":1761621489965,"duration":21538}},{"uid":"b72eba38643e99ef","status":"passed","time":{"start":1761599233921,"stop":1761599253355,"duration":19434}},{"uid":"75f19b90c3b3740d","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Verify executed command displayed in shell output\nMessage: No line with: psql postgresql://psql-regression-user-let2tnm9:VZ2b1OfFB9tlJhf1s6b4GHVQ@pg-53a5b95975fb423387cbcc4f2dbd311c-primary.platform--regression-or--regression-p--773c477034c2679740e3dd92.svc:5432/psql-db-regression-0q87ay5l","time":{"start":1761566505744,"stop":1761566525324,"duration":19580}},{"uid":"7fa71eb12337bd9e","status":"passed","time":{"start":1759543002966,"stop":1759543027519,"duration":24553}},{"uid":"bbc25e07d1510def","status":"passed","time":{"start":1759456541686,"stop":1759456565296,"duration":23610}},{"uid":"53e0c010fa763ced","status":"skipped","statusDetails":"Skipped: PostgreSQL app was not installed successfully","time":{"start":1759370831470,"stop":1759370831470,"duration":0}},{"uid":"793d734694e01492","status":"passed","time":{"start":1759284637697,"stop":1759284663092,"duration":25395}},{"uid":"b654edf7aa3be1b9","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Timeout 5000ms exceeded.","time":{"start":1759198097417,"stop":1759198097417,"duration":0}},{"uid":"e106a933732e4d5","status":"passed","time":{"start":1759155340778,"stop":1759155366301,"duration":25523}}]},"tags":["asyncio","class_setup"]},"source":"e8536ecfe16deb40.json","parameterValues":[]}