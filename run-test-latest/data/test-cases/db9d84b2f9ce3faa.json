{"uid":"db9d84b2f9ce3faa","name":"User without organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_with_token_cli","historyId":"fd27a26b14b2678c9927d4e7b4c1ac77","time":{"start":1756090441813,"stop":1756090447595,"duration":5782},"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1756085558994,"stop":1756085558995,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1756085558995,"stop":1756085588996,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1756085558995,"stop":1756085558995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1756085558995,"stop":1756085558995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1756085558995,"stop":1756085558995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1756085558995,"stop":1756085558995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1756085588996,"stop":1756085588996,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1756090439187,"stop":1756090439190,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1756090439190,"stop":1756090439190,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1756090439190,"stop":1756090441327,"duration":2137},"status":"passed","steps":[],"attachments":[{"uid":"63f4a7ad5ea889f8","name":"HTTP 200 - GET config","source":"63f4a7ad5ea889f8.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1756090441327,"stop":1756090441327,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1756090441327,"stop":1756090441327,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1756090441327,"stop":1756090441328,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1756090441328,"stop":1756090441328,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1756090441328,"stop":1756090441328,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1756090441329,"stop":1756090441329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1756090441329,"stop":1756090441813,"duration":484},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1756090441329,"stop":1756090441812,"duration":483},"status":"passed","steps":[],"attachments":[{"uid":"d058bc515f05b425","name":"Executed CLI command","source":"d058bc515f05b425.txt","type":"text/plain","size":15},{"uid":"a5e8b7f9dbef9634","name":"Executed CLI command output","source":"a5e8b7f9dbef9634.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1756090441329,"stop":1756090441329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1756090441814,"stop":1756090446670,"duration":4856},"status":"passed","steps":[{"name":"Click login button","time":{"start":1756090441814,"stop":1756090442582,"duration":768},"status":"passed","steps":[],"attachments":[{"uid":"bbe218291a9d1438","name":"Page URL","source":"bbe218291a9d1438.txt","type":"text/plain","size":33},{"uid":"58cabf517037016b","name":"Screenshot: Click login button (success)","source":"58cabf517037016b.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1756090442582,"stop":1756090442949,"duration":367},"status":"passed","steps":[],"attachments":[{"uid":"804d527bc7f07bcb","name":"Page URL","source":"804d527bc7f07bcb.txt","type":"text/plain","size":33},{"uid":"d6fdfe6430aa41d1","name":"Screenshot: Enter email (success)","source":"d6fdfe6430aa41d1.png","type":"image/png","size":46108}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1756090442950,"stop":1756090443116,"duration":166},"status":"passed","steps":[],"attachments":[{"uid":"fbb9eb8bc49def63","name":"Page URL","source":"fbb9eb8bc49def63.txt","type":"text/plain","size":215},{"uid":"82dc4c4d6f05be38","name":"Screenshot: Enter password (success)","source":"82dc4c4d6f05be38.png","type":"image/png","size":46203}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1756090443116,"stop":1756090445414,"duration":2298},"status":"passed","steps":[],"attachments":[{"uid":"e5441f504c95bdb3","name":"Page URL","source":"e5441f504c95bdb3.txt","type":"text/plain","size":215},{"uid":"259a0fdf9c466bba","name":"HTTP 200 - GET config","source":"259a0fdf9c466bba.txt","type":"text/plain","size":752},{"uid":"b29fa7b6ea7431a9","name":"HTTP 200 - GET regression-dp8pliay1c?include=orgs","source":"b29fa7b6ea7431a9.txt","type":"text/plain","size":360},{"uid":"6aafe94297ed9539","name":"HTTP 200 - GET incoming","source":"6aafe94297ed9539.txt","type":"text/plain","size":137},{"uid":"a4c98fe83bb925e7","name":"HTTP 200 - GET permissions?uri=blob:","source":"a4c98fe83bb925e7.txt","type":"text/plain","size":163},{"uid":"167c370c90bec163","name":"HTTP 200 - GET regression-dp8pliay1c?include=clusters&include=system_role","source":"167c370c90bec163.txt","type":"text/plain","size":388},{"uid":"e3cad0228227a0f9","name":"Screenshot: Click Continue button (success)","source":"e3cad0228227a0f9.png","type":"image/png","size":159716}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1756090445426,"stop":1756090446553,"duration":1127},"status":"passed","steps":[],"attachments":[{"uid":"42e130eee5d66f2a","name":"Page URL","source":"42e130eee5d66f2a.txt","type":"text/plain","size":44},{"uid":"4efe7841dbbb8859","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"4efe7841dbbb8859.png","type":"image/png","size":159716}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"be626c68ea20dfd2","name":"Page URL","source":"be626c68ea20dfd2.txt","type":"text/plain","size":33},{"uid":"832e042170f28f1d","name":"Screenshot: Login via UI (success)","source":"832e042170f28f1d.png","type":"image/png","size":159716}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1756090446670,"stop":1756090447594,"duration":924},"status":"passed","steps":[],"attachments":[{"uid":"e2c6efb0e8567ab1","name":"Executed CLI command","source":"e2c6efb0e8567ab1.txt","type":"text/plain","size":1114},{"uid":"3654398026b4e9","name":"Executed CLI command output","source":"3654398026b4e9.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1756090447594,"stop":1756090447595,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"1b486ef36dcba41b","name":"Executed CLI command","source":"1b486ef36dcba41b.txt","type":"text/plain","size":1114},{"uid":"310ac08a4df6cdc2","name":"Executed CLI command output","source":"310ac08a4df6cdc2.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"94b9ae38e22ec773","name":"log","source":"94b9ae38e22ec773.txt","type":"text/plain","size":10925}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1756090447596,"stop":1756090447596,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1756090447597,"stop":1756090450858,"duration":3261},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1756090447597,"stop":1756090450858,"duration":3261},"status":"passed","steps":[],"attachments":[{"uid":"5263f1d0ae2cb660","name":"Cleanup note","source":"5263f1d0ae2cb660.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1756090450859,"stop":1756090450859,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1756090450860,"stop":1756090450861,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Login"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"pkrvmqc4gcfdwos"},{"name":"thread","value":"6021-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":43,"unknown":0,"total":43},"items":[{"uid":"52d1559861b1c27d","status":"passed","time":{"start":1756004156993,"stop":1756004163280,"duration":6287}},{"uid":"a494cd9d94f27160","status":"passed","time":{"start":1755917598793,"stop":1755917607090,"duration":8297}},{"uid":"d4df1725e0b6f4cf","status":"passed","time":{"start":1755831121608,"stop":1755831144355,"duration":22747}},{"uid":"bf8fd7b19ce6f4c","status":"passed","time":{"start":1755744629964,"stop":1755744637667,"duration":7703}},{"uid":"89650b723f7973a6","status":"passed","time":{"start":1755571824773,"stop":1755571831647,"duration":6874}},{"uid":"e3359d169ffab200","status":"passed","time":{"start":1755485749902,"stop":1755485756250,"duration":6348}},{"uid":"f961db58b53e74d","status":"passed","time":{"start":1755399088372,"stop":1755399106081,"duration":17709}},{"uid":"67f45b33ec38c104","status":"passed","time":{"start":1755376537898,"stop":1755376545605,"duration":7707}},{"uid":"53b16919e9baa20b","status":"passed","time":{"start":1755312654644,"stop":1755312660822,"duration":6178}},{"uid":"f0af5947c04af407","status":"passed","time":{"start":1755284423025,"stop":1755284429200,"duration":6175}},{"uid":"849d5c6d9b933081","status":"passed","time":{"start":1754880239326,"stop":1754880245713,"duration":6387}},{"uid":"5cade5847d8a488d","status":"passed","time":{"start":1754831394584,"stop":1754831410092,"duration":15508}},{"uid":"a3791ad6a797d6b9","status":"passed","time":{"start":1754707235756,"stop":1754707241943,"duration":6187}},{"uid":"c523f48db8e1c5c2","status":"passed","time":{"start":1754620202413,"stop":1754620209357,"duration":6944}},{"uid":"4c64acc966ca2a7f","status":"passed","time":{"start":1754596035709,"stop":1754596046134,"duration":10425}},{"uid":"dd307916d8783a75","status":"passed","time":{"start":1754534008903,"stop":1754534009747,"duration":844}},{"uid":"44fec44e2cd29a5b","status":"passed","time":{"start":1754463665034,"stop":1754463665950,"duration":916}},{"uid":"449478feccd5304a","status":"passed","time":{"start":1754388563984,"stop":1754388564747,"duration":763}},{"uid":"84bc202634fdab7f","status":"passed","time":{"start":1754363423264,"stop":1754363424513,"duration":1249}},{"uid":"33ef3914c5f5c6e8","status":"passed","time":{"start":1754277133393,"stop":1754277134771,"duration":1378}}]},"tags":["asyncio"]},"source":"db9d84b2f9ce3faa.json","parameterValues":[]}