{"uid":"2cfb2edc63495639","name":"Admin create secret with no project created via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_secret_no_proj_cli","historyId":"00fd51dcec949e8f8cb720ad306bef95","time":{"start":1763779785568,"stop":1763779810389,"duration":24821},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1763775068524,"stop":1763775068524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1763775068524,"stop":1763775068524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1763775068524,"stop":1763775068524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1763775068524,"stop":1763775068524,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1763775068525,"stop":1763775068525,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1763775068525,"stop":1763775068525,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1763775068525,"stop":1763775068525,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1763779784388,"stop":1763779784392,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1763779784392,"stop":1763779784392,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1763779784392,"stop":1763779785052,"duration":660},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1763779785052,"stop":1763779785053,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1763779785052,"stop":1763779785052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1763779785052,"stop":1763779785052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1763779785053,"stop":1763779785053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1763779785053,"stop":1763779785053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1763779785053,"stop":1763779785054,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1763779785053,"stop":1763779785053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1763779785054,"stop":1763779785567,"duration":513},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1763779785054,"stop":1763779785567,"duration":513},"status":"passed","steps":[],"attachments":[{"uid":"ad2fe39c8fc3dd9a","name":"Executed CLI command","source":"ad2fe39c8fc3dd9a.txt","type":"text/plain","size":15},{"uid":"190972bd71f2a908","name":"Executed CLI command output","source":"190972bd71f2a908.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1763779785569,"stop":1763779792851,"duration":7282},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1763779785569,"stop":1763779785774,"duration":205},"status":"passed","steps":[],"attachments":[{"uid":"a161afe626038c65","name":"Page URL","source":"a161afe626038c65.txt","type":"text/plain","size":29},{"uid":"6656f66518fabc4a","name":"HTTP 200 - GET config","source":"6656f66518fabc4a.txt","type":"text/plain","size":673},{"uid":"3019a067c00a3bc7","name":"Screenshot: Verify that Auth page displayed (success)","source":"3019a067c00a3bc7.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1763779785774,"stop":1763779786798,"duration":1024},"status":"passed","steps":[],"attachments":[{"uid":"3406aa8b76ee095e","name":"Page URL","source":"3406aa8b76ee095e.txt","type":"text/plain","size":33},{"uid":"acc30c4ca4f5d9cd","name":"Screenshot: Click login button (success)","source":"acc30c4ca4f5d9cd.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1763779786798,"stop":1763779786900,"duration":102},"status":"passed","steps":[],"attachments":[{"uid":"270a4de3958c2e1a","name":"Page URL","source":"270a4de3958c2e1a.txt","type":"text/plain","size":215},{"uid":"928e27c6fa6491f9","name":"Screenshot: Verify that Login page displayed (success)","source":"928e27c6fa6491f9.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1763779786900,"stop":1763779787219,"duration":319},"status":"passed","steps":[],"attachments":[{"uid":"4751e550f72b3467","name":"Page URL","source":"4751e550f72b3467.txt","type":"text/plain","size":215},{"uid":"ed4a188523931e7e","name":"Screenshot: Enter email (success)","source":"ed4a188523931e7e.png","type":"image/png","size":45860}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1763779787219,"stop":1763779787535,"duration":316},"status":"passed","steps":[],"attachments":[{"uid":"b99b7f4a93c64a79","name":"Page URL","source":"b99b7f4a93c64a79.txt","type":"text/plain","size":215},{"uid":"625b8af431c235b","name":"Screenshot: Enter password (success)","source":"625b8af431c235b.png","type":"image/png","size":46001}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1763779787535,"stop":1763779791671,"duration":4136},"status":"passed","steps":[],"attachments":[{"uid":"fcad4e92d8151531","name":"Page URL","source":"fcad4e92d8151531.txt","type":"text/plain","size":215},{"uid":"240a3b257f9c728f","name":"HTTP 200 - GET config","source":"240a3b257f9c728f.txt","type":"text/plain","size":771},{"uid":"1abe2a0c84f6b576","name":"HTTP 200 - GET permissions?uri=blob:","source":"1abe2a0c84f6b576.txt","type":"text/plain","size":182},{"uid":"9388f9512c5ca560","name":"HTTP 200 - GET incoming","source":"9388f9512c5ca560.txt","type":"text/plain","size":156},{"uid":"f8933343a5c765a4","name":"HTTP 200 - GET regression-3zdskfbz4p?include=clusters&include=system_role","source":"f8933343a5c765a4.txt","type":"text/plain","size":407},{"uid":"cdd408ac00ee61d6","name":"HTTP 200 - GET regression-3zdskfbz4p?include=orgs","source":"cdd408ac00ee61d6.txt","type":"text/plain","size":379},{"uid":"a246f60c205b500c","name":"Screenshot: Click Continue button (success)","source":"a246f60c205b500c.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1763779791679,"stop":1763779792774,"duration":1095},"status":"passed","steps":[],"attachments":[{"uid":"388c90a76a94fab9","name":"Page URL","source":"388c90a76a94fab9.txt","type":"text/plain","size":44},{"uid":"b864276f6e8b0b80","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"b864276f6e8b0b80.png","type":"image/png","size":160161}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"903137c8db0eaab6","name":"Page URL","source":"903137c8db0eaab6.txt","type":"text/plain","size":29},{"uid":"b48d6ff62cc784f4","name":"Screenshot: Login via UI (success)","source":"b48d6ff62cc784f4.png","type":"image/png","size":160161}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1763779792852,"stop":1763779808918,"duration":16066},"status":"passed","steps":[{"name":"Reload page","time":{"start":1763779807497,"stop":1763779808854,"duration":1357},"status":"passed","steps":[{"name":"Reload page","time":{"start":1763779807497,"stop":1763779808786,"duration":1289},"status":"passed","steps":[],"attachments":[{"uid":"ae46eb345ae0f014","name":"Page URL","source":"ae46eb345ae0f014.txt","type":"text/plain","size":44},{"uid":"c8ed1f6e7c8451f2","name":"HTTP 200 - GET config","source":"c8ed1f6e7c8451f2.txt","type":"text/plain","size":2137},{"uid":"f2f6e5e3bd85d4c2","name":"HTTP 200 - GET incoming","source":"f2f6e5e3bd85d4c2.txt","type":"text/plain","size":156},{"uid":"1b97379961378898","name":"HTTP 200 - GET regression-org-iy0pzdoakmx4","source":"1b97379961378898.txt","type":"text/plain","size":444},{"uid":"1bfe30dac9c6d15","name":"HTTP 200 - GET permissions?uri=blob:","source":"1bfe30dac9c6d15.txt","type":"text/plain","size":255},{"uid":"8b61d8dbcbcaf7c3","name":"HTTP 200 - GET regression-3zdskfbz4p?include=orgs","source":"8b61d8dbcbcaf7c3.txt","type":"text/plain","size":474},{"uid":"f27d7dfe14cf33a9","name":"HTTP 200 - GET regression-3zdskfbz4p?include=clusters&include=system_role","source":"f27d7dfe14cf33a9.txt","type":"text/plain","size":529},{"uid":"bf241205d8a602ea","name":"Screenshot: Reload page (success)","source":"bf241205d8a602ea.png","type":"image/png","size":58608}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f7fc70c45d8c7633","name":"Page URL","source":"f7fc70c45d8c7633.txt","type":"text/plain","size":44},{"uid":"cfdac19a7af267bd","name":"HTTP 200 - GET tags","source":"cfdac19a7af267bd.txt","type":"text/plain","size":948},{"uid":"453675c46678662f","name":"Screenshot: Reload page (success)","source":"453675c46678662f.png","type":"image/png","size":58608}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"313bdbb16df24d0b","name":"Page URL","source":"313bdbb16df24d0b.txt","type":"text/plain","size":44},{"uid":"5d519efa54cade78","name":"Screenshot: Add organization via API and reload page (success)","source":"5d519efa54cade78.png","type":"image/png","size":58608}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1763779808918,"stop":1763779809799,"duration":881},"status":"passed","steps":[],"attachments":[{"uid":"73e22513a863ff91","name":"Executed CLI command","source":"73e22513a863ff91.txt","type":"text/plain","size":1114},{"uid":"358aefa127dd254e","name":"Executed CLI command output","source":"358aefa127dd254e.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1763779809799,"stop":1763779810389,"duration":590},"status":"passed","steps":[],"attachments":[{"uid":"99c3c9781ed2e9ab","name":"Executed CLI command","source":"99c3c9781ed2e9ab.txt","type":"text/plain","size":39},{"uid":"c8367c526c87fada","name":"Executed CLI command output","source":"c8367c526c87fada.txt","type":"text/plain","size":159}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"139c142704670995","name":"log","source":"139c142704670995.txt","type":"text/plain","size":20669}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":40,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1763779810390,"stop":1763779810390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1763779810390,"stop":1763779814689,"duration":4299},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1763779810390,"stop":1763779814688,"duration":4298},"status":"passed","steps":[{"name":"Delete organisation: regression-org-iy0pzdoakmx4","time":{"start":1763779814276,"stop":1763779814646,"duration":370},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1763779810390,"stop":1763779810390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1763779814689,"stop":1763779814690,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1763779814690,"stop":1763779814691,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Secrets"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"3073-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":81,"unknown":0,"total":83},"items":[{"uid":"6f513402ce81304c","status":"passed","time":{"start":1763693568665,"stop":1763693591443,"duration":22778}},{"uid":"dc69b08cb95313f0","status":"passed","time":{"start":1763607295531,"stop":1763607332459,"duration":36928}},{"uid":"a7158a2a98689778","status":"passed","time":{"start":1763520807680,"stop":1763520834425,"duration":26745}},{"uid":"a691b9b663b47903","status":"passed","time":{"start":1763434356982,"stop":1763434393218,"duration":36236}},{"uid":"498932d63d6ae0bd","status":"passed","time":{"start":1763347915089,"stop":1763347948024,"duration":32935}},{"uid":"44ec68c5554f6ffb","status":"passed","time":{"start":1763261365351,"stop":1763261388983,"duration":23632}},{"uid":"d28a1429ca33e2a8","status":"passed","time":{"start":1763174918783,"stop":1763174949391,"duration":30608}},{"uid":"fa4be7dbf0b67680","status":"passed","time":{"start":1763088997533,"stop":1763089033716,"duration":36183}},{"uid":"387ca90ed3eb7b65","status":"passed","time":{"start":1763002487241,"stop":1763002511833,"duration":24592}},{"uid":"ee8b4232c7973ee7","status":"passed","time":{"start":1762915613187,"stop":1762915646965,"duration":33778}},{"uid":"c2600349e84be560","status":"passed","time":{"start":1762829662833,"stop":1762829690731,"duration":27898}},{"uid":"fdf5f87b7c4f52d3","status":"passed","time":{"start":1762743122799,"stop":1762743145638,"duration":22839}},{"uid":"f044137e131a2e09","status":"passed","time":{"start":1762656526743,"stop":1762656558997,"duration":32254}},{"uid":"273d2afe64565fb1","status":"passed","time":{"start":1762569956851,"stop":1762569980633,"duration":23782}},{"uid":"9dd3934ffc2b63d4","status":"passed","time":{"start":1762483812038,"stop":1762483835196,"duration":23158}},{"uid":"db9938704aaf060d","status":"passed","time":{"start":1762397266266,"stop":1762397295314,"duration":29048}},{"uid":"f8e808cbd43a6601","status":"passed","time":{"start":1762310843407,"stop":1762310865744,"duration":22337}},{"uid":"1e05348daa9862c1","status":"passed","time":{"start":1762224388033,"stop":1762224412821,"duration":24788}},{"uid":"b70e62a8402e5215","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Welcome new user page displayed\nMessage: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"h3.truncate.text-h3\").filter(has_text=\"Welcome, regression-g1hu8kx237@apolo.us\")","time":{"start":1762137721740,"stop":1762137742453,"duration":20713}},{"uid":"8b823c8a45defb76","status":"passed","time":{"start":1762051680270,"stop":1762051711575,"duration":31305}}]},"tags":["asyncio"]},"source":"2cfb2edc63495639.json","parameterValues":[]}