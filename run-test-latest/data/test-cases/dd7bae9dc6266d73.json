{"uid":"dd7bae9dc6266d73","name":"Verify Manager cannot change User role to Admin","fullName":"tests.test_cases.tests_ui.test_organization_change_member_roles.TestUIOrganizationChangeMemberRoles#test_manager_change_user_to_admin","historyId":"cc1d0f1abeb534919a8048c68192e165","time":{"start":1767580474212,"stop":1767580482048,"duration":7836},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `Manager` role via **API**.\n- Signup `third user`.\n- Invite `third user` to organization with `User` role via **API**.\n\n### Verify that:\n\n- `Manager` **cannot** change user role from `User` to `Admin`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> role via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> <strong>cannot</strong> change user role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span>.</li>\n</ul></div>","status":"broken","statusMessage":"playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_RESET at https://console.dev.apolo.us/\nCall log:\n  - navigating to \"https://console.dev.apolo.us/\", waiting until \"load\"","statusTrace":"tests/test_cases/tests_ui/test_organization_change_member_roles.py:679: in test_manager_change_user_to_admin\n    u3_steps = await self.init_ui_test_steps()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/base_test_class.py:86: in init_ui_test_steps\n    pm = await self._pick_pm()\n         ^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/base_test_class.py:66: in _pick_pm\n    pm = await self._add_pm()\n         ^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/conftest.py:81: in _factory\n    pm = await _create_page_manager(test_config, request)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/conftest.py:400: in _create_page_manager\n    await page.goto(\"https://console.dev.apolo.us/\")\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:9041: in goto\n    await self._impl_obj.goto(\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:552: in goto\n    return await self._main_frame.goto(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:153: in goto\n    await self._channel.send(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_RESET at https://console.dev.apolo.us/\nE   Call log:\nE     - navigating to \"https://console.dev.apolo.us/\", waiting until \"load\"","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1767580473496,"stop":1767580473499,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1767580473499,"stop":1767580474208,"duration":709},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1767580473500,"stop":1767580473500,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1767580474209,"stop":1767580474209,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1767580474209,"stop":1767580474209,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1767580474209,"stop":1767580474209,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1767580474210,"stop":1767580474210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1767580474210,"stop":1767580474210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1767580474210,"stop":1767580474210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1767580474211,"stop":1767580474211,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1767580474211,"stop":1767580474211,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `Manager` role via **API**.\n- Signup `third user`.\n- Invite `third user` to organization with `User` role via **API**.\n\n### Verify that:\n\n- `Manager` **cannot** change user role from `User` to `Admin`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> role via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>third user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span> <strong>cannot</strong> change user role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span>.</li>\n</ul></div>","status":"broken","statusMessage":"playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_RESET at https://console.dev.apolo.us/\nCall log:\n  - navigating to \"https://console.dev.apolo.us/\", waiting until \"load\"","statusTrace":"tests/test_cases/tests_ui/test_organization_change_member_roles.py:679: in test_manager_change_user_to_admin\n    u3_steps = await self.init_ui_test_steps()\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/base_test_class.py:86: in init_ui_test_steps\n    pm = await self._pick_pm()\n         ^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/base_test_class.py:66: in _pick_pm\n    pm = await self._add_pm()\n         ^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/conftest.py:81: in _factory\n    pm = await _create_page_manager(test_config, request)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/conftest.py:400: in _create_page_manager\n    await page.goto(\"https://console.dev.apolo.us/\")\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:9041: in goto\n    await self._impl_obj.goto(\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:552: in goto\n    return await self._main_frame.goto(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:153: in goto\n    await self._channel.send(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_RESET at https://console.dev.apolo.us/\nE   Call log:\nE     - navigating to \"https://console.dev.apolo.us/\", waiting until \"load\"","steps":[{"name":"Login via UI","time":{"start":1767580474212,"stop":1767580480881,"duration":6669},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1767580474212,"stop":1767580475297,"duration":1085},"status":"passed","steps":[],"attachments":[{"uid":"385fd6d1b84d99c7","name":"Page URL","source":"385fd6d1b84d99c7.txt","type":"text/plain","size":29},{"uid":"1b3d80d1c0171a36","name":"HTTP 200 - GET config","source":"1b3d80d1c0171a36.txt","type":"text/plain","size":673},{"uid":"ecf3d8cc3caff6b3","name":"Screenshot: Verify that Auth page displayed (success)","source":"ecf3d8cc3caff6b3.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1767580475297,"stop":1767580476348,"duration":1051},"status":"passed","steps":[],"attachments":[{"uid":"5fa327ad2179bcec","name":"Page URL","source":"5fa327ad2179bcec.txt","type":"text/plain","size":33},{"uid":"aaa05d3ee1168bea","name":"Screenshot: Click login button (success)","source":"aaa05d3ee1168bea.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1767580476348,"stop":1767580476447,"duration":99},"status":"passed","steps":[],"attachments":[{"uid":"f918c6bb13c83083","name":"Page URL","source":"f918c6bb13c83083.txt","type":"text/plain","size":215},{"uid":"906f8f1051805673","name":"Screenshot: Verify that Login page displayed (success)","source":"906f8f1051805673.png","type":"image/png","size":41637}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1767580476447,"stop":1767580476764,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"3e7b0c1fec19eee9","name":"Page URL","source":"3e7b0c1fec19eee9.txt","type":"text/plain","size":215},{"uid":"3bcd54123b7e1e62","name":"Screenshot: Enter email (success)","source":"3bcd54123b7e1e62.png","type":"image/png","size":45350}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1767580476764,"stop":1767580477081,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"c33d431ee3cae0eb","name":"Page URL","source":"c33d431ee3cae0eb.txt","type":"text/plain","size":215},{"uid":"c97d48fc135a8c94","name":"Screenshot: Enter password (success)","source":"c97d48fc135a8c94.png","type":"image/png","size":45490}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1767580477081,"stop":1767580479696,"duration":2615},"status":"passed","steps":[],"attachments":[{"uid":"f5fed9f794cdbe7e","name":"Page URL","source":"f5fed9f794cdbe7e.txt","type":"text/plain","size":215},{"uid":"12d60f905269c2e4","name":"HTTP 200 - GET config","source":"12d60f905269c2e4.txt","type":"text/plain","size":832},{"uid":"1dfb3f1d735109cd","name":"HTTP 200 - GET incoming","source":"1dfb3f1d735109cd.txt","type":"text/plain","size":156},{"uid":"d6d3eb2171324c69","name":"HTTP 200 - GET regression-ooo4kr8tmo?include=orgs","source":"d6d3eb2171324c69.txt","type":"text/plain","size":379},{"uid":"2b59d3d0a64a0fb9","name":"HTTP 200 - GET permissions?uri=blob:","source":"2b59d3d0a64a0fb9.txt","type":"text/plain","size":182},{"uid":"3d2322d57d05f861","name":"HTTP 200 - GET regression-ooo4kr8tmo?include=clusters&include=system_role","source":"3d2322d57d05f861.txt","type":"text/plain","size":407},{"uid":"b6cc174b38ffc6fd","name":"Screenshot: Click Continue button (success)","source":"b6cc174b38ffc6fd.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1767580479705,"stop":1767580480797,"duration":1092},"status":"passed","steps":[],"attachments":[{"uid":"b11d7b39e3bc1e36","name":"Page URL","source":"b11d7b39e3bc1e36.txt","type":"text/plain","size":44},{"uid":"27b4a63e05155e75","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"27b4a63e05155e75.png","type":"image/png","size":159420}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c98079f597546753","name":"Page URL","source":"c98079f597546753.txt","type":"text/plain","size":29},{"uid":"8606b8a86eb1c647","name":"Screenshot: Login via UI (success)","source":"8606b8a86eb1c647.png","type":"image/png","size":159420}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"de925f5d9843785a","name":"HTTP 200 - GET config","source":"de925f5d9843785a.txt","type":"text/plain","size":673},{"uid":"7d3a4f737470308c","name":"log","source":"7d3a4f737470308c.txt","type":"text/plain","size":10698}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":24,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1767580482246,"stop":1767580482246,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1767580482247,"stop":1767580482247,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1767580482247,"stop":1767580486832,"duration":4585},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1767580482247,"stop":1767580486832,"duration":4585},"status":"passed","steps":[],"attachments":[{"uid":"8534c8aafa73adce","name":"Cleanup note","source":"8534c8aafa73adce.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1767580486833,"stop":1767580486833,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1767580486834,"stop":1767580486835,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"UI Tests"},{"name":"suite","value":"UI Organization Change Member Roles"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUIOrganizationChangeMemberRoles"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"3009-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_organization_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"dd7bae9dc6266d73.json","parameterValues":[]}