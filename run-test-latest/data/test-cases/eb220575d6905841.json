{"uid":"eb220575d6905841","name":"User with organization and project logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_proj_with_token_cli","historyId":"e450c2e3ba392e5ab19b9253dfdf7207","time":{"start":1760413729065,"stop":1760413759168,"duration":30103},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via API.\n- Create project via API.\n\n### Verify that:\n\n- User can login with Bearer auth token via CLI.\n- Login output in CLI contain valid organization and project.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via API.</li>\n<li>Create project via API.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via CLI.</li>\n<li>Login output in CLI contain valid organization and project.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1760413725971,"stop":1760413725974,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1760413725974,"stop":1760413728545,"duration":2571},"status":"passed","steps":[],"attachments":[{"uid":"a6d547da429f3639","name":"HTTP 200 - GET config","source":"a6d547da429f3639.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1760413725974,"stop":1760413725975,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1760413728546,"stop":1760413728546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1760413728546,"stop":1760413728546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1760413728546,"stop":1760413728546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1760413728547,"stop":1760413728547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1760413728547,"stop":1760413728547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1760413728547,"stop":1760413728547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1760413728548,"stop":1760413729064,"duration":516},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1760413728548,"stop":1760413729064,"duration":516},"status":"passed","steps":[],"attachments":[{"uid":"b84b90ff6204db03","name":"Executed CLI command","source":"b84b90ff6204db03.txt","type":"text/plain","size":15},{"uid":"d06f095f5b76ec19","name":"Executed CLI command output","source":"d06f095f5b76ec19.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1760413728548,"stop":1760413728548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via API.\n- Create project via API.\n\n### Verify that:\n\n- User can login with Bearer auth token via CLI.\n- Login output in CLI contain valid organization and project.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via API.</li>\n<li>Create project via API.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via CLI.</li>\n<li>Login output in CLI contain valid organization and project.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1760413729065,"stop":1760413734602,"duration":5537},"status":"passed","steps":[{"name":"Click login button","time":{"start":1760413729066,"stop":1760413729869,"duration":803},"status":"passed","steps":[],"attachments":[{"uid":"933220451dac6efb","name":"Page URL","source":"933220451dac6efb.txt","type":"text/plain","size":33},{"uid":"9ee359e31d448e75","name":"Screenshot: Click login button (success)","source":"9ee359e31d448e75.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1760413729869,"stop":1760413730385,"duration":516},"status":"passed","steps":[],"attachments":[{"uid":"636a7241f233c5e","name":"Page URL","source":"636a7241f233c5e.txt","type":"text/plain","size":33},{"uid":"3f61ea64867c26f1","name":"Screenshot: Enter email (success)","source":"3f61ea64867c26f1.png","type":"image/png","size":46231}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1760413730386,"stop":1760413730737,"duration":351},"status":"passed","steps":[],"attachments":[{"uid":"500f0e09d3e31fbc","name":"Page URL","source":"500f0e09d3e31fbc.txt","type":"text/plain","size":215},{"uid":"81807c18947d0387","name":"Screenshot: Enter password (success)","source":"81807c18947d0387.png","type":"image/png","size":46354}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1760413730737,"stop":1760413733401,"duration":2664},"status":"passed","steps":[],"attachments":[{"uid":"93f432039f28414d","name":"Page URL","source":"93f432039f28414d.txt","type":"text/plain","size":215},{"uid":"17362a448ce3e39","name":"HTTP 200 - GET config","source":"17362a448ce3e39.txt","type":"text/plain","size":771},{"uid":"549f33756c16f935","name":"HTTP 200 - GET permissions?uri=blob:","source":"549f33756c16f935.txt","type":"text/plain","size":182},{"uid":"7e4accc2216e73a2","name":"HTTP 200 - GET incoming","source":"7e4accc2216e73a2.txt","type":"text/plain","size":156},{"uid":"b4ccd9093ef7e5bc","name":"HTTP 200 - GET regression-7ha5g8psuu?include=clusters&include=system_role","source":"b4ccd9093ef7e5bc.txt","type":"text/plain","size":407},{"uid":"eb96cb8cef318fb0","name":"HTTP 200 - GET regression-7ha5g8psuu?include=orgs","source":"eb96cb8cef318fb0.txt","type":"text/plain","size":379},{"uid":"83eceef2c2dab0ac","name":"Screenshot: Click Continue button (success)","source":"83eceef2c2dab0ac.png","type":"image/png","size":159671}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1760413733411,"stop":1760413734516,"duration":1105},"status":"passed","steps":[],"attachments":[{"uid":"11d37ff39c1a4e90","name":"Page URL","source":"11d37ff39c1a4e90.txt","type":"text/plain","size":44},{"uid":"8b5f8230267cb309","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"8b5f8230267cb309.png","type":"image/png","size":159671}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c711cf2ba66dc4d8","name":"Page URL","source":"c711cf2ba66dc4d8.txt","type":"text/plain","size":33},{"uid":"f7405551998013b7","name":"Screenshot: Login via UI (success)","source":"f7405551998013b7.png","type":"image/png","size":159671}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1760413734602,"stop":1760413749336,"duration":14734},"status":"passed","steps":[{"name":"Reload page","time":{"start":1760413747585,"stop":1760413749257,"duration":1672},"status":"passed","steps":[],"attachments":[{"uid":"8ded364ffb3fc2ec","name":"Page URL","source":"8ded364ffb3fc2ec.txt","type":"text/plain","size":44},{"uid":"e498c36712e28a92","name":"HTTP 200 - GET config","source":"e498c36712e28a92.txt","type":"text/plain","size":2137},{"uid":"295b00d6c3ccf1c1","name":"HTTP 200 - GET incoming","source":"295b00d6c3ccf1c1.txt","type":"text/plain","size":156},{"uid":"5257b897257f41af","name":"HTTP 200 - GET permissions?uri=blob:","source":"5257b897257f41af.txt","type":"text/plain","size":255},{"uid":"3515d58e28c35b7a","name":"HTTP 200 - GET regression-7ha5g8psuu?include=orgs","source":"3515d58e28c35b7a.txt","type":"text/plain","size":474},{"uid":"156938b2b9d7f63d","name":"HTTP 200 - GET regression-org-8tql8izto2mb","source":"156938b2b9d7f63d.txt","type":"text/plain","size":444},{"uid":"559b8e09f365c70f","name":"HTTP 200 - GET regression-7ha5g8psuu?include=clusters&include=system_role","source":"559b8e09f365c70f.txt","type":"text/plain","size":529},{"uid":"9568c1d139a51136","name":"HTTP 200 - GET tags","source":"9568c1d139a51136.txt","type":"text/plain","size":867},{"uid":"bc9f0c84685c5eb5","name":"Screenshot: Reload page (success)","source":"bc9f0c84685c5eb5.png","type":"image/png","size":57221}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"192369bd82dfdd5e","name":"Page URL","source":"192369bd82dfdd5e.txt","type":"text/plain","size":44},{"uid":"8f64282ed70de39c","name":"Screenshot: Add organization via API and reload page (success)","source":"8f64282ed70de39c.png","type":"image/png","size":57221}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Add project via API and reload page","time":{"start":1760413749336,"stop":1760413758262,"duration":8926},"status":"passed","steps":[{"name":"Reload page","time":{"start":1760413755302,"stop":1760413758144,"duration":2842},"status":"passed","steps":[],"attachments":[{"uid":"6cf13a3e5a0e9b38","name":"Page URL","source":"6cf13a3e5a0e9b38.txt","type":"text/plain","size":81},{"uid":"2b4d628303eb6cb2","name":"HTTP 200 - GET config","source":"2b4d628303eb6cb2.txt","type":"text/plain","size":2137},{"uid":"a51fb06310df671c","name":"HTTP 200 - GET permissions?uri=blob:","source":"a51fb06310df671c.txt","type":"text/plain","size":255},{"uid":"b408c8d8eed5c484","name":"HTTP 200 - GET regression-org-8tql8izto2mb","source":"b408c8d8eed5c484.txt","type":"text/plain","size":444},{"uid":"e286f053ae10ff5","name":"HTTP 200 - GET incoming","source":"e286f053ae10ff5.txt","type":"text/plain","size":156},{"uid":"9dd8104db5099838","name":"HTTP 200 - GET regression-7ha5g8psuu?include=orgs","source":"9dd8104db5099838.txt","type":"text/plain","size":474},{"uid":"aa1e00c53c7dbd58","name":"HTTP 200 - GET templates","source":"aa1e00c53c7dbd58.txt","type":"text/plain","size":2146},{"uid":"b277aa6712a5ccd6","name":"HTTP 200 - GET regression-7ha5g8psuu?include=clusters&include=system_role","source":"b277aa6712a5ccd6.txt","type":"text/plain","size":529},{"uid":"c98127d7c9560088","name":"HTTP 200 - GET tags","source":"c98127d7c9560088.txt","type":"text/plain","size":867},{"uid":"7bc4a953a22af86","name":"HTTP 200 - GET instances?org=regression-org-8tql8izto2mb&project=regression-proj-d1pkpevv2h&cluster=default&size=100","source":"7bc4a953a22af86.txt","type":"text/plain","size":290},{"uid":"69edde76886be237","name":"HTTP 200 - GET templates?page=1&size=50","source":"69edde76886be237.txt","type":"text/plain","size":2161},{"uid":"853b4c83db0451b1","name":"Screenshot: Reload page (success)","source":"853b4c83db0451b1.png","type":"image/png","size":156805}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1fb6f1a1aa36ea4b","name":"Page URL","source":"1fb6f1a1aa36ea4b.txt","type":"text/plain","size":81},{"uid":"2ac7d9b25086cc33","name":"Screenshot: Add project via API and reload page (success)","source":"2ac7d9b25086cc33.png","type":"image/png","size":156805}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":14,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1760413758262,"stop":1760413759166,"duration":904},"status":"passed","steps":[],"attachments":[{"uid":"5956913d57883cfd","name":"Executed CLI command","source":"5956913d57883cfd.txt","type":"text/plain","size":1114},{"uid":"7982348c3f1a7a43","name":"Executed CLI command output","source":"7982348c3f1a7a43.txt","type":"text/plain","size":286}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1760413759166,"stop":1760413759167,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"6af200f13fc9e555","name":"Executed CLI command","source":"6af200f13fc9e555.txt","type":"text/plain","size":1114},{"uid":"c818c5740a7221c1","name":"Executed CLI command output","source":"c818c5740a7221c1.txt","type":"text/plain","size":286}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"83b27ac65447b141","name":"log","source":"83b27ac65447b141.txt","type":"text/plain","size":31332}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":47,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1760413759168,"stop":1760413759169,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760413759169,"stop":1760413759169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760413759169,"stop":1760413765546,"duration":6377},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1760413759169,"stop":1760413765546,"duration":6377},"status":"passed","steps":[{"name":"Delete organisation: regression-org-8tql8izto2mb","time":{"start":1760413764593,"stop":1760413765502,"duration":909},"status":"passed","steps":[{"name":"Delete project: regression-proj-d1pkpevv2h","time":{"start":1760413764681,"stop":1760413764814,"duration":133},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1760413765546,"stop":1760413765547,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1760413765548,"stop":1760413765548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3582-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":58,"unknown":0,"total":61},"items":[{"uid":"3f9c886dd40dfc0c","status":"passed","time":{"start":1759550636686,"stop":1759550700236,"duration":63550}},{"uid":"60d8eec33ce542da","status":"passed","time":{"start":1759464031967,"stop":1759464067980,"duration":36013}},{"uid":"9b5b69f369f47825","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add project via API and reload page\nMessage: Expected HTTP 201 response but got 504!","time":{"start":1759380702337,"stop":1759380752280,"duration":49943}},{"uid":"fdc1d296527c822","status":"passed","time":{"start":1759288407667,"stop":1759288435732,"duration":28065}},{"uid":"79d5ebbf20fa6127","status":"passed","time":{"start":1759201940337,"stop":1759201990172,"duration":49835}},{"uid":"83d30f8eb1f52354","status":"passed","time":{"start":1759159649212,"stop":1759159689224,"duration":40012}},{"uid":"8a02fd0f18d8ce8d","status":"passed","time":{"start":1759116286108,"stop":1759116323760,"duration":37652}},{"uid":"cfae2b3128a76d6a","status":"passed","time":{"start":1759029934416,"stop":1759029968676,"duration":34260}},{"uid":"fc83d52f91263a6","status":"passed","time":{"start":1758943386553,"stop":1758943433006,"duration":46453}},{"uid":"5d540eac8fb4834f","status":"passed","time":{"start":1758856005160,"stop":1758856039519,"duration":34359}},{"uid":"30cb3883958f57eb","status":"passed","time":{"start":1758769641612,"stop":1758769684813,"duration":43201}},{"uid":"97417029fe3e1f34","status":"passed","time":{"start":1758711621123,"stop":1758711657242,"duration":36119}},{"uid":"828281b581c6c2e","status":"passed","time":{"start":1758696454689,"stop":1758696488012,"duration":33323}},{"uid":"427a71eea111ed74","status":"passed","time":{"start":1758684553510,"stop":1758684591679,"duration":38169}},{"uid":"aac02c15b5789471","status":"passed","time":{"start":1758596852899,"stop":1758596894818,"duration":41919}},{"uid":"a0a22f96d50b6f","status":"passed","time":{"start":1758510350306,"stop":1758510388453,"duration":38147}},{"uid":"a500d2c4da011c19","status":"passed","time":{"start":1758423992482,"stop":1758424022139,"duration":29657}},{"uid":"99fec15b413cb8c0","status":"passed","time":{"start":1758337882290,"stop":1758337930289,"duration":47999}},{"uid":"c777bcd7bddad5e1","status":"passed","time":{"start":1758251123728,"stop":1758251160758,"duration":37030}},{"uid":"fc17587105abd0d4","status":"passed","time":{"start":1758164592481,"stop":1758164632654,"duration":40173}}]},"tags":["asyncio"]},"source":"eb220575d6905841.json","parameterValues":[]}