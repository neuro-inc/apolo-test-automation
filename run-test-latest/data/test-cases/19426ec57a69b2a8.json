{"uid":"19426ec57a69b2a8","name":"Admin rename folder via CLI","fullName":"tests.test_cases.tests_cli.test_storage.TestCLIStorage#test_admin_rename_folder_cli","historyId":"2f23c93c1561bee1b3167564e2720f00","time":{"start":1760410296359,"stop":1760410324169,"duration":27810},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create new folder via **CLI**.\n\n### Verify that:\n\n- User can rename folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create new folder via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can rename folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-ybed23b4q5h1/add-project\", \"action\": \"write\"}]})","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:58: in cli_add_new_project\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-ybed23b4q5h1/add-project\", \"action\": \"write\"}]})\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:99: in test_admin_rename_folder_cli\n    await self._cli_steps.admin.cli_add_new_project(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add new project via apolo CLI\nE   Message: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-ybed23b4q5h1/add-project\", \"action\": \"write\"}]})","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1760410293191,"stop":1760410293195,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1760410293195,"stop":1760410295692,"duration":2497},"status":"passed","steps":[],"attachments":[{"uid":"9f55211c9a3005e","name":"HTTP 200 - GET config","source":"9f55211c9a3005e.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1760410293195,"stop":1760410293195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1760410295692,"stop":1760410295693,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1760410295692,"stop":1760410295692,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1760410295693,"stop":1760410295693,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1760410295693,"stop":1760410295693,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1760410295694,"stop":1760410295695,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1760410295695,"stop":1760410295695,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1760410295695,"stop":1760410295695,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1760410295695,"stop":1760410296358,"duration":663},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1760410295696,"stop":1760410296358,"duration":662},"status":"passed","steps":[],"attachments":[{"uid":"99d0a0b684d41262","name":"Executed CLI command","source":"99d0a0b684d41262.txt","type":"text/plain","size":15},{"uid":"3c78c69999242039","name":"Executed CLI command output","source":"3c78c69999242039.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create new folder via **CLI**.\n\n### Verify that:\n\n- User can rename folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create new folder via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can rename folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-ybed23b4q5h1/add-project\", \"action\": \"write\"}]})","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:58: in cli_add_new_project\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-ybed23b4q5h1/add-project\", \"action\": \"write\"}]})\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:99: in test_admin_rename_folder_cli\n    await self._cli_steps.admin.cli_add_new_project(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add new project via apolo CLI\nE   Message: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-ybed23b4q5h1/add-project\", \"action\": \"write\"}]})","steps":[{"name":"Login via UI","time":{"start":1760410296359,"stop":1760410302623,"duration":6264},"status":"passed","steps":[{"name":"Click login button","time":{"start":1760410296360,"stop":1760410297600,"duration":1240},"status":"passed","steps":[],"attachments":[{"uid":"ef296b9292397e85","name":"Page URL","source":"ef296b9292397e85.txt","type":"text/plain","size":33},{"uid":"265a76e1fce1acd1","name":"Screenshot: Click login button (success)","source":"265a76e1fce1acd1.png","type":"image/png","size":41789}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1760410297600,"stop":1760410297971,"duration":371},"status":"passed","steps":[],"attachments":[{"uid":"10a0fdab156bab20","name":"Page URL","source":"10a0fdab156bab20.txt","type":"text/plain","size":215},{"uid":"64a836d0edf4a7e3","name":"Screenshot: Enter email (success)","source":"64a836d0edf4a7e3.png","type":"image/png","size":46231}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1760410297971,"stop":1760410298323,"duration":352},"status":"passed","steps":[],"attachments":[{"uid":"87c139dc2ab01f8d","name":"Page URL","source":"87c139dc2ab01f8d.txt","type":"text/plain","size":215},{"uid":"3e88c89b94ea797a","name":"Screenshot: Enter password (success)","source":"3e88c89b94ea797a.png","type":"image/png","size":46354}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1760410298323,"stop":1760410301371,"duration":3048},"status":"passed","steps":[],"attachments":[{"uid":"2a2167a6e8ae688a","name":"Page URL","source":"2a2167a6e8ae688a.txt","type":"text/plain","size":215},{"uid":"6d3f9a62432a9e6f","name":"HTTP 200 - GET config","source":"6d3f9a62432a9e6f.txt","type":"text/plain","size":771},{"uid":"9571e7892e8e4e24","name":"HTTP 200 - GET incoming","source":"9571e7892e8e4e24.txt","type":"text/plain","size":156},{"uid":"b0dac7e652e49c8c","name":"HTTP 200 - GET permissions?uri=blob:","source":"b0dac7e652e49c8c.txt","type":"text/plain","size":182},{"uid":"9b018614cd285673","name":"HTTP 200 - GET regression-7ha5g8psuu?include=orgs","source":"9b018614cd285673.txt","type":"text/plain","size":379},{"uid":"37fe3c2d183f4370","name":"HTTP 200 - GET regression-7ha5g8psuu?include=clusters&include=system_role","source":"37fe3c2d183f4370.txt","type":"text/plain","size":407},{"uid":"9635278583ae86a0","name":"Screenshot: Click Continue button (success)","source":"9635278583ae86a0.png","type":"image/png","size":159671}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1760410301382,"stop":1760410302524,"duration":1142},"status":"passed","steps":[],"attachments":[{"uid":"a4b9caac9c515d03","name":"Page URL","source":"a4b9caac9c515d03.txt","type":"text/plain","size":44},{"uid":"97d165fadc0a904b","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"97d165fadc0a904b.png","type":"image/png","size":159671}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"9384c1771953fbb9","name":"Page URL","source":"9384c1771953fbb9.txt","type":"text/plain","size":33},{"uid":"cb46f781decb5d86","name":"Screenshot: Login via UI (success)","source":"cb46f781decb5d86.png","type":"image/png","size":159671}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1760410302624,"stop":1760410322373,"duration":19749},"status":"passed","steps":[{"name":"Reload page","time":{"start":1760410314849,"stop":1760410322289,"duration":7440},"status":"passed","steps":[],"attachments":[{"uid":"c9df4bb7c5d8151d","name":"Page URL","source":"c9df4bb7c5d8151d.txt","type":"text/plain","size":44},{"uid":"de1343fd8a4acea6","name":"HTTP 200 - GET config","source":"de1343fd8a4acea6.txt","type":"text/plain","size":2137},{"uid":"5d1a0c827de755cc","name":"HTTP 200 - GET permissions?uri=blob:","source":"5d1a0c827de755cc.txt","type":"text/plain","size":255},{"uid":"a67d17d41218cb8c","name":"HTTP 200 - GET incoming","source":"a67d17d41218cb8c.txt","type":"text/plain","size":156},{"uid":"9c55c68a3f231636","name":"HTTP 200 - GET regression-7ha5g8psuu?include=clusters&include=system_role","source":"9c55c68a3f231636.txt","type":"text/plain","size":529},{"uid":"d2959fb9970523f9","name":"HTTP 200 - GET regression-7ha5g8psuu?include=orgs","source":"d2959fb9970523f9.txt","type":"text/plain","size":474},{"uid":"c010bb8a87861a6d","name":"HTTP 200 - GET regression-org-ybed23b4q5h1","source":"c010bb8a87861a6d.txt","type":"text/plain","size":444},{"uid":"fa49c99d4fb148df","name":"HTTP 200 - GET tags","source":"fa49c99d4fb148df.txt","type":"text/plain","size":867},{"uid":"81f5167da36bee7f","name":"Screenshot: Reload page (success)","source":"81f5167da36bee7f.png","type":"image/png","size":58094}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"fe3901f963d8992f","name":"Page URL","source":"fe3901f963d8992f.txt","type":"text/plain","size":44},{"uid":"86180ddc49e031d4","name":"Screenshot: Add organization via API and reload page (success)","source":"86180ddc49e031d4.png","type":"image/png","size":58094}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1760410322373,"stop":1760410323258,"duration":885},"status":"passed","steps":[],"attachments":[{"uid":"49f599354f4b6db0","name":"Executed CLI command","source":"49f599354f4b6db0.txt","type":"text/plain","size":1114},{"uid":"3bf22b4b23ef2439","name":"Executed CLI command output","source":"3bf22b4b23ef2439.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1760410323258,"stop":1760410324167,"duration":909},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Not enough permissions ({\"missing\": [{\"uri\": \"cluster://default/orgs/regression-org-ybed23b4q5h1/add-project\", \"action\": \"write\"}]})\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"a3ee898f5e8f0d38","name":"Executed CLI command","source":"a3ee898f5e8f0d38.txt","type":"text/plain","size":114},{"uid":"b84de33f29774b20","name":"Executed CLI command output","source":"b84de33f29774b20.txt","type":"text/plain","size":139}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a955b7dc369a777c","name":"log","source":"a955b7dc369a777c.txt","type":"text/plain","size":19361}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":10,"attachmentsCount":33,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1760410324196,"stop":1760410324196,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760410324197,"stop":1760410324197,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760410324197,"stop":1760410327779,"duration":3582},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1760410324197,"stop":1760410327779,"duration":3582},"status":"passed","steps":[{"name":"Delete organisation: regression-org-ybed23b4q5h1","time":{"start":1760410327398,"stop":1760410327736,"duration":338},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1760410327779,"stop":1760410327780,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1760410327781,"stop":1760410327781,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Storage"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIStorage"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3582-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_storage"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"19426ec57a69b2a8.json","parameterValues":[]}