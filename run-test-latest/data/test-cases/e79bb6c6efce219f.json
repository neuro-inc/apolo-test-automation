{"uid":"e79bb6c6efce219f","name":"User verifies config show output via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_config_show_output_cli","historyId":"fb521dced3982d0bac689b36b26f482c","time":{"start":1767838227065,"stop":1767838243307,"duration":16242},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Run `apolo config show` command via **CLI**.\n\n### Verify that:\n\n- `apolo config show` command output is valid.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>apolo config show</span> command via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>apolo config show</span> command output is valid.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/config_steps.py:26: in cli_login_with_token\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: No clusters configured\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_organization_structure_setup.py:115: in test_config_show_output_cli\n    await self._cli_steps.config.cli_login_with_token(token=user.token)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nE   Message: ERROR: No clusters configured","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1767838225883,"stop":1767838225885,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1767838225886,"stop":1767838226562,"duration":676},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1767838225886,"stop":1767838225886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1767838226562,"stop":1767838226562,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1767838226562,"stop":1767838226562,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1767838226562,"stop":1767838226563,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1767838226563,"stop":1767838226563,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1767838226563,"stop":1767838226563,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1767838226563,"stop":1767838226563,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1767838226564,"stop":1767838227065,"duration":501},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1767838226564,"stop":1767838227065,"duration":501},"status":"passed","steps":[],"attachments":[{"uid":"8fe9405fc87725d5","name":"HTTP 200 - GET config","source":"8fe9405fc87725d5.txt","type":"text/plain","size":673},{"uid":"81afb4e03608a490","name":"Executed CLI command","source":"81afb4e03608a490.txt","type":"text/plain","size":15},{"uid":"1ee12450ce26896f","name":"Executed CLI command output","source":"1ee12450ce26896f.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1767838226564,"stop":1767838226564,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n- Run `apolo config show` command via **CLI**.\n\n### Verify that:\n\n- `apolo config show` command output is valid.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>apolo config show</span> command via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>apolo config show</span> command output is valid.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/config_steps.py:26: in cli_login_with_token\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: No clusters configured\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_organization_structure_setup.py:115: in test_config_show_output_cli\n    await self._cli_steps.config.cli_login_with_token(token=user.token)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nE   Message: ERROR: No clusters configured","steps":[{"name":"Login via UI","time":{"start":1767838227066,"stop":1767838242293,"duration":15227},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1767838227066,"stop":1767838227163,"duration":97},"status":"passed","steps":[],"attachments":[{"uid":"6521b4cd6244652d","name":"Page URL","source":"6521b4cd6244652d.txt","type":"text/plain","size":33},{"uid":"629bc4d5504b2c98","name":"Screenshot: Verify that Auth page displayed (success)","source":"629bc4d5504b2c98.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1767838227163,"stop":1767838228158,"duration":995},"status":"passed","steps":[],"attachments":[{"uid":"e3ffb2ac23cc55e6","name":"Page URL","source":"e3ffb2ac23cc55e6.txt","type":"text/plain","size":33},{"uid":"626f654dab71bde2","name":"Screenshot: Click login button (success)","source":"626f654dab71bde2.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1767838228158,"stop":1767838228243,"duration":85},"status":"passed","steps":[],"attachments":[{"uid":"57a938bdf8c7089b","name":"Page URL","source":"57a938bdf8c7089b.txt","type":"text/plain","size":215},{"uid":"295938838d05813a","name":"Screenshot: Verify that Login page displayed (success)","source":"295938838d05813a.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1767838228243,"stop":1767838228562,"duration":319},"status":"passed","steps":[],"attachments":[{"uid":"f5dee698674c3f4f","name":"Page URL","source":"f5dee698674c3f4f.txt","type":"text/plain","size":215},{"uid":"928af41ed34854ff","name":"Screenshot: Enter email (success)","source":"928af41ed34854ff.png","type":"image/png","size":45248}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1767838228562,"stop":1767838228878,"duration":316},"status":"passed","steps":[],"attachments":[{"uid":"ad70dc0c60eee676","name":"Page URL","source":"ad70dc0c60eee676.txt","type":"text/plain","size":215},{"uid":"a76dbeaccd333cb0","name":"Screenshot: Enter password (success)","source":"a76dbeaccd333cb0.png","type":"image/png","size":45409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1767838228878,"stop":1767838241128,"duration":12250},"status":"passed","steps":[],"attachments":[{"uid":"ec0cc06092b02b0e","name":"Page URL","source":"ec0cc06092b02b0e.txt","type":"text/plain","size":215},{"uid":"ff0e1a47922b6b3e","name":"HTTP 200 - GET config","source":"ff0e1a47922b6b3e.txt","type":"text/plain","size":832},{"uid":"e11a49ecfbacc05b","name":"HTTP 200 - GET permissions?uri=blob:","source":"e11a49ecfbacc05b.txt","type":"text/plain","size":182},{"uid":"25cb9d8fcb0396b5","name":"HTTP 200 - GET incoming","source":"25cb9d8fcb0396b5.txt","type":"text/plain","size":156},{"uid":"5989a3d61c18615","name":"HTTP 200 - GET regression-zokdt77o7j?include=orgs","source":"5989a3d61c18615.txt","type":"text/plain","size":379},{"uid":"32c2043c5ffa5002","name":"HTTP 200 - GET regression-zokdt77o7j?include=clusters&include=system_role","source":"32c2043c5ffa5002.txt","type":"text/plain","size":407},{"uid":"1906cce3a8b9042b","name":"Screenshot: Click Continue button (success)","source":"1906cce3a8b9042b.png","type":"image/png","size":159419}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1767838241137,"stop":1767838242218,"duration":1081},"status":"passed","steps":[],"attachments":[{"uid":"d833ea3c99324f72","name":"Page URL","source":"d833ea3c99324f72.txt","type":"text/plain","size":44},{"uid":"d54f4c967ec95398","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"d54f4c967ec95398.png","type":"image/png","size":159419}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"65407336f2965f20","name":"Page URL","source":"65407336f2965f20.txt","type":"text/plain","size":33},{"uid":"65346657614a79e9","name":"Screenshot: Login via UI (success)","source":"65346657614a79e9.png","type":"image/png","size":159419}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":21,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1767838242293,"stop":1767838243306,"duration":1013},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"f0ea724985e3dcb4","name":"Executed CLI command","source":"f0ea724985e3dcb4.txt","type":"text/plain","size":1114},{"uid":"8ea987287daa639b","name":"Executed CLI command output","source":"8ea987287daa639b.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f1c256cb0408991d","name":"log","source":"f1c256cb0408991d.txt","type":"text/plain","size":22643}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":9,"attachmentsCount":24,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1767838243319,"stop":1767838243319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1767838243319,"stop":1767838243320,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1767838243320,"stop":1767838247129,"duration":3809},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1767838243320,"stop":1767838247129,"duration":3809},"status":"passed","steps":[],"attachments":[{"uid":"778c4d4c00017f96","name":"Cleanup note","source":"778c4d4c00017f96.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1767838247130,"stop":1767838247130,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1767838247131,"stop":1767838247131,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"3019-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"1ac40dfe0991743","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767838195958,"stop":1767838212395,"duration":16437}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":50,"broken":0,"skipped":0,"passed":86,"unknown":0,"total":136},"items":[{"uid":"cf4517f8720985bc","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767751677855,"stop":1767751694314,"duration":16459}},{"uid":"2fdf666a96a6d8e5","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767665033632,"stop":1767665049993,"duration":16361}},{"uid":"3eeac64e6f02b4de","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767579328038,"stop":1767579344461,"duration":16423}},{"uid":"3502a20036745993","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767492217406,"stop":1767492233442,"duration":16036}},{"uid":"792977512ed8fc2f","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767405727315,"stop":1767405743761,"duration":16446}},{"uid":"aefc56673713a3f5","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767319524082,"stop":1767319540386,"duration":16304}},{"uid":"de55e938a008755b","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767233105075,"stop":1767233121640,"duration":16565}},{"uid":"6297a6caabca592","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767146682107,"stop":1767146698774,"duration":16667}},{"uid":"20dd5d521980521c","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1767060179486,"stop":1767060195803,"duration":16317}},{"uid":"7865abb631ca11c1","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766973824898,"stop":1766973841158,"duration":16260}},{"uid":"b7547943a7fdf5e8","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766887587277,"stop":1766887603747,"duration":16470}},{"uid":"6f4a02142f04398b","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766800879069,"stop":1766800895527,"duration":16458}},{"uid":"acbe6bf895bc295","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766714673913,"stop":1766714682002,"duration":8089}},{"uid":"603efd52d7971f3","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766628125652,"stop":1766628141816,"duration":16164}},{"uid":"6f592d025291776","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766541655466,"stop":1766541671481,"duration":16015}},{"uid":"a35ac458d7f87187","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766455513699,"stop":1766455520651,"duration":6952}},{"uid":"272d31f6e7b3801b","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766369068910,"stop":1766369085319,"duration":16409}},{"uid":"eaf534b5f7c1fc9f","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766282504728,"stop":1766282521289,"duration":16561}},{"uid":"512ee5deec269893","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766196693849,"stop":1766196701938,"duration":8089}},{"uid":"1f75406ccbd462e","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login to apolo CLI with access token\nMessage: ERROR: No clusters configured","time":{"start":1766109847968,"stop":1766109864312,"duration":16344}}]},"tags":["asyncio"]},"source":"e79bb6c6efce219f.json","parameterValues":[]}