{"uid":"e762146f76ad334d","name":"Admin create secret with no project created via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_secret_no_proj_cli","historyId":"00fd51dcec949e8f8cb720ad306bef95","time":{"start":1756608730863,"stop":1756608761420,"duration":30557},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"base_url","time":{"start":1756603943940,"stop":1756603943940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1756603943940,"stop":1756603943940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1756603943940,"stop":1756603943940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1756603943940,"stop":1756603943940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1756603943941,"stop":1756603943941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1756603943941,"stop":1756603943941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1756603943941,"stop":1756603943941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1756608728278,"stop":1756608728281,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1756608728281,"stop":1756608730368,"duration":2087},"status":"passed","steps":[],"attachments":[{"uid":"427b1f54d79c1715","name":"HTTP 200 - GET config","source":"427b1f54d79c1715.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1756608728281,"stop":1756608728281,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1756608730368,"stop":1756608730369,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1756608730369,"stop":1756608730369,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1756608730369,"stop":1756608730370,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1756608730369,"stop":1756608730369,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1756608730369,"stop":1756608730369,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1756608730370,"stop":1756608730370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1756608730370,"stop":1756608730370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1756608730370,"stop":1756608730863,"duration":493},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1756608730371,"stop":1756608730862,"duration":491},"status":"passed","steps":[],"attachments":[{"uid":"4a4cfaccec782fb8","name":"Executed CLI command","source":"4a4cfaccec782fb8.txt","type":"text/plain","size":15},{"uid":"320d7d1ea92494b3","name":"Executed CLI command output","source":"320d7d1ea92494b3.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1756608730863,"stop":1756608745491,"duration":14628},"status":"passed","steps":[{"name":"Click login button","time":{"start":1756608730864,"stop":1756608731690,"duration":826},"status":"passed","steps":[],"attachments":[{"uid":"c1d6f44e3a19009","name":"Page URL","source":"c1d6f44e3a19009.txt","type":"text/plain","size":33},{"uid":"24ced4787c2a544e","name":"Screenshot: Click login button (success)","source":"24ced4787c2a544e.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1756608731690,"stop":1756608731916,"duration":226},"status":"passed","steps":[],"attachments":[{"uid":"9b8d5e1eb90e1b05","name":"Page URL","source":"9b8d5e1eb90e1b05.txt","type":"text/plain","size":33},{"uid":"2fbeada776a85017","name":"Screenshot: Enter email (success)","source":"2fbeada776a85017.png","type":"image/png","size":46718}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1756608731916,"stop":1756608732078,"duration":162},"status":"passed","steps":[],"attachments":[{"uid":"6ab57cd1e9f8fd7f","name":"Page URL","source":"6ab57cd1e9f8fd7f.txt","type":"text/plain","size":215},{"uid":"f0f85f3ddfb3d72","name":"Screenshot: Enter password (success)","source":"f0f85f3ddfb3d72.png","type":"image/png","size":46561}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1756608732078,"stop":1756608740409,"duration":8331},"status":"passed","steps":[],"attachments":[{"uid":"e9aed4bdb380fc2e","name":"Page URL","source":"e9aed4bdb380fc2e.txt","type":"text/plain","size":215},{"uid":"e48df072ba4d62ba","name":"Screenshot: Click Continue button (success)","source":"e48df072ba4d62ba.png","type":"image/png","size":16047}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1756608740424,"stop":1756608745393,"duration":4969},"status":"passed","steps":[],"attachments":[{"uid":"2863f2da747e251d","name":"Page URL","source":"2863f2da747e251d.txt","type":"text/plain","size":29},{"uid":"bca4ad981e82541f","name":"HTTP 200 - GET config","source":"bca4ad981e82541f.txt","type":"text/plain","size":752},{"uid":"befbae929902d784","name":"HTTP 200 - GET permissions?uri=blob:","source":"befbae929902d784.txt","type":"text/plain","size":163},{"uid":"1a7ec2694fa7e50e","name":"HTTP 200 - GET incoming","source":"1a7ec2694fa7e50e.txt","type":"text/plain","size":137},{"uid":"101fe9989ec9e3e4","name":"HTTP 200 - GET regression-j2fs7c1ll6?include=orgs","source":"101fe9989ec9e3e4.txt","type":"text/plain","size":360},{"uid":"9920031a685d1ba2","name":"HTTP 200 - GET regression-j2fs7c1ll6?include=clusters&include=system_role","source":"9920031a685d1ba2.txt","type":"text/plain","size":388},{"uid":"f6befd4673b8204f","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"f6befd4673b8204f.png","type":"image/png","size":159948}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"cf6b8341c5afab7b","name":"Page URL","source":"cf6b8341c5afab7b.txt","type":"text/plain","size":33},{"uid":"48f6b29585ea59b4","name":"Screenshot: Login via UI (success)","source":"48f6b29585ea59b4.png","type":"image/png","size":159948}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1756608745491,"stop":1756608759792,"duration":14301},"status":"passed","steps":[{"name":"Reload page","time":{"start":1756608756127,"stop":1756608759710,"duration":3583},"status":"passed","steps":[],"attachments":[{"uid":"c279758b1266242f","name":"Page URL","source":"c279758b1266242f.txt","type":"text/plain","size":44},{"uid":"d02cce64da36c555","name":"HTTP 200 - GET config","source":"d02cce64da36c555.txt","type":"text/plain","size":1118},{"uid":"5f0ecafba77c9519","name":"HTTP 200 - GET permissions?uri=blob:","source":"5f0ecafba77c9519.txt","type":"text/plain","size":236},{"uid":"5133641552825c5c","name":"HTTP 200 - GET incoming","source":"5133641552825c5c.txt","type":"text/plain","size":137},{"uid":"320bf4784270e438","name":"HTTP 200 - GET regression-j2fs7c1ll6?include=clusters&include=system_role","source":"320bf4784270e438.txt","type":"text/plain","size":510},{"uid":"12621a518207f343","name":"HTTP 200 - GET regression-org-xrpyz09m72rf","source":"12621a518207f343.txt","type":"text/plain","size":425},{"uid":"5d52b81404c79ba5","name":"HTTP 200 - GET regression-j2fs7c1ll6?include=orgs","source":"5d52b81404c79ba5.txt","type":"text/plain","size":455},{"uid":"3c335127cf7d8fcf","name":"Screenshot: Reload page (success)","source":"3c335127cf7d8fcf.png","type":"image/png","size":57614}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b9b1a69ef39614a6","name":"Page URL","source":"b9b1a69ef39614a6.txt","type":"text/plain","size":44},{"uid":"a35ca2a6aeca95b1","name":"Screenshot: Add organization via API and reload page (success)","source":"a35ca2a6aeca95b1.png","type":"image/png","size":57614}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1756608759792,"stop":1756608760742,"duration":950},"status":"passed","steps":[],"attachments":[{"uid":"faa45307a40b2cb9","name":"Executed CLI command","source":"faa45307a40b2cb9.txt","type":"text/plain","size":1114},{"uid":"1a1a78e8f00e9209","name":"Executed CLI command output","source":"1a1a78e8f00e9209.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1756608760743,"stop":1756608761420,"duration":677},"status":"passed","steps":[],"attachments":[{"uid":"a0656990a8cf67be","name":"Executed CLI command","source":"a0656990a8cf67be.txt","type":"text/plain","size":39},{"uid":"8879386eed936caa","name":"Executed CLI command output","source":"8879386eed936caa.txt","type":"text/plain","size":159}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"469d3f4debd2a7bc","name":"log","source":"469d3f4debd2a7bc.txt","type":"text/plain","size":26080}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1756608761421,"stop":1756608761421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1756608761422,"stop":1756608765669,"duration":4247},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1756608761422,"stop":1756608765669,"duration":4247},"status":"passed","steps":[{"name":"Delete organisation: regression-org-xrpyz09m72rf","time":{"start":1756608765298,"stop":1756608765631,"duration":333},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1756608765669,"stop":1756608765670,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1756608765671,"stop":1756608765671,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Secrets"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"pkrvmccyg1gnepe"},{"name":"thread","value":"5944-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e603f07d8194d373","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [AssertionError] during step: Verify that Welcome new user page displayed\nMessage: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"h3.truncate.text-h3\").filter(has_text=\"Welcome, regression-j2fs7c1ll6@apolo.us\")","time":{"start":1756608696556,"stop":1756608712197,"duration":15641}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":16,"unknown":0,"total":16},"items":[{"uid":"38264c8388e032eb","status":"passed","time":{"start":1756522385226,"stop":1756522422811,"duration":37585}},{"uid":"681fbe49e92aafff","status":"passed","time":{"start":1756436155723,"stop":1756436171130,"duration":15407}},{"uid":"79911eb624b7e6ad","status":"passed","time":{"start":1756349582311,"stop":1756349602419,"duration":20108}},{"uid":"b02789497e0df90e","status":"passed","time":{"start":1756177011470,"stop":1756177031222,"duration":19752}},{"uid":"40c5e82291bc9d2e","status":"passed","time":{"start":1756090307446,"stop":1756090323706,"duration":16260}},{"uid":"2da83686ae8a9917","status":"passed","time":{"start":1756003996309,"stop":1756004012982,"duration":16673}},{"uid":"ccfe72073e3cc2bb","status":"passed","time":{"start":1755917479795,"stop":1755917522274,"duration":42479}},{"uid":"3339372fd55aefad","status":"passed","time":{"start":1755831043447,"stop":1755831072514,"duration":29067}},{"uid":"dd23a948d911e457","status":"passed","time":{"start":1755744679952,"stop":1755744716515,"duration":36563}},{"uid":"d099cc8555b7b3f","status":"passed","time":{"start":1755571711616,"stop":1755571731919,"duration":20303}},{"uid":"127525d3afa92720","status":"passed","time":{"start":1755485785570,"stop":1755485804218,"duration":18648}},{"uid":"2cfd22883efd469f","status":"passed","time":{"start":1755399034524,"stop":1755399054747,"duration":20223}},{"uid":"e0728b08b450715c","status":"passed","time":{"start":1755376424925,"stop":1755376444456,"duration":19531}},{"uid":"642947258549b3b5","status":"passed","time":{"start":1755312527360,"stop":1755312548483,"duration":21123}},{"uid":"602e020d4af4c9a8","status":"passed","time":{"start":1755284434569,"stop":1755284450962,"duration":16393}}]},"tags":["asyncio"]},"source":"e762146f76ad334d.json","parameterValues":[]}