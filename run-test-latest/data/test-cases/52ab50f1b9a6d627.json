{"uid":"52ab50f1b9a6d627","name":"User without organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_with_token_cli","historyId":"fd27a26b14b2678c9927d4e7b4c1ac77","time":{"start":1766712779276,"stop":1766712779282,"duration":6},"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:744: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_cli_login.py:31: in test_login_with_token_cli\n    await self._ui_steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1766712706267,"stop":1766712706268,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766712706268,"stop":1766712706268,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1766712706268,"stop":1766712706268,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1766712706268,"stop":1766712706268,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1766712706268,"stop":1766712706268,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1766712706268,"stop":1766712706268,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1766712706268,"stop":1766712706268,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1766712706268,"stop":1766712706272,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1766712706272,"stop":1766712709706,"duration":3434},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1766712706272,"stop":1766712706272,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1766712709706,"stop":1766712709706,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1766712709706,"stop":1766712709707,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1766712709707,"stop":1766712709707,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1766712709707,"stop":1766712709708,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1766712709708,"stop":1766712778288,"duration":68580},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1766712710662,"stop":1766712740916,"duration":30254},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1766712710663,"stop":1766712740868,"duration":30205},"status":"failed","statusMessage":"AssertionError: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"d840064d8ec09484","name":"Page URL","source":"d840064d8ec09484.txt","type":"text/plain","size":29},{"uid":"5b0a44cc43a6ba65","name":"HTTP 200 - GET config","source":"5b0a44cc43a6ba65.txt","type":"text/plain","size":673},{"uid":"9b62960087bf4e24","name":"Screenshot: Click signup button (fail)","source":"9b62960087bf4e24.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"4678fa89c9b18b0","name":"Page URL","source":"4678fa89c9b18b0.txt","type":"text/plain","size":29},{"uid":"53e1c42a2656d159","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"53e1c42a2656d159.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1766712741818,"stop":1766712778288,"duration":36470},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1766712741818,"stop":1766712743104,"duration":1286},"status":"passed","steps":[],"attachments":[{"uid":"aee137039cff978b","name":"Page URL","source":"aee137039cff978b.txt","type":"text/plain","size":29},{"uid":"44b73bc69874032","name":"HTTP 200 - GET config","source":"44b73bc69874032.txt","type":"text/plain","size":673},{"uid":"1c278f4ef77bf816","name":"Screenshot: Click signup button (success)","source":"1c278f4ef77bf816.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1766712743104,"stop":1766712743438,"duration":334},"status":"passed","steps":[],"attachments":[{"uid":"54b80ed516582e68","name":"Page URL","source":"54b80ed516582e68.txt","type":"text/plain","size":216},{"uid":"55b24a298c521dbb","name":"Screenshot: Enter email (success)","source":"55b24a298c521dbb.png","type":"image/png","size":43744}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1766712743438,"stop":1766712743741,"duration":303},"status":"passed","steps":[],"attachments":[{"uid":"8e038d19864f4c91","name":"Page URL","source":"8e038d19864f4c91.txt","type":"text/plain","size":216},{"uid":"f0c006a0c87e466c","name":"Screenshot: Enter password (success)","source":"f0c006a0c87e466c.png","type":"image/png","size":62477}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1766712743741,"stop":1766712745549,"duration":1808},"status":"passed","steps":[],"attachments":[{"uid":"7a15ba1742e64d6b","name":"Page URL","source":"7a15ba1742e64d6b.txt","type":"text/plain","size":216},{"uid":"dfa3bbae07f3d526","name":"Screenshot: Click continue button (success)","source":"dfa3bbae07f3d526.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1766712745549,"stop":1766712745960,"duration":411},"status":"passed","steps":[],"attachments":[{"uid":"3e7db14824671146","name":"Page URL","source":"3e7db14824671146.txt","type":"text/plain","size":192},{"uid":"7f3b8cc7d4004008","name":"HTTP 200 - GET config","source":"7f3b8cc7d4004008.txt","type":"text/plain","size":673},{"uid":"3dd886cadc8f6cfc","name":"Screenshot: Verify that Verify email message displayed (success)","source":"3dd886cadc8f6cfc.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1766712745960,"stop":1766712747604,"duration":1644},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1766712746400,"stop":1766712747401,"duration":1001},"status":"passed","steps":[],"attachments":[{"uid":"8ec3513892763e23","name":"Page URL","source":"8ec3513892763e23.txt","type":"text/plain","size":182},{"uid":"a4fc3d9024068a1e","name":"Screenshot: Navigate to URL (success)","source":"a4fc3d9024068a1e.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1766712747604,"stop":1766712749210,"duration":1606},"status":"passed","steps":[],"attachments":[{"uid":"5f27115d53f21fe8","name":"Page URL","source":"5f27115d53f21fe8.txt","type":"text/plain","size":87},{"uid":"3f6fbebeec2af783","name":"HTTP 200 - GET config","source":"3f6fbebeec2af783.txt","type":"text/plain","size":673},{"uid":"116c828e0be649f7","name":"Screenshot: Navigate to URL (success)","source":"116c828e0be649f7.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1766712749210,"stop":1766712749275,"duration":65},"status":"passed","steps":[],"attachments":[{"uid":"f3b05e075c04bade","name":"Page URL","source":"f3b05e075c04bade.txt","type":"text/plain","size":33},{"uid":"d00cd5f797640426","name":"Screenshot: Verify that Auth page displayed (success)","source":"d00cd5f797640426.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1766712749275,"stop":1766712751302,"duration":2027},"status":"passed","steps":[],"attachments":[{"uid":"7b709a57e63ea6e7","name":"Page URL","source":"7b709a57e63ea6e7.txt","type":"text/plain","size":33},{"uid":"f44a30a45b1b0ad5","name":"HTTP 404 - HEAD regression-t9xqjwmixm","source":"f44a30a45b1b0ad5.txt","type":"text/plain","size":179},{"uid":"82e1f78e8ee5ab45","name":"Screenshot: Click login button (success)","source":"82e1f78e8ee5ab45.png","type":"image/png","size":37289}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1766712751302,"stop":1766712752404,"duration":1102},"status":"passed","steps":[],"attachments":[{"uid":"5ba4dc31597a9255","name":"Page URL","source":"5ba4dc31597a9255.txt","type":"text/plain","size":362},{"uid":"61fe94d627e09281","name":"Screenshot: Verify that Signup username page displayed (success)","source":"61fe94d627e09281.png","type":"image/png","size":37414}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1766712752404,"stop":1766712753203,"duration":799},"status":"passed","steps":[],"attachments":[{"uid":"c4174add8b83fe8c","name":"Page URL","source":"c4174add8b83fe8c.txt","type":"text/plain","size":362},{"uid":"8e9ce4ab8b916e99","name":"HTTP 404 - HEAD ","source":"8e9ce4ab8b916e99.txt","type":"text/plain","size":158},{"uid":"358322310bf7f7d5","name":"HTTP 404 - HEAD regression-t9xqjwmixm","source":"358322310bf7f7d5.txt","type":"text/plain","size":179},{"uid":"49cdc24908b13747","name":"Screenshot: Enter username (success)","source":"49cdc24908b13747.png","type":"image/png","size":37703}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1766712753203,"stop":1766712772658,"duration":19455},"status":"passed","steps":[],"attachments":[{"uid":"7ee6f5b618ccbe36","name":"Page URL","source":"7ee6f5b618ccbe36.txt","type":"text/plain","size":362},{"uid":"ebbf73509bf9641","name":"HTTP 200 - GET config","source":"ebbf73509bf9641.txt","type":"text/plain","size":830},{"uid":"f822c988db1b9c79","name":"HTTP 200 - GET permissions?uri=blob:","source":"f822c988db1b9c79.txt","type":"text/plain","size":182},{"uid":"e00ca5597c7ec8d1","name":"HTTP 200 - GET incoming","source":"e00ca5597c7ec8d1.txt","type":"text/plain","size":156},{"uid":"8f6704dca8c2d186","name":"HTTP 200 - GET regression-t9xqjwmixm?include=clusters&include=system_role","source":"8f6704dca8c2d186.txt","type":"text/plain","size":408},{"uid":"ab0cc6bd27a4162e","name":"HTTP 200 - GET regression-t9xqjwmixm?include=orgs","source":"ab0cc6bd27a4162e.txt","type":"text/plain","size":380},{"uid":"4022e0b223c30194","name":"HTTP 200 - GET config","source":"4022e0b223c30194.txt","type":"text/plain","size":830},{"uid":"1a743c50197a8150","name":"HTTP 200 - GET permissions?uri=blob:","source":"1a743c50197a8150.txt","type":"text/plain","size":182},{"uid":"7f481dd6d49a6bbf","name":"HTTP 200 - GET regression-t9xqjwmixm?include=orgs","source":"7f481dd6d49a6bbf.txt","type":"text/plain","size":380},{"uid":"200a14c23ee748f3","name":"HTTP 200 - GET incoming","source":"200a14c23ee748f3.txt","type":"text/plain","size":156},{"uid":"2e5fede256565caa","name":"HTTP 200 - GET regression-t9xqjwmixm?include=clusters&include=system_role","source":"2e5fede256565caa.txt","type":"text/plain","size":408},{"uid":"a95a55e6c775661","name":"Screenshot: Click signup button on Signup username page (success)","source":"a95a55e6c775661.png","type":"image/png","size":40097}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1766712772658,"stop":1766712772723,"duration":65},"status":"passed","steps":[],"attachments":[{"uid":"4739348d4bab5313","name":"Page URL","source":"4739348d4bab5313.txt","type":"text/plain","size":151},{"uid":"c00a887bca8ad66b","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"c00a887bca8ad66b.png","type":"image/png","size":44334}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1766712772723,"stop":1766712773324,"duration":601},"status":"passed","steps":[],"attachments":[{"uid":"44b239ed69d7889b","name":"Page URL","source":"44b239ed69d7889b.txt","type":"text/plain","size":151},{"uid":"9ebe25a2864ba9dc","name":"Screenshot: Check agreement checkbox (success)","source":"9ebe25a2864ba9dc.png","type":"image/png","size":41793}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1766712773324,"stop":1766712773925,"duration":601},"status":"passed","steps":[],"attachments":[{"uid":"39f33dc091e5582e","name":"Page URL","source":"39f33dc091e5582e.txt","type":"text/plain","size":151},{"uid":"43326c42adeefdd9","name":"Screenshot: Click I Agree button (success)","source":"43326c42adeefdd9.png","type":"image/png","size":42687}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1766712773925,"stop":1766712774050,"duration":125},"status":"passed","steps":[],"attachments":[{"uid":"7a97de31ed00eeee","name":"Page URL","source":"7a97de31ed00eeee.txt","type":"text/plain","size":151},{"uid":"2960db144f01757f","name":"HTTP 204 - PUT profile","source":"2960db144f01757f.txt","type":"text/plain","size":253},{"uid":"68de747248066617","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"68de747248066617.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1766712774050,"stop":1766712777120,"duration":3070},"status":"passed","steps":[],"attachments":[{"uid":"40af1b76f90ec859","name":"Page URL","source":"40af1b76f90ec859.txt","type":"text/plain","size":44},{"uid":"fea8e237c227b574","name":"Screenshot: Wait for timeout (success)","source":"fea8e237c227b574.png","type":"image/png","size":160431}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1766712777120,"stop":1766712778200,"duration":1080},"status":"passed","steps":[],"attachments":[{"uid":"2d64289ec4d22742","name":"Page URL","source":"2d64289ec4d22742.txt","type":"text/plain","size":44},{"uid":"8d9653833aa9a381","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"8d9653833aa9a381.png","type":"image/png","size":160431}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"40757caefe518d09","name":"Page URL","source":"40757caefe518d09.txt","type":"text/plain","size":29},{"uid":"aa8ff691ab341696","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"aa8ff691ab341696.png","type":"image/png","size":160431}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":55,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3522a53a5f8a492c","name":"HTTP 200 - GET config","source":"3522a53a5f8a492c.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":61,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1766712778289,"stop":1766712778289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1766712778289,"stop":1766712779275,"duration":986},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1766712778289,"stop":1766712779275,"duration":986},"status":"passed","steps":[],"attachments":[{"uid":"33cac1199e7a5437","name":"Executed CLI command","source":"33cac1199e7a5437.txt","type":"text/plain","size":15},{"uid":"4f35aefc4d8f74ca","name":"Executed CLI command output","source":"4f35aefc4d8f74ca.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1766712778289,"stop":1766712778289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials **via UI**.\n- Get Bearer auth token from Playwright local storage.\n\n### Verify that:\n\n- User can login with Bearer auth token **via CLI**.\n- Login output in CLI doesn't contain `organization` and `project`.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials <strong>via UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token <strong>via CLI</strong>.</li>\n<li>Login output in CLI doesn't contain <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:744: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_cli_login.py:31: in test_login_with_token_cli\n    await self._ui_steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1766712779277,"stop":1766712779282,"duration":5},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Verify that Auth page displayed","time":{"start":1766712779277,"stop":1766712779280,"duration":3},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"be12cb600879968a","name":"Page URL","source":"be12cb600879968a.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"12bbfbc1dac00aa0","name":"Page URL","source":"12bbfbc1dac00aa0.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e75fc5eeed313c49","name":"log","source":"e75fc5eeed313c49.txt","type":"text/plain","size":25813}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1766712779367,"stop":1766712779367,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1766712779367,"stop":1766712779368,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1766712779368,"stop":1766712784001,"duration":4633},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1766712779368,"stop":1766712784001,"duration":4633},"status":"passed","steps":[],"attachments":[{"uid":"203fea1bf185f1f9","name":"Cleanup note","source":"203fea1bf185f1f9.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1766712784002,"stop":1766712784003,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1766712784004,"stop":1766712784004,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Login"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"3011-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"52ab50f1b9a6d627.json","parameterValues":[]}