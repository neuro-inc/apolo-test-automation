{"uid":"ad9085d7b1e41837","name":"Admin remove secret via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_remove_secret_cli","historyId":"b012e1c138a59b89512ee3f2a5781626","time":{"start":1758089780444,"stop":1758089836687,"duration":56243},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create first secret via **CLI**.\n- Create second secret via **CLI**.\n\n### Verify that:\n\n- User can remove second secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create first secret via <strong>CLI</strong>.</li>\n<li>Create second secret via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove second secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Illegal argument(s) (stream timeout)","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:58: in cli_add_new_project\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: Illegal argument(s) (stream timeout)\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_secrets.py:149: in test_admin_remove_secret_cli\n    await self._cli_steps.admin.cli_add_new_project(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add new project via apolo CLI\nE   Message: ERROR: Illegal argument(s) (stream timeout)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1758072703609,"stop":1758072703609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758072703609,"stop":1758072703609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758072703609,"stop":1758072703609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758072703609,"stop":1758072703609,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1758072703610,"stop":1758072718610,"duration":15000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1758072703610,"stop":1758072703610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1758072718611,"stop":1758072718611,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1758089777792,"stop":1758089777795,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1758089777795,"stop":1758089777795,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1758089777795,"stop":1758089779876,"duration":2081},"status":"passed","steps":[],"attachments":[{"uid":"2ae2afdf1fe5c77c","name":"HTTP 200 - GET config","source":"2ae2afdf1fe5c77c.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1758089779877,"stop":1758089779877,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1758089779877,"stop":1758089779877,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1758089779877,"stop":1758089779878,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1758089779877,"stop":1758089779877,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1758089779878,"stop":1758089779879,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1758089779878,"stop":1758089779878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1758089779878,"stop":1758089779878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1758089779879,"stop":1758089780443,"duration":564},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1758089779879,"stop":1758089780443,"duration":564},"status":"passed","steps":[],"attachments":[{"uid":"83c8f9cbec1f1e41","name":"Executed CLI command","source":"83c8f9cbec1f1e41.txt","type":"text/plain","size":15},{"uid":"aba9ada230ffc7a0","name":"Executed CLI command output","source":"aba9ada230ffc7a0.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create first secret via **CLI**.\n- Create second secret via **CLI**.\n\n### Verify that:\n\n- User can remove second secret via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create first secret via <strong>CLI</strong>.</li>\n<li>Create second secret via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove second secret via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Illegal argument(s) (stream timeout)","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:58: in cli_add_new_project\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: Illegal argument(s) (stream timeout)\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_secrets.py:149: in test_admin_remove_secret_cli\n    await self._cli_steps.admin.cli_add_new_project(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add new project via apolo CLI\nE   Message: ERROR: Illegal argument(s) (stream timeout)","steps":[{"name":"Login via UI","time":{"start":1758089780444,"stop":1758089789452,"duration":9008},"status":"passed","steps":[{"name":"Click login button","time":{"start":1758089780445,"stop":1758089781585,"duration":1140},"status":"passed","steps":[],"attachments":[{"uid":"12a9c3e06e676f1","name":"Page URL","source":"12a9c3e06e676f1.txt","type":"text/plain","size":33},{"uid":"23a82c5de6954ca3","name":"Screenshot: Click login button (success)","source":"23a82c5de6954ca3.png","type":"image/png","size":41538}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1758089781585,"stop":1758089781717,"duration":132},"status":"passed","steps":[],"attachments":[{"uid":"d1ced0d2b037fcb2","name":"Page URL","source":"d1ced0d2b037fcb2.txt","type":"text/plain","size":215},{"uid":"413007ef9873b5bf","name":"Screenshot: Enter email (success)","source":"413007ef9873b5bf.png","type":"image/png","size":46253}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1758089781717,"stop":1758089781870,"duration":153},"status":"passed","steps":[],"attachments":[{"uid":"36a94465ca8ab20","name":"Page URL","source":"36a94465ca8ab20.txt","type":"text/plain","size":215},{"uid":"867938b62af11020","name":"Screenshot: Enter password (success)","source":"867938b62af11020.png","type":"image/png","size":46759}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1758089781870,"stop":1758089788216,"duration":6346},"status":"passed","steps":[],"attachments":[{"uid":"f40f16e46647b380","name":"Page URL","source":"f40f16e46647b380.txt","type":"text/plain","size":215},{"uid":"c8d2984e1190d563","name":"HTTP 200 - GET config","source":"c8d2984e1190d563.txt","type":"text/plain","size":752},{"uid":"23be509e8b759424","name":"HTTP 200 - GET incoming","source":"23be509e8b759424.txt","type":"text/plain","size":137},{"uid":"dbc31259d8f39202","name":"HTTP 200 - GET permissions?uri=blob:","source":"dbc31259d8f39202.txt","type":"text/plain","size":163},{"uid":"b415db032f8e01ac","name":"HTTP 200 - GET regression-48yfr6qpek?include=orgs","source":"b415db032f8e01ac.txt","type":"text/plain","size":360},{"uid":"a460022eeb519305","name":"HTTP 200 - GET regression-48yfr6qpek?include=clusters&include=system_role","source":"a460022eeb519305.txt","type":"text/plain","size":388},{"uid":"9db4f4cee5fda4d","name":"Screenshot: Click Continue button (success)","source":"9db4f4cee5fda4d.png","type":"image/png","size":161143}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1758089788227,"stop":1758089789338,"duration":1111},"status":"passed","steps":[],"attachments":[{"uid":"6bea6826fb5f77a1","name":"Page URL","source":"6bea6826fb5f77a1.txt","type":"text/plain","size":44},{"uid":"bfe3b4714da2cc8e","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"bfe3b4714da2cc8e.png","type":"image/png","size":161143}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"fe1c943b50722717","name":"Page URL","source":"fe1c943b50722717.txt","type":"text/plain","size":33},{"uid":"c719c5a6ff1a24cc","name":"Screenshot: Login via UI (success)","source":"c719c5a6ff1a24cc.png","type":"image/png","size":161143}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1758089789452,"stop":1758089804117,"duration":14665},"status":"passed","steps":[{"name":"Reload page","time":{"start":1758089800361,"stop":1758089804035,"duration":3674},"status":"passed","steps":[],"attachments":[{"uid":"f22b6e5e4ff9e05f","name":"Page URL","source":"f22b6e5e4ff9e05f.txt","type":"text/plain","size":44},{"uid":"e47a7f7db7f0a7f2","name":"HTTP 200 - GET config","source":"e47a7f7db7f0a7f2.txt","type":"text/plain","size":1118},{"uid":"62f10f97215709d9","name":"HTTP 200 - GET permissions?uri=blob:","source":"62f10f97215709d9.txt","type":"text/plain","size":236},{"uid":"ed29c97f5da4eb94","name":"HTTP 200 - GET regression-48yfr6qpek?include=clusters&include=system_role","source":"ed29c97f5da4eb94.txt","type":"text/plain","size":510},{"uid":"e77dd33a6e38be22","name":"HTTP 200 - GET incoming","source":"e77dd33a6e38be22.txt","type":"text/plain","size":137},{"uid":"3010e93846d4bf4c","name":"HTTP 200 - GET regression-org-xwn6a7h9o6sr","source":"3010e93846d4bf4c.txt","type":"text/plain","size":425},{"uid":"249f27fe6203c04a","name":"HTTP 200 - GET regression-48yfr6qpek?include=orgs","source":"249f27fe6203c04a.txt","type":"text/plain","size":455},{"uid":"ebaa8a4df2a16a06","name":"Screenshot: Reload page (success)","source":"ebaa8a4df2a16a06.png","type":"image/png","size":56359}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c104470fd5bf78fd","name":"Page URL","source":"c104470fd5bf78fd.txt","type":"text/plain","size":44},{"uid":"d8e5ab943c65dcfe","name":"Screenshot: Add organization via API and reload page (success)","source":"d8e5ab943c65dcfe.png","type":"image/png","size":56359}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1758089804117,"stop":1758089805875,"duration":1758},"status":"passed","steps":[],"attachments":[{"uid":"dffb2a7ce413bb4","name":"Executed CLI command","source":"dffb2a7ce413bb4.txt","type":"text/plain","size":1114},{"uid":"19a8f9b49ecf785","name":"Executed CLI command output","source":"19a8f9b49ecf785.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1758089805875,"stop":1758089836686,"duration":30811},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Illegal argument(s) (stream timeout)\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"b0519b4ed32621f2","name":"Executed CLI command","source":"b0519b4ed32621f2.txt","type":"text/plain","size":114},{"uid":"52ddb8a23cf57446","name":"Executed CLI command output","source":"52ddb8a23cf57446.txt","type":"text/plain","size":43}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7d808826294a8329","name":"log","source":"7d808826294a8329.txt","type":"text/plain","size":16580}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":10,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1758089836700,"stop":1758089836700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758089836700,"stop":1758089836700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1758089836700,"stop":1758089871690,"duration":34990},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1758089836701,"stop":1758089871689,"duration":34988},"status":"passed","steps":[{"name":"Delete organisation: regression-org-xwn6a7h9o6sr","time":{"start":1758089841603,"stop":1758089871638,"duration":30035},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1758089871690,"stop":1758089871691,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1758089871692,"stop":1758089871693,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Secrets"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"runnervmmq7i7"},{"name":"thread","value":"3579-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"ad9085d7b1e41837.json","parameterValues":[]}