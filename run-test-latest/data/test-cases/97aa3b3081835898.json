{"uid":"97aa3b3081835898","name":"User switch organization via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_switch_org_cli","historyId":"6d9a96c974d0ffc10b372ad7c4a9cdc5","time":{"start":1755282868797,"stop":1755282904092,"duration":35295},"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Login with Bearer auth token via CLI.\n-Create first organization via CLI.\n-Create second organization via CLI.\nVerify that:\n    - User can switch between organizations via CLI.\n","descriptionHtml":"<p>-Login with valid credentials via UI.<br />\n-Get Bearer auth token from Playwright local storage.<br />\n-Login with Bearer auth token via CLI.<br />\n-Create first organization via CLI.<br />\n-Create second organization via CLI.<br />\nVerify that:<br />\n- User can switch between organizations via CLI.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1755279674436,"stop":1755279674436,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755279674436,"stop":1755279674437,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755279674437,"stop":1755279674437,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755279674437,"stop":1755279689438,"duration":15001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755279674437,"stop":1755279674437,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755279674437,"stop":1755279674437,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755279689438,"stop":1755279689438,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755282866105,"stop":1755282866108,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755282866108,"stop":1755282868218,"duration":2110},"status":"passed","steps":[],"attachments":[{"uid":"1353ce92e2bc0e70","name":"HTTP 200 - GET config","source":"1353ce92e2bc0e70.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755282866108,"stop":1755282866108,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1755282868218,"stop":1755282868218,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755282868218,"stop":1755282868219,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755282868219,"stop":1755282868219,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755282868219,"stop":1755282868219,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755282868220,"stop":1755282868221,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755282868221,"stop":1755282868221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755282868221,"stop":1755282868797,"duration":576},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755282868222,"stop":1755282868797,"duration":575},"status":"passed","steps":[],"attachments":[{"uid":"d785bbecd1b999c4","name":"Executed CLI command","source":"d785bbecd1b999c4.txt","type":"text/plain","size":15},{"uid":"54deab315c356298","name":"Executed CLI command output","source":"54deab315c356298.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755282868221,"stop":1755282868221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Login with Bearer auth token via CLI.\n-Create first organization via CLI.\n-Create second organization via CLI.\nVerify that:\n    - User can switch between organizations via CLI.\n","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755282868798,"stop":1755282874018,"duration":5220},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755282868799,"stop":1755282869932,"duration":1133},"status":"passed","steps":[],"attachments":[{"uid":"5f4096378ef08e30","name":"Page URL","source":"5f4096378ef08e30.txt","type":"text/plain","size":33},{"uid":"95ae808c8a5eb0b1","name":"Screenshot: Click login button (success)","source":"95ae808c8a5eb0b1.png","type":"image/png","size":41603}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755282869932,"stop":1755282870099,"duration":167},"status":"passed","steps":[],"attachments":[{"uid":"f77613eb5ea51d6e","name":"Page URL","source":"f77613eb5ea51d6e.txt","type":"text/plain","size":215},{"uid":"7fc3e22850977f4d","name":"Screenshot: Enter email (success)","source":"7fc3e22850977f4d.png","type":"image/png","size":46217}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755282870099,"stop":1755282870266,"duration":167},"status":"passed","steps":[],"attachments":[{"uid":"3e40892cdb691ac0","name":"Page URL","source":"3e40892cdb691ac0.txt","type":"text/plain","size":215},{"uid":"79593acef7618861","name":"Screenshot: Enter password (success)","source":"79593acef7618861.png","type":"image/png","size":47008}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755282870266,"stop":1755282872772,"duration":2506},"status":"passed","steps":[],"attachments":[{"uid":"9210a9def30bcecf","name":"Page URL","source":"9210a9def30bcecf.txt","type":"text/plain","size":215},{"uid":"6b8c150b775bc9e7","name":"HTTP 200 - GET config","source":"6b8c150b775bc9e7.txt","type":"text/plain","size":752},{"uid":"eefefca08997a6d6","name":"HTTP 200 - GET permissions?uri=blob:","source":"eefefca08997a6d6.txt","type":"text/plain","size":163},{"uid":"ea91e2db326c21ce","name":"HTTP 200 - GET incoming","source":"ea91e2db326c21ce.txt","type":"text/plain","size":137},{"uid":"2c2a7a24905b2ad","name":"HTTP 200 - GET regression-98ikqq6pwx?include=orgs","source":"2c2a7a24905b2ad.txt","type":"text/plain","size":360},{"uid":"79403a112ad5f803","name":"HTTP 200 - GET regression-98ikqq6pwx?include=clusters&include=system_role","source":"79403a112ad5f803.txt","type":"text/plain","size":388},{"uid":"613364a9867f4c49","name":"Screenshot: Click Continue button (success)","source":"613364a9867f4c49.png","type":"image/png","size":161890}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755282872783,"stop":1755282873907,"duration":1124},"status":"passed","steps":[],"attachments":[{"uid":"ba0a4464224ed98f","name":"Page URL","source":"ba0a4464224ed98f.txt","type":"text/plain","size":44},{"uid":"8197abc1213221e0","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"8197abc1213221e0.png","type":"image/png","size":161890}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e470e99b9addccb5","name":"Page URL","source":"e470e99b9addccb5.txt","type":"text/plain","size":33},{"uid":"30cf312b3daf83be","name":"Screenshot: Login via UI (success)","source":"30cf312b3daf83be.png","type":"image/png","size":161890}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755282874018,"stop":1755282874836,"duration":818},"status":"passed","steps":[],"attachments":[{"uid":"88ee0836bb4ccf39","name":"Executed CLI command","source":"88ee0836bb4ccf39.txt","type":"text/plain","size":1114},{"uid":"24c9ce4db5a94da5","name":"Executed CLI command output","source":"24c9ce4db5a94da5.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1755282874836,"stop":1755282882844,"duration":8008},"status":"passed","steps":[],"attachments":[{"uid":"871139d9f930c4c1","name":"Executed CLI command","source":"871139d9f930c4c1.txt","type":"text/plain","size":1114},{"uid":"3e6308fa314f887d","name":"Executed CLI command output","source":"3e6308fa314f887d.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1755282882844,"stop":1755282901598,"duration":18754},"status":"passed","steps":[],"attachments":[{"uid":"d30277cfaac89c2e","name":"Executed CLI command","source":"d30277cfaac89c2e.txt","type":"text/plain","size":47},{"uid":"8e29d63292eccc0a","name":"Executed CLI command output","source":"8e29d63292eccc0a.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Switch organization via CLI","time":{"start":1755282901598,"stop":1755282902589,"duration":991},"status":"passed","steps":[],"attachments":[{"uid":"4f34402734288db8","name":"Executed CLI command","source":"4f34402734288db8.txt","type":"text/plain","size":51},{"uid":"94dad4946d15b1c1","name":"Executed CLI command output","source":"94dad4946d15b1c1.txt","type":"text/plain","size":51}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Run config show command via CLI","time":{"start":1755282902589,"stop":1755282904091,"duration":1502},"status":"passed","steps":[],"attachments":[{"uid":"39cf7a0ddd1598b0","name":"Executed CLI command","source":"39cf7a0ddd1598b0.txt","type":"text/plain","size":17},{"uid":"ab961175336d0c7","name":"Executed CLI command output","source":"ab961175336d0c7.txt","type":"text/plain","size":2905}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify config show command output","time":{"start":1755282904091,"stop":1755282904092,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"867f8e8ea8914c3f","name":"Executed CLI command","source":"867f8e8ea8914c3f.txt","type":"text/plain","size":17},{"uid":"8bd6732f22f72e4f","name":"Executed CLI command output","source":"8bd6732f22f72e4f.txt","type":"text/plain","size":2905}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"cd1cae3ceeca6437","name":"log","source":"cd1cae3ceeca6437.txt","type":"text/plain","size":19216}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":30,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1755282904093,"stop":1755282910310,"duration":6217},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755282904093,"stop":1755282910310,"duration":6217},"status":"passed","steps":[{"name":"Delete organisation: regression-org-x6shxpiqt38i","time":{"start":1755282907871,"stop":1755282909367,"duration":1496},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Delete organisation: regression-org-rmsvsof57b74","time":{"start":1755282909367,"stop":1755282910264,"duration":897},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1755282904093,"stop":1755282904093,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755282910311,"stop":1755282910311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755282910312,"stop":1755282910313,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"6034-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":8},"items":[{"uid":"738804606f46710","status":"passed","time":{"start":1754878508221,"stop":1754878542882,"duration":34661}},{"uid":"8c8929fc4e31fb20","status":"passed","time":{"start":1754829487097,"stop":1754829518506,"duration":31409}},{"uid":"c42d1f714a74b415","status":"passed","time":{"start":1754705521338,"stop":1754705576703,"duration":55365}},{"uid":"b76e950df455f899","status":"passed","time":{"start":1754618947216,"stop":1754618970637,"duration":23421}},{"uid":"c91ed911862fe924","status":"passed","time":{"start":1754594441096,"stop":1754594462038,"duration":20942}},{"uid":"e144ed8b24dfba6e","status":"passed","time":{"start":1754532070223,"stop":1754532093565,"duration":23342}},{"uid":"ed4150a2cd1ae412","status":"passed","time":{"start":1754462297233,"stop":1754462318504,"duration":21271}}]},"tags":["asyncio"]},"source":"97aa3b3081835898.json","parameterValues":[]}