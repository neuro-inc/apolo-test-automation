{"uid":"4d60c8687b8bf043","name":"Admin change member role from Reader to Writer in project via CLI","fullName":"tests.test_cases.tests_cli.test_project_change_member_roles.TestCLIProjectStructureSetup#test_admin_change_reader_to_writer_cli","historyId":"238ad4c581585e2dce3cc4b5a0bc6b18","time":{"start":1759973690339,"stop":1759973690354,"duration":15},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:73: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1759973595830,"stop":1759973595830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1759973595830,"stop":1759973595831,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759973595830,"stop":1759973595830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759973595831,"stop":1759973595831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1759973595831,"stop":1759973625832,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759973595831,"stop":1759973595831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1759973625832,"stop":1759973625837,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1759973625832,"stop":1759973625832,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759973625837,"stop":1759973625837,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759973625837,"stop":1759973628490,"duration":2653},"status":"passed","steps":[],"attachments":[{"uid":"1408ab879a3a45fe","name":"HTTP 200 - GET config","source":"1408ab879a3a45fe.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1759973628490,"stop":1759973628491,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759973628491,"stop":1759973628492,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759973628491,"stop":1759973628491,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759973628492,"stop":1759973689148,"duration":60656},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1759973631063,"stop":1759973663748,"duration":32685},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1759973631063,"stop":1759973632256,"duration":1193},"status":"passed","steps":[],"attachments":[{"uid":"cbfc4552ba4fc679","name":"Page URL","source":"cbfc4552ba4fc679.txt","type":"text/plain","size":33},{"uid":"986096c4f73ab282","name":"Screenshot: Click signup button (success)","source":"986096c4f73ab282.png","type":"image/png","size":39461}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759973632256,"stop":1759973632627,"duration":371},"status":"passed","steps":[],"attachments":[{"uid":"a98d014c3856cf02","name":"Page URL","source":"a98d014c3856cf02.txt","type":"text/plain","size":216},{"uid":"ef1b40eb05278d4f","name":"Screenshot: Enter email (success)","source":"ef1b40eb05278d4f.png","type":"image/png","size":43442}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759973632627,"stop":1759973632988,"duration":361},"status":"passed","steps":[],"attachments":[{"uid":"6b45704f045a3d6b","name":"Page URL","source":"6b45704f045a3d6b.txt","type":"text/plain","size":216},{"uid":"83fa9a4c03790cfb","name":"Screenshot: Enter password (success)","source":"83fa9a4c03790cfb.png","type":"image/png","size":63234}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1759973632988,"stop":1759973635438,"duration":2450},"status":"passed","steps":[],"attachments":[{"uid":"2507d96cfc2b211a","name":"Page URL","source":"2507d96cfc2b211a.txt","type":"text/plain","size":216},{"uid":"dbb5a984cb522744","name":"Screenshot: Click continue button (success)","source":"dbb5a984cb522744.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1759973635439,"stop":1759973635888,"duration":449},"status":"passed","steps":[],"attachments":[{"uid":"4cfeebbcdc07dcb1","name":"Page URL","source":"4cfeebbcdc07dcb1.txt","type":"text/plain","size":194},{"uid":"63237a777f5ca289","name":"HTTP 200 - GET config","source":"63237a777f5ca289.txt","type":"text/plain","size":654},{"uid":"3bf15a2c643ec580","name":"Screenshot: Verify that Verify email message displayed (success)","source":"3bf15a2c643ec580.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1759973635888,"stop":1759973637628,"duration":1740},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1759973636374,"stop":1759973637404,"duration":1030},"status":"passed","steps":[],"attachments":[{"uid":"ceb930c10955f9fa","name":"Page URL","source":"ceb930c10955f9fa.txt","type":"text/plain","size":184},{"uid":"b822c0df08fc6659","name":"Screenshot: Navigate to URL (success)","source":"b822c0df08fc6659.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1759973637629,"stop":1759973639727,"duration":2098},"status":"passed","steps":[],"attachments":[{"uid":"a210fe3ba36b7b63","name":"Page URL","source":"a210fe3ba36b7b63.txt","type":"text/plain","size":87},{"uid":"ab26b93281598589","name":"HTTP 200 - GET config","source":"ab26b93281598589.txt","type":"text/plain","size":654},{"uid":"9c7ea14e8b2a1a70","name":"Screenshot: Navigate to URL (success)","source":"9c7ea14e8b2a1a70.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1759973639727,"stop":1759973639824,"duration":97},"status":"passed","steps":[],"attachments":[{"uid":"e51f13c553c514ca","name":"Page URL","source":"e51f13c553c514ca.txt","type":"text/plain","size":33},{"uid":"36eae780c3b54bfd","name":"Screenshot: Verify that Auth page displayed (success)","source":"36eae780c3b54bfd.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1759973639824,"stop":1759973641050,"duration":1226},"status":"passed","steps":[],"attachments":[{"uid":"e0be9591470fec0f","name":"Page URL","source":"e0be9591470fec0f.txt","type":"text/plain","size":33},{"uid":"a5c431725ca07fb9","name":"Screenshot: Click login button (success)","source":"a5c431725ca07fb9.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1759973641050,"stop":1759973642173,"duration":1123},"status":"passed","steps":[],"attachments":[{"uid":"217d944a3a20a2b2","name":"Page URL","source":"217d944a3a20a2b2.txt","type":"text/plain","size":362},{"uid":"6babe59497f17b48","name":"HTTP 404 - HEAD regression-wpjlzvjigb","source":"6babe59497f17b48.txt","type":"text/plain","size":160},{"uid":"fab6aed6c92001bc","name":"Screenshot: Verify that Signup username page displayed (success)","source":"fab6aed6c92001bc.png","type":"image/png","size":37075}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1759973642173,"stop":1759973643023,"duration":850},"status":"passed","steps":[],"attachments":[{"uid":"e904b79a63887811","name":"Page URL","source":"e904b79a63887811.txt","type":"text/plain","size":362},{"uid":"a98ff83d76ce7f89","name":"HTTP 404 - HEAD regression-wpjlzvjigb","source":"a98ff83d76ce7f89.txt","type":"text/plain","size":160},{"uid":"bc33627d10576bdb","name":"HTTP 404 - HEAD ","source":"bc33627d10576bdb.txt","type":"text/plain","size":139},{"uid":"8978aa128f1fa896","name":"Screenshot: Enter username (success)","source":"8978aa128f1fa896.png","type":"image/png","size":37391}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1759973643023,"stop":1759973653550,"duration":10527},"status":"passed","steps":[],"attachments":[{"uid":"820ac73efa7c2605","name":"Page URL","source":"820ac73efa7c2605.txt","type":"text/plain","size":362},{"uid":"b564ca2da9f0acf9","name":"HTTP 200 - GET config","source":"b564ca2da9f0acf9.txt","type":"text/plain","size":654},{"uid":"ddca5688b3303090","name":"Screenshot: Click signup button on Signup username page (success)","source":"ddca5688b3303090.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1759973653550,"stop":1759973663682,"duration":10132},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"66cd757779bc8b18","name":"Page URL","source":"66cd757779bc8b18.txt","type":"text/plain","size":222},{"uid":"5e61d9ab0964df6a","name":"Screenshot: Verify that User agreement pop up displayed (fail)","source":"5e61d9ab0964df6a.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f6da691510e65fda","name":"Page URL","source":"f6da691510e65fda.txt","type":"text/plain","size":33},{"uid":"46b044bf06b5f017","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"46b044bf06b5f017.png","type":"image/png","size":28633}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1759973666190,"stop":1759973689148,"duration":22958},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1759973666190,"stop":1759973667572,"duration":1382},"status":"passed","steps":[],"attachments":[{"uid":"45cedf02c798fc47","name":"Page URL","source":"45cedf02c798fc47.txt","type":"text/plain","size":33},{"uid":"2a314fa85859bf6d","name":"Screenshot: Click signup button (success)","source":"2a314fa85859bf6d.png","type":"image/png","size":39800}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759973667572,"stop":1759973667932,"duration":360},"status":"passed","steps":[],"attachments":[{"uid":"4ae10a1eddd6f8d","name":"Page URL","source":"4ae10a1eddd6f8d.txt","type":"text/plain","size":216},{"uid":"ecfdcb2e1879a556","name":"Screenshot: Enter email (success)","source":"ecfdcb2e1879a556.png","type":"image/png","size":43223}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759973667932,"stop":1759973668305,"duration":373},"status":"passed","steps":[],"attachments":[{"uid":"e3449f7ef2f1daa2","name":"Page URL","source":"e3449f7ef2f1daa2.txt","type":"text/plain","size":216},{"uid":"252c9ef95e394c29","name":"Screenshot: Enter password (success)","source":"252c9ef95e394c29.png","type":"image/png","size":63058}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1759973668305,"stop":1759973670481,"duration":2176},"status":"passed","steps":[],"attachments":[{"uid":"3b873eee07e9bc12","name":"Page URL","source":"3b873eee07e9bc12.txt","type":"text/plain","size":216},{"uid":"a4adb04707f3c68d","name":"Screenshot: Click continue button (success)","source":"a4adb04707f3c68d.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1759973670482,"stop":1759973670915,"duration":433},"status":"passed","steps":[],"attachments":[{"uid":"430cba2eff9df53a","name":"Page URL","source":"430cba2eff9df53a.txt","type":"text/plain","size":192},{"uid":"a1037a3ca3e7cb27","name":"HTTP 200 - GET config","source":"a1037a3ca3e7cb27.txt","type":"text/plain","size":654},{"uid":"daf4a35fd1d43499","name":"Screenshot: Verify that Verify email message displayed (success)","source":"daf4a35fd1d43499.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1759973670916,"stop":1759973674099,"duration":3183},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1759973672639,"stop":1759973673880,"duration":1241},"status":"passed","steps":[],"attachments":[{"uid":"5dff0f2444c9b9e8","name":"Page URL","source":"5dff0f2444c9b9e8.txt","type":"text/plain","size":182},{"uid":"6be20fda6dcecd9d","name":"Screenshot: Navigate to URL (success)","source":"6be20fda6dcecd9d.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1759973674099,"stop":1759973676256,"duration":2157},"status":"passed","steps":[],"attachments":[{"uid":"1948e856e75845d1","name":"Page URL","source":"1948e856e75845d1.txt","type":"text/plain","size":87},{"uid":"3746799cbed56551","name":"HTTP 200 - GET config","source":"3746799cbed56551.txt","type":"text/plain","size":654},{"uid":"d8ec919299124e32","name":"Screenshot: Navigate to URL (success)","source":"d8ec919299124e32.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1759973676257,"stop":1759973676356,"duration":99},"status":"passed","steps":[],"attachments":[{"uid":"54cb37f99916dc90","name":"Page URL","source":"54cb37f99916dc90.txt","type":"text/plain","size":33},{"uid":"aa36b99dddf5b2ae","name":"Screenshot: Verify that Auth page displayed (success)","source":"aa36b99dddf5b2ae.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1759973676356,"stop":1759973677611,"duration":1255},"status":"passed","steps":[],"attachments":[{"uid":"70393cfe6fa45e2c","name":"Page URL","source":"70393cfe6fa45e2c.txt","type":"text/plain","size":33},{"uid":"77175aed30b6e6ec","name":"Screenshot: Click login button (success)","source":"77175aed30b6e6ec.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1759973677612,"stop":1759973678722,"duration":1110},"status":"passed","steps":[],"attachments":[{"uid":"a330fc2fe9d77f14","name":"Page URL","source":"a330fc2fe9d77f14.txt","type":"text/plain","size":33},{"uid":"e6b180faf903a749","name":"HTTP 404 - HEAD regression-quzahus5il","source":"e6b180faf903a749.txt","type":"text/plain","size":160},{"uid":"6c16979e21b8a79c","name":"Screenshot: Verify that Signup username page displayed (success)","source":"6c16979e21b8a79c.png","type":"image/png","size":37089}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1759973678722,"stop":1759973679589,"duration":867},"status":"passed","steps":[],"attachments":[{"uid":"57cfba069686a855","name":"Page URL","source":"57cfba069686a855.txt","type":"text/plain","size":362},{"uid":"faa72547b9e57982","name":"HTTP 404 - HEAD ","source":"faa72547b9e57982.txt","type":"text/plain","size":139},{"uid":"b08cfe8ccac07da2","name":"HTTP 404 - HEAD regression-quzahus5il","source":"b08cfe8ccac07da2.txt","type":"text/plain","size":160},{"uid":"aecd79a89b7fc72a","name":"Screenshot: Enter username (success)","source":"aecd79a89b7fc72a.png","type":"image/png","size":37408}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1759973679589,"stop":1759973683254,"duration":3665},"status":"passed","steps":[],"attachments":[{"uid":"f6da410ae3d09b40","name":"Page URL","source":"f6da410ae3d09b40.txt","type":"text/plain","size":362},{"uid":"71417bca3e9b5a1a","name":"HTTP 200 - GET config","source":"71417bca3e9b5a1a.txt","type":"text/plain","size":752},{"uid":"ac4d53451b1616d8","name":"HTTP 200 - GET config","source":"ac4d53451b1616d8.txt","type":"text/plain","size":752},{"uid":"f8e23ea77d9ff965","name":"HTTP 200 - GET permissions?uri=blob:","source":"f8e23ea77d9ff965.txt","type":"text/plain","size":163},{"uid":"a882b3fa10e3f55a","name":"HTTP 200 - GET incoming","source":"a882b3fa10e3f55a.txt","type":"text/plain","size":137},{"uid":"9aedbe00993e93b","name":"HTTP 200 - GET regression-quzahus5il?include=orgs","source":"9aedbe00993e93b.txt","type":"text/plain","size":361},{"uid":"4bdba6c0922042d9","name":"HTTP 200 - GET regression-quzahus5il?include=clusters&include=system_role","source":"4bdba6c0922042d9.txt","type":"text/plain","size":389},{"uid":"b447234f01549161","name":"Screenshot: Click signup button on Signup username page (success)","source":"b447234f01549161.png","type":"image/png","size":44188}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1759973683254,"stop":1759973683373,"duration":119},"status":"passed","steps":[],"attachments":[{"uid":"83f1b3107eb8f9bb","name":"Page URL","source":"83f1b3107eb8f9bb.txt","type":"text/plain","size":153},{"uid":"7e4d8db40625c5d1","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"7e4d8db40625c5d1.png","type":"image/png","size":47444}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1759973683373,"stop":1759973684024,"duration":651},"status":"passed","steps":[],"attachments":[{"uid":"4025e7f3895b1967","name":"Page URL","source":"4025e7f3895b1967.txt","type":"text/plain","size":153},{"uid":"526f590767251f51","name":"Screenshot: Check agreement checkbox (success)","source":"526f590767251f51.png","type":"image/png","size":41779}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1759973684024,"stop":1759973684697,"duration":673},"status":"passed","steps":[],"attachments":[{"uid":"154b6ba99ff9902c","name":"Page URL","source":"154b6ba99ff9902c.txt","type":"text/plain","size":153},{"uid":"79517bbf32375adb","name":"HTTP 204 - PUT profile","source":"79517bbf32375adb.txt","type":"text/plain","size":154},{"uid":"7798814e220172a8","name":"Screenshot: Click I Agree button (success)","source":"7798814e220172a8.png","type":"image/png","size":42473}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1759973684697,"stop":1759973684832,"duration":135},"status":"passed","steps":[],"attachments":[{"uid":"a30a91521fb2dec2","name":"Page URL","source":"a30a91521fb2dec2.txt","type":"text/plain","size":44},{"uid":"e02358670efe7b5e","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"e02358670efe7b5e.png","type":"image/png","size":159035}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1759973684832,"stop":1759973687917,"duration":3085},"status":"passed","steps":[],"attachments":[{"uid":"e9040069208ac737","name":"Page URL","source":"e9040069208ac737.txt","type":"text/plain","size":44},{"uid":"406359e6d06fe96c","name":"Screenshot: Wait for timeout (success)","source":"406359e6d06fe96c.png","type":"image/png","size":159035}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759973687917,"stop":1759973689031,"duration":1114},"status":"passed","steps":[],"attachments":[{"uid":"5368ada1b6f0e8aa","name":"Page URL","source":"5368ada1b6f0e8aa.txt","type":"text/plain","size":44},{"uid":"56cb6b7925421e6a","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"56cb6b7925421e6a.png","type":"image/png","size":159035}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"9fcd544aa4f843f9","name":"Page URL","source":"9fcd544aa4f843f9.txt","type":"text/plain","size":33},{"uid":"50298dfa7aabc6ee","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"50298dfa7aabc6ee.png","type":"image/png","size":159035}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":50,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d9b2ad15292d9036","name":"HTTP 200 - GET config","source":"d9b2ad15292d9036.txt","type":"text/plain","size":654},{"uid":"3dbb3929dd09f18e","name":"HTTP 200 - GET config","source":"3dbb3929dd09f18e.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":35,"attachmentsCount":86,"hasContent":true,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759973628492,"stop":1759973628492,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759973689148,"stop":1759973689149,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759973689149,"stop":1759973689149,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759973689149,"stop":1759973690338,"duration":1189},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759973689149,"stop":1759973690338,"duration":1189},"status":"passed","steps":[],"attachments":[{"uid":"b2396eb462847f64","name":"Executed CLI command","source":"b2396eb462847f64.txt","type":"text/plain","size":15},{"uid":"a6309dbf57f86955","name":"Executed CLI command output","source":"a6309dbf57f86955.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Signup `second user` via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Add `second user` to organization via **CLI**.\n- Add `second user` to project with `Reader` role via **CLI**.\n\n### Verify that:\n\n- `Admin` can change project role from `Reader` to `Writer` via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization via <strong>CLI</strong>.</li>\n<li>Add <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to project with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> role via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change project role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Reader</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Writer</span> via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:73: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:73: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_project_change_member_roles.py:38: in test_admin_change_reader_to_writer_cli\n    await self._ui_steps.ui_login(user=user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1759973690340,"stop":1759973690353,"duration":13},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click login button","time":{"start":1759973690340,"stop":1759973690348,"duration":8},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"a51f34bcdf228957","name":"Page URL","source":"a51f34bcdf228957.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d32f2e0953e12933","name":"Page URL","source":"d32f2e0953e12933.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"49322c6c8d7c52de","name":"log","source":"49322c6c8d7c52de.txt","type":"text/plain","size":34422}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1759973690537,"stop":1759973690537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759973690537,"stop":1759973694024,"duration":3487},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759973690537,"stop":1759973694024,"duration":3487},"status":"passed","steps":[],"attachments":[{"uid":"5f8c86451fcad8aa","name":"Cleanup note","source":"5f8c86451fcad8aa.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1759973690537,"stop":1759973690537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759973694026,"stop":1759973694027,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759973694027,"stop":1759973694028,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Project Remove Members"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3766-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"4d60c8687b8bf043.json","parameterValues":[]}