{"uid":"3e95da46c0c790bf","name":"Verify User cannot purchase credits via top pane","fullName":"tests.test_cases.tests_ui.test_credits_purchase.TestUICreditsPurchase#test_user_purchase_credits","historyId":"9db4884e512bd7f645eefd6d7ed8d097","time":{"start":1766280814650,"stop":1766280814657,"duration":7},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:744: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:33: in test_user_purchase_credits\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1766280743156,"stop":1766280743156,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1766280743156,"stop":1766280743156,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1766280743156,"stop":1766280743156,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766280743156,"stop":1766280743156,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1766280743157,"stop":1766280743157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1766280743157,"stop":1766280743161,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1766280743157,"stop":1766280743157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1766280743157,"stop":1766280743157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1766280743161,"stop":1766280746346,"duration":3185},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1766280743161,"stop":1766280743162,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1766280746347,"stop":1766280746348,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1766280746347,"stop":1766280746347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1766280746347,"stop":1766280746347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1766280746348,"stop":1766280746348,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1766280746348,"stop":1766280814648,"duration":68300},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1766280747154,"stop":1766280777441,"duration":30287},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1766280747155,"stop":1766280777386,"duration":30231},"status":"failed","statusMessage":"AssertionError: [TimeoutError] during step: Click signup button\nMessage: Element not ready for click after 10000ms: <Locator frame=<Frame name= url='https://console.dev.apolo.us/auth'> selector=\"button:text('Sign up')\">\nLast error: Locator.wait_for: Timeout 500ms exceeded.\nCall log:\n  - waiting for locator(\"button:text('Sign up')\")\n\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"f5e6406cdb7e7f8b","name":"Page URL","source":"f5e6406cdb7e7f8b.txt","type":"text/plain","size":29},{"uid":"f7728b962297f15f","name":"HTTP 200 - GET config","source":"f7728b962297f15f.txt","type":"text/plain","size":673},{"uid":"e8e4727320a23505","name":"Screenshot: Click signup button (fail)","source":"e8e4727320a23505.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5e72387cacb3c32b","name":"Page URL","source":"5e72387cacb3c32b.txt","type":"text/plain","size":29},{"uid":"3fad1e969ababdb9","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"3fad1e969ababdb9.png","type":"image/png","size":24401}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1766280778343,"stop":1766280814648,"duration":36305},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1766280778343,"stop":1766280779465,"duration":1122},"status":"passed","steps":[],"attachments":[{"uid":"37a4ecc8321e8a9b","name":"Page URL","source":"37a4ecc8321e8a9b.txt","type":"text/plain","size":29},{"uid":"abe8267b671cdd30","name":"HTTP 200 - GET config","source":"abe8267b671cdd30.txt","type":"text/plain","size":673},{"uid":"ec5229541b7c3626","name":"Screenshot: Click signup button (success)","source":"ec5229541b7c3626.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1766280779465,"stop":1766280779781,"duration":316},"status":"passed","steps":[],"attachments":[{"uid":"8574df7502d90380","name":"Page URL","source":"8574df7502d90380.txt","type":"text/plain","size":216},{"uid":"e72de6e36ced1d8c","name":"Screenshot: Enter email (success)","source":"e72de6e36ced1d8c.png","type":"image/png","size":43581}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1766280779781,"stop":1766280780103,"duration":322},"status":"passed","steps":[],"attachments":[{"uid":"afc98c3ddefabc01","name":"Page URL","source":"afc98c3ddefabc01.txt","type":"text/plain","size":216},{"uid":"38100ba800481289","name":"Screenshot: Enter password (success)","source":"38100ba800481289.png","type":"image/png","size":62821}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1766280780103,"stop":1766280782058,"duration":1955},"status":"passed","steps":[],"attachments":[{"uid":"a77eaf03f3362dda","name":"Page URL","source":"a77eaf03f3362dda.txt","type":"text/plain","size":216},{"uid":"49e094a60d622e66","name":"Screenshot: Click continue button (success)","source":"49e094a60d622e66.png","type":"image/png","size":10741}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1766280782058,"stop":1766280782479,"duration":421},"status":"passed","steps":[],"attachments":[{"uid":"14007d2ca30969ae","name":"Page URL","source":"14007d2ca30969ae.txt","type":"text/plain","size":192},{"uid":"e8cddcf29a2801b8","name":"HTTP 200 - GET config","source":"e8cddcf29a2801b8.txt","type":"text/plain","size":673},{"uid":"94c75050bcc6dbc6","name":"Screenshot: Verify that Verify email message displayed (success)","source":"94c75050bcc6dbc6.png","type":"image/png","size":28211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1766280782479,"stop":1766280783945,"duration":1466},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1766280782883,"stop":1766280783811,"duration":928},"status":"passed","steps":[],"attachments":[{"uid":"d201a44f1e42a963","name":"Page URL","source":"d201a44f1e42a963.txt","type":"text/plain","size":182},{"uid":"6c635b4d8cabe129","name":"Screenshot: Navigate to URL (success)","source":"6c635b4d8cabe129.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1766280783945,"stop":1766280785739,"duration":1794},"status":"passed","steps":[],"attachments":[{"uid":"b2e76c187deae176","name":"Page URL","source":"b2e76c187deae176.txt","type":"text/plain","size":87},{"uid":"f73b3f7db343aa83","name":"HTTP 200 - GET config","source":"f73b3f7db343aa83.txt","type":"text/plain","size":673},{"uid":"326f933cc0aa3366","name":"Screenshot: Navigate to URL (success)","source":"326f933cc0aa3366.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1766280785739,"stop":1766280785820,"duration":81},"status":"passed","steps":[],"attachments":[{"uid":"533760876ec1ddc5","name":"Page URL","source":"533760876ec1ddc5.txt","type":"text/plain","size":33},{"uid":"f3a7e955041010bb","name":"Screenshot: Verify that Auth page displayed (success)","source":"f3a7e955041010bb.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1766280785820,"stop":1766280787729,"duration":1909},"status":"passed","steps":[],"attachments":[{"uid":"442a256acd02fd27","name":"Page URL","source":"442a256acd02fd27.txt","type":"text/plain","size":33},{"uid":"4ab629ac06c95396","name":"HTTP 404 - HEAD regression-lbyjkiv53z","source":"4ab629ac06c95396.txt","type":"text/plain","size":179},{"uid":"b511f76c0a7a25cb","name":"Screenshot: Click login button (success)","source":"b511f76c0a7a25cb.png","type":"image/png","size":37386}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1766280787729,"stop":1766280788810,"duration":1081},"status":"passed","steps":[],"attachments":[{"uid":"1d87cf06485fc618","name":"Page URL","source":"1d87cf06485fc618.txt","type":"text/plain","size":362},{"uid":"31970061f2438435","name":"Screenshot: Verify that Signup username page displayed (success)","source":"31970061f2438435.png","type":"image/png","size":37305}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1766280788810,"stop":1766280789644,"duration":834},"status":"passed","steps":[],"attachments":[{"uid":"e1d45f5440300b55","name":"Page URL","source":"e1d45f5440300b55.txt","type":"text/plain","size":362},{"uid":"1665cb80decd23b6","name":"HTTP 404 - HEAD ","source":"1665cb80decd23b6.txt","type":"text/plain","size":158},{"uid":"9a088561b08b20a5","name":"HTTP 404 - HEAD regression-lbyjkiv53z","source":"9a088561b08b20a5.txt","type":"text/plain","size":179},{"uid":"b5d35fd7da33adce","name":"Screenshot: Enter username (success)","source":"b5d35fd7da33adce.png","type":"image/png","size":37557}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1766280789644,"stop":1766280808949,"duration":19305},"status":"passed","steps":[],"attachments":[{"uid":"55e6b68d12481d3","name":"Page URL","source":"55e6b68d12481d3.txt","type":"text/plain","size":362},{"uid":"9b7838fb16295e97","name":"HTTP 200 - GET config","source":"9b7838fb16295e97.txt","type":"text/plain","size":830},{"uid":"dc2c4e38bacd620b","name":"HTTP 200 - GET incoming","source":"dc2c4e38bacd620b.txt","type":"text/plain","size":156},{"uid":"e0c6e687fdb8a5d7","name":"HTTP 200 - GET permissions?uri=blob:","source":"e0c6e687fdb8a5d7.txt","type":"text/plain","size":182},{"uid":"dd8c995244e5e491","name":"HTTP 200 - GET regression-lbyjkiv53z?include=orgs","source":"dd8c995244e5e491.txt","type":"text/plain","size":380},{"uid":"40b746e67b27dd38","name":"HTTP 200 - GET regression-lbyjkiv53z?include=clusters&include=system_role","source":"40b746e67b27dd38.txt","type":"text/plain","size":408},{"uid":"120b6e0c9ce0b573","name":"HTTP 200 - GET config","source":"120b6e0c9ce0b573.txt","type":"text/plain","size":830},{"uid":"b641a57473684515","name":"HTTP 200 - GET permissions?uri=blob:","source":"b641a57473684515.txt","type":"text/plain","size":182},{"uid":"f6f243d2f0257f46","name":"HTTP 200 - GET incoming","source":"f6f243d2f0257f46.txt","type":"text/plain","size":156},{"uid":"5b97c9c431140c0a","name":"HTTP 200 - GET regression-lbyjkiv53z?include=orgs","source":"5b97c9c431140c0a.txt","type":"text/plain","size":380},{"uid":"1385532ce9bbceaa","name":"HTTP 200 - GET regression-lbyjkiv53z?include=clusters&include=system_role","source":"1385532ce9bbceaa.txt","type":"text/plain","size":408},{"uid":"384725b93dea210c","name":"Screenshot: Click signup button on Signup username page (success)","source":"384725b93dea210c.png","type":"image/png","size":43310}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1766280808949,"stop":1766280809018,"duration":69},"status":"passed","steps":[],"attachments":[{"uid":"99afff32c54b4f4e","name":"Page URL","source":"99afff32c54b4f4e.txt","type":"text/plain","size":151},{"uid":"55b578126f9cb6fa","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"55b578126f9cb6fa.png","type":"image/png","size":41526}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1766280809018,"stop":1766280809636,"duration":618},"status":"passed","steps":[],"attachments":[{"uid":"78ae71455ee5472a","name":"Page URL","source":"78ae71455ee5472a.txt","type":"text/plain","size":151},{"uid":"3f2698e20d3f63a1","name":"Screenshot: Check agreement checkbox (success)","source":"3f2698e20d3f63a1.png","type":"image/png","size":42003}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1766280809636,"stop":1766280810252,"duration":616},"status":"passed","steps":[],"attachments":[{"uid":"8734e95774731bc1","name":"Page URL","source":"8734e95774731bc1.txt","type":"text/plain","size":151},{"uid":"bddc097f155a3682","name":"Screenshot: Click I Agree button (success)","source":"bddc097f155a3682.png","type":"image/png","size":42894}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1766280810252,"stop":1766280810348,"duration":96},"status":"passed","steps":[],"attachments":[{"uid":"af55e30662876d7","name":"Page URL","source":"af55e30662876d7.txt","type":"text/plain","size":151},{"uid":"5c9e381b55896497","name":"HTTP 204 - PUT profile","source":"5c9e381b55896497.txt","type":"text/plain","size":253},{"uid":"36e447a6cc8391b8","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"36e447a6cc8391b8.png","type":"image/png","size":8511}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1766280810348,"stop":1766280813431,"duration":3083},"status":"passed","steps":[],"attachments":[{"uid":"589d956ac77b832e","name":"Page URL","source":"589d956ac77b832e.txt","type":"text/plain","size":44},{"uid":"d4af695ad6beb9c1","name":"Screenshot: Wait for timeout (success)","source":"d4af695ad6beb9c1.png","type":"image/png","size":160892}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1766280813431,"stop":1766280814522,"duration":1091},"status":"passed","steps":[],"attachments":[{"uid":"3360258184ad0c5c","name":"Page URL","source":"3360258184ad0c5c.txt","type":"text/plain","size":44},{"uid":"d87ef918ab450615","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"d87ef918ab450615.png","type":"image/png","size":160892}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"62adce986c87e637","name":"Page URL","source":"62adce986c87e637.txt","type":"text/plain","size":29},{"uid":"8b4ba964479e4ce8","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"8b4ba964479e4ce8.png","type":"image/png","size":160892}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":55,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1614789db66f3d48","name":"HTTP 200 - GET config","source":"1614789db66f3d48.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":61,"hasContent":true,"attachmentStep":false},{"name":"setup","time":{"start":1766280814649,"stop":1766280814649,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1766280814649,"stop":1766280814649,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1766280814649,"stop":1766280814649,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role.\n\n### Verify that:\n\n- `User` **cannot** purchase credits via top pane.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> <strong>cannot</strong> purchase credits via top pane.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:18: in verify_ui_page_displayed\n    assert await self._pm.auth_page.is_loaded(), \"Auth page should be displayed!\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/components/ui/pages/auth_page.py:19: in is_loaded\n    await self._log_in_button.is_visible(timeout=60000)\ntests/components/ui/pages/base_element.py:128: in is_visible\n    await expect(self.locator).to_be_visible(timeout=interval)\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:744: in _expect\n    return await self._frame._expect(self._selector, expression, options, title)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:189: in _expect\n    result = await self._channel.send_return_as_dict(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:83: in send_return_as_dict\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:559: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:71: in ui_login\n    await self.auth_page.verify_ui_page_displayed()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_credits_purchase.py:33: in test_user_purchase_credits\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Verify that Auth page displayed\nE   Message: LocatorAssertions.to_be_visible: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1766280814650,"stop":1766280814656,"duration":6},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Verify that Auth page displayed","time":{"start":1766280814651,"stop":1766280814654,"duration":3},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Verify that Auth page displayed\nMessage: LocatorAssertions.to_be_visible: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"49f277c452efb3db","name":"Page URL","source":"49f277c452efb3db.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5cb2a317f7edb683","name":"Page URL","source":"5cb2a317f7edb683.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2e36e1d9e96cbf62","name":"log","source":"2e36e1d9e96cbf62.txt","type":"text/plain","size":25397}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1766280814760,"stop":1766280814761,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1766280814761,"stop":1766280814761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1766280814761,"stop":1766280818362,"duration":3601},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1766280814761,"stop":1766280818362,"duration":3601},"status":"passed","steps":[],"attachments":[{"uid":"67901468935a2ad2","name":"Cleanup note","source":"67901468935a2ad2.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1766280818364,"stop":1766280818365,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1766280818365,"stop":1766280818366,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"UI Tests"},{"name":"suite","value":"UI Credits Purchase"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUICreditsPurchase"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"3012-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_credits_purchase"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"3e95da46c0c790bf.json","parameterValues":[]}