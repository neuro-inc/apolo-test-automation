{"uid":"642947258549b3b5","name":"Admin create secret with no project created via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_secret_no_proj_cli","historyId":"00fd51dcec949e8f8cb720ad306bef95","time":{"start":1755312527360,"stop":1755312548483,"duration":21123},"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Create new organization via API.\n-Login with Bearer auth token via CLI.\nVerify that:\n    - User cannot create secret if there is no project created via CLI.\n","descriptionHtml":"<p>-Login with valid credentials via UI.<br />\n-Get Bearer auth token from Playwright local storage.<br />\n-Create new organization via API.<br />\n-Login with Bearer auth token via CLI.<br />\nVerify that:<br />\n- User cannot create secret if there is no project created via CLI.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755307922252,"stop":1755307922252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755307922253,"stop":1755307922253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755307922253,"stop":1755307922253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755312524838,"stop":1755312524841,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755312524841,"stop":1755312524841,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755312524841,"stop":1755312526855,"duration":2014},"status":"passed","steps":[],"attachments":[{"uid":"10bea3cb5f9d8255","name":"HTTP 200 - GET config","source":"10bea3cb5f9d8255.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1755312526855,"stop":1755312526855,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755312526855,"stop":1755312526855,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755312526855,"stop":1755312526856,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755312526856,"stop":1755312526856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755312526856,"stop":1755312526857,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755312526856,"stop":1755312526856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755312526857,"stop":1755312527360,"duration":503},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755312526857,"stop":1755312527360,"duration":503},"status":"passed","steps":[],"attachments":[{"uid":"3270b439d66a3a84","name":"Executed CLI command","source":"3270b439d66a3a84.txt","type":"text/plain","size":15},{"uid":"33e0788f29b15748","name":"Executed CLI command output","source":"33e0788f29b15748.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755312526857,"stop":1755312526857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Create new organization via API.\n-Login with Bearer auth token via CLI.\nVerify that:\n    - User cannot create secret if there is no project created via CLI.\n","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755312527361,"stop":1755312532255,"duration":4894},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755312527361,"stop":1755312528386,"duration":1025},"status":"passed","steps":[],"attachments":[{"uid":"eb6b6b97d79cd28e","name":"Page URL","source":"eb6b6b97d79cd28e.txt","type":"text/plain","size":33},{"uid":"6b6af265c6e74ff3","name":"Screenshot: Click login button (success)","source":"6b6af265c6e74ff3.png","type":"image/png","size":41901}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755312528386,"stop":1755312528568,"duration":182},"status":"passed","steps":[],"attachments":[{"uid":"3cdfe86534f823f","name":"Page URL","source":"3cdfe86534f823f.txt","type":"text/plain","size":215},{"uid":"ec2998aa9d55adcc","name":"Screenshot: Enter email (success)","source":"ec2998aa9d55adcc.png","type":"image/png","size":46404}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755312528568,"stop":1755312528735,"duration":167},"status":"passed","steps":[],"attachments":[{"uid":"6f3b88213f7e5a90","name":"Page URL","source":"6f3b88213f7e5a90.txt","type":"text/plain","size":215},{"uid":"c753f11fd35a60e7","name":"Screenshot: Enter password (success)","source":"c753f11fd35a60e7.png","type":"image/png","size":47199}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755312528735,"stop":1755312531018,"duration":2283},"status":"passed","steps":[],"attachments":[{"uid":"19c84aa0988d7fdc","name":"Page URL","source":"19c84aa0988d7fdc.txt","type":"text/plain","size":215},{"uid":"90a1a562025d60f","name":"HTTP 200 - GET config","source":"90a1a562025d60f.txt","type":"text/plain","size":752},{"uid":"dd899e361f904414","name":"HTTP 200 - GET permissions?uri=blob:","source":"dd899e361f904414.txt","type":"text/plain","size":163},{"uid":"43644df0daa68390","name":"HTTP 200 - GET incoming","source":"43644df0daa68390.txt","type":"text/plain","size":137},{"uid":"fd9e4cb10bb6b9e5","name":"HTTP 200 - GET regression-j2bdx8p42z?include=clusters&include=system_role","source":"fd9e4cb10bb6b9e5.txt","type":"text/plain","size":388},{"uid":"5715abd786f2553f","name":"HTTP 200 - GET regression-j2bdx8p42z?include=orgs","source":"5715abd786f2553f.txt","type":"text/plain","size":360},{"uid":"3a2ee9440d8b3d45","name":"Screenshot: Click Continue button (success)","source":"3a2ee9440d8b3d45.png","type":"image/png","size":161080}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755312531030,"stop":1755312532137,"duration":1107},"status":"passed","steps":[],"attachments":[{"uid":"879c893af9267a8d","name":"Page URL","source":"879c893af9267a8d.txt","type":"text/plain","size":44},{"uid":"87046e9bae963d3e","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"87046e9bae963d3e.png","type":"image/png","size":161080}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"84e814f0c04f0c79","name":"Page URL","source":"84e814f0c04f0c79.txt","type":"text/plain","size":33},{"uid":"15fc8e3479b3f789","name":"Screenshot: Login via UI (success)","source":"15fc8e3479b3f789.png","type":"image/png","size":161080}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1755312532255,"stop":1755312546768,"duration":14513},"status":"passed","steps":[{"name":"Reload page","time":{"start":1755312545082,"stop":1755312546668,"duration":1586},"status":"passed","steps":[],"attachments":[{"uid":"10736e09e33bfd99","name":"Page URL","source":"10736e09e33bfd99.txt","type":"text/plain","size":44},{"uid":"5c378a3ffa05c5a2","name":"HTTP 200 - GET config","source":"5c378a3ffa05c5a2.txt","type":"text/plain","size":1118},{"uid":"99e72478c12ba22e","name":"HTTP 200 - GET permissions?uri=blob:","source":"99e72478c12ba22e.txt","type":"text/plain","size":236},{"uid":"9dbc30f11b3038f1","name":"HTTP 200 - GET regression-org-36qxosasulpq","source":"9dbc30f11b3038f1.txt","type":"text/plain","size":425},{"uid":"1c81d1b3cf4e8540","name":"HTTP 200 - GET incoming","source":"1c81d1b3cf4e8540.txt","type":"text/plain","size":137},{"uid":"e07e7d4afb57930d","name":"HTTP 200 - GET regression-j2bdx8p42z?include=clusters&include=system_role","source":"e07e7d4afb57930d.txt","type":"text/plain","size":510},{"uid":"9acef430393ec861","name":"HTTP 200 - GET regression-j2bdx8p42z?include=orgs","source":"9acef430393ec861.txt","type":"text/plain","size":455},{"uid":"7dee30848aa92a8a","name":"Screenshot: Reload page (success)","source":"7dee30848aa92a8a.png","type":"image/png","size":56985}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b9730fafc0f02499","name":"Page URL","source":"b9730fafc0f02499.txt","type":"text/plain","size":44},{"uid":"69ce968a41a3e288","name":"Screenshot: Add organization via API and reload page (success)","source":"69ce968a41a3e288.png","type":"image/png","size":56985}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755312546769,"stop":1755312547715,"duration":946},"status":"passed","steps":[],"attachments":[{"uid":"467bf6e413b735d4","name":"Executed CLI command","source":"467bf6e413b735d4.txt","type":"text/plain","size":1114},{"uid":"a879f8581988f5a8","name":"Executed CLI command output","source":"a879f8581988f5a8.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1755312547715,"stop":1755312548482,"duration":767},"status":"passed","steps":[],"attachments":[{"uid":"367b8a01850a7b0c","name":"Executed CLI command","source":"367b8a01850a7b0c.txt","type":"text/plain","size":39},{"uid":"f652701a55a2e5c2","name":"Executed CLI command output","source":"f652701a55a2e5c2.txt","type":"text/plain","size":159}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"cc981c94a21d7b5c","name":"log","source":"cc981c94a21d7b5c.txt","type":"text/plain","size":17074}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1755312548484,"stop":1755312548484,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1755312548484,"stop":1755312554099,"duration":5615},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755312548484,"stop":1755312554099,"duration":5615},"status":"passed","steps":[{"name":"Delete organisation: regression-org-36qxosasulpq","time":{"start":1755312552669,"stop":1755312554063,"duration":1394},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755312554100,"stop":1755312554100,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755312554101,"stop":1755312554102,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Secrets"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"5902-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":2,"unknown":0,"total":2},"items":[{"uid":"602e020d4af4c9a8","status":"passed","time":{"start":1755284434569,"stop":1755284450962,"duration":16393}}]},"tags":["asyncio"]},"source":"642947258549b3b5.json","parameterValues":[]}