{"uid":"d26162b09e8beae1","name":"User with organization logs in with auth token via CLI","fullName":"tests.test_cases.tests_cli.test_cli_login.TestCLILogin#test_login_org_with_token_cli","historyId":"075596f237e9dcd99027c3eb0247d079","time":{"start":1768392612886,"stop":1768392663149,"duration":50263},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1768392520240,"stop":1768392520240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1768392520240,"stop":1768392520240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768392520240,"stop":1768392520240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1768392520240,"stop":1768392520240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1768392520240,"stop":1768392520240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1768392520240,"stop":1768392520240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1768392520240,"stop":1768392520241,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1768392611648,"stop":1768392611651,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1768392611651,"stop":1768392611651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1768392611651,"stop":1768392612347,"duration":696},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1768392612347,"stop":1768392612347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1768392612347,"stop":1768392612347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1768392612347,"stop":1768392612348,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1768392612348,"stop":1768392612348,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1768392612348,"stop":1768392612348,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1768392612349,"stop":1768392612886,"duration":537},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1768392612349,"stop":1768392612885,"duration":536},"status":"passed","steps":[],"attachments":[{"uid":"997a19868ed883bc","name":"HTTP 200 - GET config","source":"997a19868ed883bc.txt","type":"text/plain","size":673},{"uid":"cb50004272a10012","name":"Executed CLI command","source":"cb50004272a10012.txt","type":"text/plain","size":15},{"uid":"dc4e082f0db29fc9","name":"Executed CLI command output","source":"dc4e082f0db29fc9.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1768392612349,"stop":1768392612349,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1768392612349,"stop":1768392612349,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create organization via **API**.\n\n### Verify that:\n\n- User can login with Bearer auth token via **CLI**.\n- Login output in CLI valid `organization` and no `project` info.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create organization via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Login output in CLI valid <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>organization</span> and no <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>project</span> info.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1768392612887,"stop":1768392628084,"duration":15197},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1768392612887,"stop":1768392612988,"duration":101},"status":"passed","steps":[],"attachments":[{"uid":"b94edc0006e7c447","name":"Page URL","source":"b94edc0006e7c447.txt","type":"text/plain","size":33},{"uid":"49e5214f0a9ae01b","name":"Screenshot: Verify that Auth page displayed (success)","source":"49e5214f0a9ae01b.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1768392612988,"stop":1768392614066,"duration":1078},"status":"passed","steps":[],"attachments":[{"uid":"6172fd6e488bdb93","name":"Page URL","source":"6172fd6e488bdb93.txt","type":"text/plain","size":33},{"uid":"1b7b5ccd208e8010","name":"Screenshot: Click login button (success)","source":"1b7b5ccd208e8010.png","type":"image/png","size":40927}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1768392614066,"stop":1768392614149,"duration":83},"status":"passed","steps":[],"attachments":[{"uid":"6c335852a0a1c37d","name":"Page URL","source":"6c335852a0a1c37d.txt","type":"text/plain","size":215},{"uid":"f08a58f821071094","name":"Screenshot: Verify that Login page displayed (success)","source":"f08a58f821071094.png","type":"image/png","size":40949}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1768392614150,"stop":1768392614466,"duration":316},"status":"passed","steps":[],"attachments":[{"uid":"6a824ef682dce156","name":"Page URL","source":"6a824ef682dce156.txt","type":"text/plain","size":215},{"uid":"7599683d1372bd74","name":"Screenshot: Enter email (success)","source":"7599683d1372bd74.png","type":"image/png","size":45804}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1768392614466,"stop":1768392614783,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"dc0a55fd3c243240","name":"Page URL","source":"dc0a55fd3c243240.txt","type":"text/plain","size":215},{"uid":"6e1c3c4e23fb3e3","name":"Screenshot: Enter password (success)","source":"6e1c3c4e23fb3e3.png","type":"image/png","size":45951}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1768392614783,"stop":1768392626903,"duration":12120},"status":"passed","steps":[],"attachments":[{"uid":"9a0ccb9160aeffd1","name":"Page URL","source":"9a0ccb9160aeffd1.txt","type":"text/plain","size":215},{"uid":"feac111fa016d71b","name":"HTTP 200 - GET config","source":"feac111fa016d71b.txt","type":"text/plain","size":832},{"uid":"269b95a569368b0d","name":"HTTP 200 - GET permissions?uri=blob:","source":"269b95a569368b0d.txt","type":"text/plain","size":182},{"uid":"7786f085d13d691c","name":"HTTP 200 - GET regression-dkdiiiq85u?include=orgs","source":"7786f085d13d691c.txt","type":"text/plain","size":379},{"uid":"69f883730df7b969","name":"HTTP 200 - GET incoming","source":"69f883730df7b969.txt","type":"text/plain","size":156},{"uid":"3407a9642af8d803","name":"HTTP 200 - GET regression-dkdiiiq85u?include=clusters&include=system_role","source":"3407a9642af8d803.txt","type":"text/plain","size":407},{"uid":"8c79a56c163a4993","name":"Screenshot: Click Continue button (success)","source":"8c79a56c163a4993.png","type":"image/png","size":159974}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1768392626912,"stop":1768392628002,"duration":1090},"status":"passed","steps":[],"attachments":[{"uid":"72a0c8e4a9b09bb8","name":"Page URL","source":"72a0c8e4a9b09bb8.txt","type":"text/plain","size":44},{"uid":"fb940085dd3d08fe","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"fb940085dd3d08fe.png","type":"image/png","size":159974}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"85296c0fed32cf73","name":"Page URL","source":"85296c0fed32cf73.txt","type":"text/plain","size":33},{"uid":"835c56384a33c934","name":"Screenshot: Login via UI (success)","source":"835c56384a33c934.png","type":"image/png","size":159974}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":21,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1768392628084,"stop":1768392662383,"duration":34299},"status":"passed","steps":[{"name":"Reload page","time":{"start":1768392661657,"stop":1768392662317,"duration":660},"status":"passed","steps":[{"name":"Reload page","time":{"start":1768392661657,"stop":1768392662254,"duration":597},"status":"passed","steps":[],"attachments":[{"uid":"1e81d54061826831","name":"Page URL","source":"1e81d54061826831.txt","type":"text/plain","size":44},{"uid":"f28862072aae7753","name":"HTTP 200 - GET config","source":"f28862072aae7753.txt","type":"text/plain","size":2137},{"uid":"b399fab9b0ca6768","name":"HTTP 200 - GET permissions?uri=blob:","source":"b399fab9b0ca6768.txt","type":"text/plain","size":255},{"uid":"a1f5cceee387f57e","name":"HTTP 200 - GET regression-dkdiiiq85u?include=orgs","source":"a1f5cceee387f57e.txt","type":"text/plain","size":474},{"uid":"b648a9ab0fa2c118","name":"HTTP 200 - GET incoming","source":"b648a9ab0fa2c118.txt","type":"text/plain","size":156},{"uid":"781e2760b0a01fe8","name":"HTTP 200 - GET regression-org-5jw09tr8nvd1","source":"781e2760b0a01fe8.txt","type":"text/plain","size":444},{"uid":"515294b3799eb7a9","name":"HTTP 200 - GET regression-dkdiiiq85u?include=clusters&include=system_role","source":"515294b3799eb7a9.txt","type":"text/plain","size":529},{"uid":"f5fdae4eb62de2f6","name":"HTTP 200 - GET tags","source":"f5fdae4eb62de2f6.txt","type":"text/plain","size":948},{"uid":"1af0c85cf54259b1","name":"Screenshot: Reload page (success)","source":"1af0c85cf54259b1.png","type":"image/png","size":61571}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a4933927266d8fd1","name":"Page URL","source":"a4933927266d8fd1.txt","type":"text/plain","size":44},{"uid":"54e2949896351f0f","name":"Screenshot: Reload page (success)","source":"54e2949896351f0f.png","type":"image/png","size":61571}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"63428877677a2176","name":"Page URL","source":"63428877677a2176.txt","type":"text/plain","size":44},{"uid":"16e92718b50f5be7","name":"Screenshot: Add organization via API and reload page (success)","source":"16e92718b50f5be7.png","type":"image/png","size":61571}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":13,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1768392662383,"stop":1768392663147,"duration":764},"status":"passed","steps":[],"attachments":[{"uid":"9ca7a0b3880cf010","name":"Executed CLI command","source":"9ca7a0b3880cf010.txt","type":"text/plain","size":1114},{"uid":"7b1eeb0bc7c870d3","name":"Executed CLI command output","source":"7b1eeb0bc7c870d3.txt","type":"text/plain","size":230}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify CLI login output","time":{"start":1768392663147,"stop":1768392663148,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"bc01809750e572df","name":"Executed CLI command","source":"bc01809750e572df.txt","type":"text/plain","size":1114},{"uid":"d80d322d87efdce7","name":"Executed CLI command output","source":"d80d322d87efdce7.txt","type":"text/plain","size":230}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"407a3a012e7fa3d0","name":"log","source":"407a3a012e7fa3d0.txt","type":"text/plain","size":19632}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":39,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1768392663149,"stop":1768392663150,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1768392663150,"stop":1768392663150,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1768392663150,"stop":1768392667915,"duration":4765},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1768392663150,"stop":1768392667915,"duration":4765},"status":"passed","steps":[{"name":"Delete organisation: regression-org-5jw09tr8nvd1","time":{"start":1768392667483,"stop":1768392667872,"duration":389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1768392667915,"stop":1768392667916,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1768392667917,"stop":1768392667917,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Login"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLILogin"},{"name":"host","value":"runnervmi13qx"},{"name":"thread","value":"2999-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_cli_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":139,"unknown":0,"total":139},"items":[{"uid":"d75e753288c89037","status":"passed","time":{"start":1768181637334,"stop":1768181673326,"duration":35992}},{"uid":"df94dea3ef92066b","status":"passed","time":{"start":1768095232609,"stop":1768095264607,"duration":31998}},{"uid":"74edc2287041368e","status":"passed","time":{"start":1768008794423,"stop":1768008826001,"duration":31578}},{"uid":"b8e1e1322c4a5adb","status":"passed","time":{"start":1767922419294,"stop":1767922467061,"duration":47767}},{"uid":"2d5b1efb4dda84a6","status":"passed","time":{"start":1767836019571,"stop":1767836054335,"duration":34764}},{"uid":"54c6e01bd79bba47","status":"passed","time":{"start":1767749707284,"stop":1767749743102,"duration":35818}},{"uid":"ba10614aba318026","status":"passed","time":{"start":1767663209774,"stop":1767663247562,"duration":37788}},{"uid":"c28010415f29aa5","status":"passed","time":{"start":1767576880904,"stop":1767576931701,"duration":50797}},{"uid":"c12841d361f93a06","status":"passed","time":{"start":1767490430706,"stop":1767490467577,"duration":36871}},{"uid":"34fa545fc6958d32","status":"passed","time":{"start":1767403964099,"stop":1767404000706,"duration":36607}},{"uid":"4b7296305d678b7d","status":"passed","time":{"start":1767317849402,"stop":1767317886274,"duration":36872}},{"uid":"e46a5e0c92ac5cba","status":"passed","time":{"start":1767231297481,"stop":1767231335534,"duration":38053}},{"uid":"432d7e426950f543","status":"passed","time":{"start":1767144885013,"stop":1767144922704,"duration":37691}},{"uid":"52b1cc5e071c7dd9","status":"passed","time":{"start":1767058496477,"stop":1767058529264,"duration":32787}},{"uid":"992720284653261c","status":"passed","time":{"start":1766972028862,"stop":1766972073035,"duration":44173}},{"uid":"3ef1567a762f51de","status":"passed","time":{"start":1766885744912,"stop":1766885790900,"duration":45988}},{"uid":"a6d168ad582e7ad5","status":"passed","time":{"start":1766799174862,"stop":1766799211769,"duration":36907}},{"uid":"a4dc8de601c759cd","status":"passed","time":{"start":1766712818377,"stop":1766712852129,"duration":33752}},{"uid":"573909696130eced","status":"passed","time":{"start":1766626408640,"stop":1766626443501,"duration":34861}},{"uid":"b20553b4c8bb975","status":"passed","time":{"start":1766540002956,"stop":1766540038407,"duration":35451}}]},"tags":["asyncio"]},"source":"d26162b09e8beae1.json","parameterValues":[]}