{"uid":"f7d2b636dc7b7361","name":"User creates a first organization via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_create_first_organization_cli","historyId":"063c67391cddd1f7840e739619987ade","time":{"start":1759199886619,"stop":1759199897924,"duration":11305},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User can create first organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create first organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify organization_count\nMessage: Expected 0 organizations, got 1","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:22: in verify_cli_organization_count\n    assert len(organizations) == count, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Expected 0 organizations, got 1\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_organization_structure_setup.py:35: in test_create_first_organization_cli\n    await self._cli_steps.admin.verify_cli_organization_count(0)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify organization_count\nE   Message: Expected 0 organizations, got 1","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1759195892856,"stop":1759195892856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1759195892856,"stop":1759195892857,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759195892856,"stop":1759195892856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759195892857,"stop":1759195892857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759195892857,"stop":1759195892857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1759195892858,"stop":1759195922858,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1759195922858,"stop":1759195922858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1759199883266,"stop":1759199883269,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759199883269,"stop":1759199886011,"duration":2742},"status":"passed","steps":[],"attachments":[{"uid":"1c89cc183bb2fb06","name":"HTTP 200 - GET config","source":"1c89cc183bb2fb06.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759199883269,"stop":1759199883269,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1759199886011,"stop":1759199886011,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759199886012,"stop":1759199886013,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759199886012,"stop":1759199886012,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759199886012,"stop":1759199886012,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759199886013,"stop":1759199886014,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759199886014,"stop":1759199886618,"duration":604},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759199886015,"stop":1759199886618,"duration":603},"status":"passed","steps":[],"attachments":[{"uid":"dc9e6a1206d74b3f","name":"Executed CLI command","source":"dc9e6a1206d74b3f.txt","type":"text/plain","size":15},{"uid":"9bfdfe7d19dbb5dd","name":"Executed CLI command output","source":"9bfdfe7d19dbb5dd.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759199886014,"stop":1759199886014,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759199886014,"stop":1759199886014,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User can create first organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can create first organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify organization_count\nMessage: Expected 0 organizations, got 1","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:22: in verify_cli_organization_count\n    assert len(organizations) == count, (\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: Expected 0 organizations, got 1\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_organization_structure_setup.py:35: in test_create_first_organization_cli\n    await self._cli_steps.admin.verify_cli_organization_count(0)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Verify organization_count\nE   Message: Expected 0 organizations, got 1","steps":[{"name":"Login via UI","time":{"start":1759199886620,"stop":1759199892614,"duration":5994},"status":"passed","steps":[{"name":"Click login button","time":{"start":1759199886620,"stop":1759199887757,"duration":1137},"status":"passed","steps":[],"attachments":[{"uid":"dba62d4c8c0b8c32","name":"Page URL","source":"dba62d4c8c0b8c32.txt","type":"text/plain","size":33},{"uid":"8828240d44f12d59","name":"Screenshot: Click login button (success)","source":"8828240d44f12d59.png","type":"image/png","size":41951}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759199887757,"stop":1759199888118,"duration":361},"status":"passed","steps":[],"attachments":[{"uid":"38c0b60a6c92fd53","name":"Page URL","source":"38c0b60a6c92fd53.txt","type":"text/plain","size":215},{"uid":"e48adca10ba4e7bd","name":"Screenshot: Enter email (success)","source":"e48adca10ba4e7bd.png","type":"image/png","size":45822}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759199888118,"stop":1759199888467,"duration":349},"status":"passed","steps":[],"attachments":[{"uid":"64cfbd618e358114","name":"Page URL","source":"64cfbd618e358114.txt","type":"text/plain","size":215},{"uid":"b623cf33fb0503e6","name":"Screenshot: Enter password (success)","source":"b623cf33fb0503e6.png","type":"image/png","size":45968}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1759199888468,"stop":1759199891397,"duration":2929},"status":"passed","steps":[],"attachments":[{"uid":"993993680136d23","name":"Page URL","source":"993993680136d23.txt","type":"text/plain","size":215},{"uid":"84cad90b8482c2c6","name":"HTTP 200 - GET config","source":"84cad90b8482c2c6.txt","type":"text/plain","size":752},{"uid":"80322258f9a6e5e3","name":"HTTP 200 - GET permissions?uri=blob:","source":"80322258f9a6e5e3.txt","type":"text/plain","size":163},{"uid":"5bf0490e71b393cd","name":"HTTP 200 - GET regression-rx7i4hmops?include=clusters&include=system_role","source":"5bf0490e71b393cd.txt","type":"text/plain","size":388},{"uid":"8416ab26b9ccbf56","name":"HTTP 200 - GET regression-rx7i4hmops?include=orgs","source":"8416ab26b9ccbf56.txt","type":"text/plain","size":360},{"uid":"91c6ad42511f4769","name":"HTTP 200 - GET incoming","source":"91c6ad42511f4769.txt","type":"text/plain","size":137},{"uid":"1eb0b9ddda6c38b4","name":"Screenshot: Click Continue button (success)","source":"1eb0b9ddda6c38b4.png","type":"image/png","size":158871}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759199891407,"stop":1759199892520,"duration":1113},"status":"passed","steps":[],"attachments":[{"uid":"f331ed6c25233d43","name":"Page URL","source":"f331ed6c25233d43.txt","type":"text/plain","size":44},{"uid":"b36a0318dca01a55","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"b36a0318dca01a55.png","type":"image/png","size":158871}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"dbca11b8233fca8","name":"Page URL","source":"dbca11b8233fca8.txt","type":"text/plain","size":33},{"uid":"15dfd837c4808b84","name":"Screenshot: Login via UI (success)","source":"15dfd837c4808b84.png","type":"image/png","size":158871}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1759199892614,"stop":1759199893609,"duration":995},"status":"passed","steps":[],"attachments":[{"uid":"92536f2043b37a1f","name":"Executed CLI command","source":"92536f2043b37a1f.txt","type":"text/plain","size":1114},{"uid":"200ab4c7661f04d3","name":"Executed CLI command output","source":"200ab4c7661f04d3.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify organization_count","time":{"start":1759199893609,"stop":1759199897923,"duration":4314},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify organization_count\nMessage: Expected 0 organizations, got 1\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"d23ca18e47d3c649","name":"Executed CLI command","source":"d23ca18e47d3c649.txt","type":"text/plain","size":20},{"uid":"a7b42f71fe76f9c4","name":"Executed CLI command output","source":"a7b42f71fe76f9c4.txt","type":"text/plain","size":149}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"94cb0c9bb515719b","name":"log","source":"94cb0c9bb515719b.txt","type":"text/plain","size":11307}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1759199897941,"stop":1759199897941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759199897942,"stop":1759199897942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759199897942,"stop":1759199901549,"duration":3607},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759199897942,"stop":1759199901549,"duration":3607},"status":"passed","steps":[],"attachments":[{"uid":"236f6c112c31aa94","name":"Cleanup note","source":"236f6c112c31aa94.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759199901550,"stop":1759199901550,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759199901551,"stop":1759199901552,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"3823-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"f7d2b636dc7b7361.json","parameterValues":[]}