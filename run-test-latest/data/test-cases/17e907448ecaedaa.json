{"uid":"17e907448ecaedaa","name":"Admin demote himself to Manager in project via CLI","fullName":"tests.test_cases.tests_cli.test_project_change_member_roles.TestCLIProjectStructureSetup#test_admin_demote_himself_cli","historyId":"9476a6ad7ac22bfbd78035fd96b55be3","time":{"start":1760406541541,"stop":1760406573900,"duration":32359},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- `Admin` **cannot** demote himself via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> <strong>cannot</strong> demote himself via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1760406538615,"stop":1760406538619,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1760406538619,"stop":1760406538619,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1760406538619,"stop":1760406541001,"duration":2382},"status":"passed","steps":[],"attachments":[{"uid":"d2505c8453ccaa1e","name":"HTTP 200 - GET config","source":"d2505c8453ccaa1e.txt","type":"text/plain","size":673}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper","time":{"start":1760406541001,"stop":1760406541001,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1760406541001,"stop":1760406541001,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1760406541001,"stop":1760406541001,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1760406541002,"stop":1760406541002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1760406541002,"stop":1760406541003,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1760406541002,"stop":1760406541002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1760406541002,"stop":1760406541002,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1760406541003,"stop":1760406541541,"duration":538},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1760406541003,"stop":1760406541541,"duration":538},"status":"passed","steps":[],"attachments":[{"uid":"966582b96e3956c3","name":"Executed CLI command","source":"966582b96e3956c3.txt","type":"text/plain","size":15},{"uid":"3927c1684c199d5","name":"Executed CLI command output","source":"3927c1684c199d5.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n\n### Verify that:\n\n- `Admin` **cannot** demote himself via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> <strong>cannot</strong> demote himself via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1760406541542,"stop":1760406547211,"duration":5669},"status":"passed","steps":[{"name":"Click login button","time":{"start":1760406541542,"stop":1760406542723,"duration":1181},"status":"passed","steps":[],"attachments":[{"uid":"10636486a30cc1ec","name":"Page URL","source":"10636486a30cc1ec.txt","type":"text/plain","size":33},{"uid":"f0ebbc583fc3e4fb","name":"Screenshot: Click login button (success)","source":"f0ebbc583fc3e4fb.png","type":"image/png","size":41649}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1760406542723,"stop":1760406543056,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"57517a02cb73b071","name":"Page URL","source":"57517a02cb73b071.txt","type":"text/plain","size":215},{"uid":"34a034433a42fb28","name":"Screenshot: Enter email (success)","source":"34a034433a42fb28.png","type":"image/png","size":45611}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1760406543056,"stop":1760406543389,"duration":333},"status":"passed","steps":[],"attachments":[{"uid":"964d96924cef0e","name":"Page URL","source":"964d96924cef0e.txt","type":"text/plain","size":215},{"uid":"f1f991c9541b604d","name":"Screenshot: Enter password (success)","source":"f1f991c9541b604d.png","type":"image/png","size":45754}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1760406543389,"stop":1760406545981,"duration":2592},"status":"passed","steps":[],"attachments":[{"uid":"c551b1251a3f30e7","name":"Page URL","source":"c551b1251a3f30e7.txt","type":"text/plain","size":215},{"uid":"59547eaba784397e","name":"HTTP 200 - GET config","source":"59547eaba784397e.txt","type":"text/plain","size":771},{"uid":"cff222de7f678686","name":"HTTP 200 - GET permissions?uri=blob:","source":"cff222de7f678686.txt","type":"text/plain","size":182},{"uid":"dbfbd07f56b6a4fe","name":"HTTP 200 - GET incoming","source":"dbfbd07f56b6a4fe.txt","type":"text/plain","size":156},{"uid":"e8cfcb2265f2f8c6","name":"HTTP 200 - GET regression-nqrr77xksn?include=orgs","source":"e8cfcb2265f2f8c6.txt","type":"text/plain","size":379},{"uid":"c44a395a6644731a","name":"HTTP 200 - GET regression-nqrr77xksn?include=clusters&include=system_role","source":"c44a395a6644731a.txt","type":"text/plain","size":407},{"uid":"fe10f81bd50d7554","name":"Screenshot: Click Continue button (success)","source":"fe10f81bd50d7554.png","type":"image/png","size":159262}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1760406545991,"stop":1760406547116,"duration":1125},"status":"passed","steps":[],"attachments":[{"uid":"2eb2785b1a7e31aa","name":"Page URL","source":"2eb2785b1a7e31aa.txt","type":"text/plain","size":44},{"uid":"cde43bcda9f5d115","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"cde43bcda9f5d115.png","type":"image/png","size":159262}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3b84d7ff279d4eac","name":"Page URL","source":"3b84d7ff279d4eac.txt","type":"text/plain","size":33},{"uid":"4c4afcc07605631e","name":"Screenshot: Login via UI (success)","source":"4c4afcc07605631e.png","type":"image/png","size":159262}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1760406547211,"stop":1760406566638,"duration":19427},"status":"passed","steps":[{"name":"Reload page","time":{"start":1760406559061,"stop":1760406566555,"duration":7494},"status":"passed","steps":[],"attachments":[{"uid":"63488dae7608c8f0","name":"Page URL","source":"63488dae7608c8f0.txt","type":"text/plain","size":44},{"uid":"ca16808d8d4b06c8","name":"HTTP 200 - GET config","source":"ca16808d8d4b06c8.txt","type":"text/plain","size":2137},{"uid":"67163740306de20f","name":"HTTP 200 - GET permissions?uri=blob:","source":"67163740306de20f.txt","type":"text/plain","size":255},{"uid":"3530c9b54bd5a6ea","name":"HTTP 200 - GET regression-org-sczqtzoivh1a","source":"3530c9b54bd5a6ea.txt","type":"text/plain","size":444},{"uid":"8a60fc9e4e88935f","name":"HTTP 200 - GET incoming","source":"8a60fc9e4e88935f.txt","type":"text/plain","size":156},{"uid":"d5a67d2d6c17934f","name":"HTTP 200 - GET regression-nqrr77xksn?include=orgs","source":"d5a67d2d6c17934f.txt","type":"text/plain","size":474},{"uid":"47d83edd44213e8f","name":"HTTP 200 - GET regression-nqrr77xksn?include=clusters&include=system_role","source":"47d83edd44213e8f.txt","type":"text/plain","size":529},{"uid":"b95746049d37e46d","name":"HTTP 200 - GET tags","source":"b95746049d37e46d.txt","type":"text/plain","size":867},{"uid":"612028e86be45494","name":"Screenshot: Reload page (success)","source":"612028e86be45494.png","type":"image/png","size":56478}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"40cd6c67518bf5d0","name":"Page URL","source":"40cd6c67518bf5d0.txt","type":"text/plain","size":44},{"uid":"458a547096471b3c","name":"Screenshot: Add organization via API and reload page (success)","source":"458a547096471b3c.png","type":"image/png","size":56478}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1760406566638,"stop":1760406567446,"duration":808},"status":"passed","steps":[],"attachments":[{"uid":"8ca35f661ce92754","name":"Executed CLI command","source":"8ca35f661ce92754.txt","type":"text/plain","size":1114},{"uid":"1192f47982f078f","name":"Executed CLI command output","source":"1192f47982f078f.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1760406567446,"stop":1760406571509,"duration":4063},"status":"passed","steps":[],"attachments":[{"uid":"69ab879ae6e1164","name":"Executed CLI command","source":"69ab879ae6e1164.txt","type":"text/plain","size":114},{"uid":"78a10eb7110adb7e","name":"Executed CLI command output","source":"78a10eb7110adb7e.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Get project users via CLI","time":{"start":1760406571510,"stop":1760406572341,"duration":831},"status":"passed","steps":[],"attachments":[{"uid":"c85bb874c4b0ac75","name":"Executed CLI command","source":"c85bb874c4b0ac75.txt","type":"text/plain","size":98},{"uid":"5a776717e201da48","name":"Executed CLI command output","source":"5a776717e201da48.txt","type":"text/plain","size":768}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify user present in get-project-users output via CLI","time":{"start":1760406572341,"stop":1760406572342,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"b8945da2293eca2f","name":"Executed CLI command","source":"b8945da2293eca2f.txt","type":"text/plain","size":98},{"uid":"ee8e54e5d1bdaf76","name":"Executed CLI command output","source":"ee8e54e5d1bdaf76.txt","type":"text/plain","size":768}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Update user role on a project via CLI","time":{"start":1760406572342,"stop":1760406573121,"duration":779},"status":"passed","steps":[],"attachments":[{"uid":"cf6ba62cbec46b27","name":"Executed CLI command","source":"cf6ba62cbec46b27.txt","type":"text/plain","size":130},{"uid":"c8d21b781d49e841","name":"Executed CLI command output","source":"c8d21b781d49e841.txt","type":"text/plain","size":65}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Get project users via CLI","time":{"start":1760406573121,"stop":1760406573899,"duration":778},"status":"passed","steps":[],"attachments":[{"uid":"851dfc1edf515aaa","name":"Executed CLI command","source":"851dfc1edf515aaa.txt","type":"text/plain","size":98},{"uid":"b8ec9b67bd407d5a","name":"Executed CLI command output","source":"b8ec9b67bd407d5a.txt","type":"text/plain","size":768}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify user present in get-project-users output via CLI","time":{"start":1760406573899,"stop":1760406573899,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"74c6c480b30a64ca","name":"Executed CLI command","source":"74c6c480b30a64ca.txt","type":"text/plain","size":98},{"uid":"b3ba4283cbc8b6d1","name":"Executed CLI command output","source":"b3ba4283cbc8b6d1.txt","type":"text/plain","size":768}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d2b532854458d605","name":"log","source":"d2b532854458d605.txt","type":"text/plain","size":23767}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":15,"attachmentsCount":43,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1760406573901,"stop":1760406573901,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760406573901,"stop":1760406573901,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1760406573901,"stop":1760406608940,"duration":35039},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1760406573901,"stop":1760406608940,"duration":35039},"status":"passed","steps":[{"name":"Delete organisation: regression-org-sczqtzoivh1a","time":{"start":1760406577486,"stop":1760406608901,"duration":31415},"status":"passed","steps":[{"name":"Delete project: regression-proj-oj9a3ihwsq","time":{"start":1760406577548,"stop":1760406608579,"duration":31031},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1760406608941,"stop":1760406608941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1760406608942,"stop":1760406608943,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Project Remove Members"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIProjectStructureSetup"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3579-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_project_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":23,"broken":0,"skipped":0,"passed":35,"unknown":0,"total":58},"items":[{"uid":"c414f7352162b19a","status":"passed","time":{"start":1759542500973,"stop":1759542535954,"duration":34981}},{"uid":"1e6bbca0e3ba0cd3","status":"passed","time":{"start":1759456248068,"stop":1759456311920,"duration":63852}},{"uid":"3297ef67247f49d4","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add new project via apolo CLI\nMessage: ERROR: Illegal argument(s) (upstream request timeout)","time":{"start":1759371687457,"stop":1759371742778,"duration":55321}},{"uid":"6acb5c3eefdd3658","status":"passed","time":{"start":1759283156700,"stop":1759283190644,"duration":33944}},{"uid":"13c94164c6fd697c","status":"passed","time":{"start":1759196645441,"stop":1759196681056,"duration":35615}},{"uid":"4501e0ca63a0d1bd","status":"passed","time":{"start":1759154000246,"stop":1759154031693,"duration":31447}},{"uid":"58cf2f141c217ff2","status":"passed","time":{"start":1759110401859,"stop":1759110439894,"duration":38035}},{"uid":"7b1d2bb330fbb5b2","status":"passed","time":{"start":1759023930250,"stop":1759023967954,"duration":37704}},{"uid":"a4fc2c40cc219651","status":"passed","time":{"start":1758937421894,"stop":1758937454115,"duration":32221}},{"uid":"20e310e384a9071e","status":"passed","time":{"start":1758851119483,"stop":1758851158021,"duration":38538}},{"uid":"2eba385dae9b33f","status":"passed","time":{"start":1758764712149,"stop":1758764750690,"duration":38541}},{"uid":"48f617646eaa0445","status":"passed","time":{"start":1758706622629,"stop":1758706653924,"duration":31295}},{"uid":"8278022be41b2c91","status":"passed","time":{"start":1758690447467,"stop":1758690486934,"duration":39467}},{"uid":"47683240374b7259","status":"passed","time":{"start":1758678230325,"stop":1758678265763,"duration":35438}},{"uid":"77f79f67ef1d8fea","status":"passed","time":{"start":1758591844172,"stop":1758591881561,"duration":37389}},{"uid":"1a13858b465f1286","status":"passed","time":{"start":1758505514038,"stop":1758505543568,"duration":29530}},{"uid":"636b7cc3dfd8b21b","status":"passed","time":{"start":1758419118059,"stop":1758419146660,"duration":28601}},{"uid":"a1df5290fea63e14","status":"passed","time":{"start":1758332611969,"stop":1758332642388,"duration":30419}},{"uid":"e8de17749b804595","status":"passed","time":{"start":1758246305087,"stop":1758246340425,"duration":35338}},{"uid":"10f8c76ef1f8338b","status":"passed","time":{"start":1758159793067,"stop":1758159827637,"duration":34570}}]},"tags":["asyncio"]},"source":"17e907448ecaedaa.json","parameterValues":[]}