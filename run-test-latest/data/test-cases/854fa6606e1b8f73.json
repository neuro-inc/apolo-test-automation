{"uid":"854fa6606e1b8f73","name":"Invite user to org via CLI","fullName":"tests.test_cases.tests_cli.test_organization_structure_setup.TestCLIOrganizationStructureSetup#test_invite_user_to_org_cli","historyId":"aeb71106684a233241baa8027553df85","time":{"start":1757990800733,"stop":1757990849332,"duration":48599},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Signup `second` user via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n\n### Verify that:\n\n- User can invite registered user to organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second</span> user via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can invite registered user to organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: ERROR: Illegal argument(s) (upstream request timeout)","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:42: in cli_add_new_organization\n    raise AssertionError(error_message)\nE   AssertionError: ERROR: Illegal argument(s) (upstream request timeout)\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_organization_structure_setup.py:175: in test_invite_user_to_org_cli\n    await self._cli_steps.admin.cli_add_new_organization(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nE   Message: ERROR: Illegal argument(s) (upstream request timeout)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757986281310,"stop":1757986281310,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1757986281311,"stop":1757986311312,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757986281311,"stop":1757986281311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1757986311312,"stop":1757986311312,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1757990797686,"stop":1757990797689,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757990797689,"stop":1757990797690,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757990797689,"stop":1757990800198,"duration":2509},"status":"passed","steps":[],"attachments":[{"uid":"63799bee4aef9357","name":"HTTP 200 - GET config","source":"63799bee4aef9357.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper","time":{"start":1757990800198,"stop":1757990800199,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1757990800198,"stop":1757990800198,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1757990800198,"stop":1757990800198,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757990800199,"stop":1757990800199,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757990800199,"stop":1757990800199,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1757990800200,"stop":1757990800200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1757990800200,"stop":1757990800200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1757990800200,"stop":1757990800733,"duration":533},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1757990800200,"stop":1757990800733,"duration":533},"status":"passed","steps":[],"attachments":[{"uid":"e4ebece196ac8c9e","name":"Executed CLI command","source":"e4ebece196ac8c9e.txt","type":"text/plain","size":15},{"uid":"431f80d11a426b53","name":"Executed CLI command output","source":"431f80d11a426b53.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Signup `second` user via **UI**.\n- Login with Bearer auth token via **CLI**.\n- Create first organization via **CLI**.\n\n### Verify that:\n\n- User can invite registered user to organization via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second</span> user via <strong>UI</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create first organization via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can invite registered user to organization via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: ERROR: Illegal argument(s) (upstream request timeout)","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/admin_steps.py:42: in cli_add_new_organization\n    raise AssertionError(error_message)\nE   AssertionError: ERROR: Illegal argument(s) (upstream request timeout)\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_organization_structure_setup.py:175: in test_invite_user_to_org_cli\n    await self._cli_steps.admin.cli_add_new_organization(\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nE   Message: ERROR: Illegal argument(s) (upstream request timeout)","steps":[{"name":"Login via UI","time":{"start":1757990800734,"stop":1757990806259,"duration":5525},"status":"passed","steps":[{"name":"Click login button","time":{"start":1757990800734,"stop":1757990802012,"duration":1278},"status":"passed","steps":[],"attachments":[{"uid":"1bdfa68388e3091a","name":"Page URL","source":"1bdfa68388e3091a.txt","type":"text/plain","size":33},{"uid":"18a4113594c08c0","name":"Screenshot: Click login button (success)","source":"18a4113594c08c0.png","type":"image/png","size":41621}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757990802012,"stop":1757990802144,"duration":132},"status":"passed","steps":[],"attachments":[{"uid":"c3cba2dc1c3fb79a","name":"Page URL","source":"c3cba2dc1c3fb79a.txt","type":"text/plain","size":215},{"uid":"38b7a2d6141164d1","name":"Screenshot: Enter email (success)","source":"38b7a2d6141164d1.png","type":"image/png","size":45829}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757990802144,"stop":1757990802296,"duration":152},"status":"passed","steps":[],"attachments":[{"uid":"dcab45e8d6993bde","name":"Page URL","source":"dcab45e8d6993bde.txt","type":"text/plain","size":215},{"uid":"988aa9a5c949d663","name":"Screenshot: Enter password (success)","source":"988aa9a5c949d663.png","type":"image/png","size":46354}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1757990802296,"stop":1757990805047,"duration":2751},"status":"passed","steps":[],"attachments":[{"uid":"a2954ab9da7d8f7f","name":"Page URL","source":"a2954ab9da7d8f7f.txt","type":"text/plain","size":215},{"uid":"a152571efb99ac4e","name":"HTTP 200 - GET config","source":"a152571efb99ac4e.txt","type":"text/plain","size":752},{"uid":"7b1a1c18563900e8","name":"HTTP 200 - GET permissions?uri=blob:","source":"7b1a1c18563900e8.txt","type":"text/plain","size":163},{"uid":"7b03f1b8a0d3402a","name":"HTTP 200 - GET regression-ceadr7jsak?include=orgs","source":"7b03f1b8a0d3402a.txt","type":"text/plain","size":360},{"uid":"103bca949f631896","name":"HTTP 200 - GET incoming","source":"103bca949f631896.txt","type":"text/plain","size":137},{"uid":"7e582b8583b03f81","name":"HTTP 200 - GET regression-ceadr7jsak?include=clusters&include=system_role","source":"7e582b8583b03f81.txt","type":"text/plain","size":388},{"uid":"c57a4ec738b16e6b","name":"Screenshot: Click Continue button (success)","source":"c57a4ec738b16e6b.png","type":"image/png","size":50297}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757990805060,"stop":1757990806162,"duration":1102},"status":"passed","steps":[],"attachments":[{"uid":"dcb480b76910d406","name":"Page URL","source":"dcb480b76910d406.txt","type":"text/plain","size":44},{"uid":"7d610e2a31289f76","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"7d610e2a31289f76.png","type":"image/png","size":159132}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"915abee695550be9","name":"Page URL","source":"915abee695550be9.txt","type":"text/plain","size":33},{"uid":"f4961c82da0b96da","name":"Screenshot: Login via UI (success)","source":"f4961c82da0b96da.png","type":"image/png","size":159132}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Get second user","time":{"start":1757990808928,"stop":1757990809033,"duration":105},"status":"passed","steps":[],"attachments":[{"uid":"d1dc9021d83e6b34","name":"Page URL","source":"d1dc9021d83e6b34.txt","type":"text/plain","size":33},{"uid":"254a6f018ad67a41","name":"Screenshot: <<User2>> :: Get second user (success)","source":"254a6f018ad67a41.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Login via UI","time":{"start":1757990809034,"stop":1757990816860,"duration":7826},"status":"passed","steps":[{"name":"<<User2>> :: Click login button","time":{"start":1757990809034,"stop":1757990809984,"duration":950},"status":"passed","steps":[],"attachments":[{"uid":"23966a9fa23c7fc","name":"Page URL","source":"23966a9fa23c7fc.txt","type":"text/plain","size":33},{"uid":"29862dcce044a906","name":"Screenshot: <<User2>> :: Click login button (success)","source":"29862dcce044a906.png","type":"image/png","size":88578}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter email","time":{"start":1757990809984,"stop":1757990810298,"duration":314},"status":"passed","steps":[],"attachments":[{"uid":"4b615a4e67978795","name":"Page URL","source":"4b615a4e67978795.txt","type":"text/plain","size":215},{"uid":"ed6be3c752252336","name":"Screenshot: <<User2>> :: Enter email (success)","source":"ed6be3c752252336.png","type":"image/png","size":46992}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Enter password","time":{"start":1757990810298,"stop":1757990810479,"duration":181},"status":"passed","steps":[],"attachments":[{"uid":"aa0185991f6b8bfc","name":"Page URL","source":"aa0185991f6b8bfc.txt","type":"text/plain","size":215},{"uid":"34c90ffb9014647a","name":"Screenshot: <<User2>> :: Enter password (success)","source":"34c90ffb9014647a.png","type":"image/png","size":47180}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Click Continue button","time":{"start":1757990810479,"stop":1757990815642,"duration":5163},"status":"passed","steps":[],"attachments":[{"uid":"ac6627ff11e63e6e","name":"Page URL","source":"ac6627ff11e63e6e.txt","type":"text/plain","size":215},{"uid":"f3cfb95fd51f997a","name":"HTTP 200 - GET config","source":"f3cfb95fd51f997a.txt","type":"text/plain","size":752},{"uid":"4815d5d4390d7184","name":"HTTP 200 - GET permissions?uri=blob:","source":"4815d5d4390d7184.txt","type":"text/plain","size":163},{"uid":"25bc4ff5bb7ee17f","name":"HTTP 200 - GET regression-nl69exwsvz?include=orgs","source":"25bc4ff5bb7ee17f.txt","type":"text/plain","size":360},{"uid":"ca9960a9d0572c29","name":"HTTP 200 - GET incoming","source":"ca9960a9d0572c29.txt","type":"text/plain","size":137},{"uid":"4ea7bfa8496c9a25","name":"HTTP 200 - GET regression-nl69exwsvz?include=clusters&include=system_role","source":"4ea7bfa8496c9a25.txt","type":"text/plain","size":388},{"uid":"66a2d99e56ab3989","name":"Screenshot: <<User2>> :: Click Continue button (success)","source":"66a2d99e56ab3989.png","type":"image/png","size":161182}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"<<User2>> :: Verify that Welcome new user page displayed","time":{"start":1757990815654,"stop":1757990816760,"duration":1106},"status":"passed","steps":[],"attachments":[{"uid":"2f3df32d4e27267d","name":"Page URL","source":"2f3df32d4e27267d.txt","type":"text/plain","size":44},{"uid":"56e915fac86d0f54","name":"Screenshot: <<User2>> :: Verify that Welcome new user page displayed (success)","source":"56e915fac86d0f54.png","type":"image/png","size":161182}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"70a5ca674ee1e5a5","name":"Page URL","source":"70a5ca674ee1e5a5.txt","type":"text/plain","size":33},{"uid":"ba46e0a852eabd67","name":"Screenshot: <<User2>> :: Login via UI (success)","source":"ba46e0a852eabd67.png","type":"image/png","size":161182}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1757990816860,"stop":1757990818519,"duration":1659},"status":"passed","steps":[],"attachments":[{"uid":"d9677e08ca41cb7b","name":"Executed CLI command","source":"d9677e08ca41cb7b.txt","type":"text/plain","size":1114},{"uid":"54a0228e627323b8","name":"Executed CLI command output","source":"54a0228e627323b8.txt","type":"text/plain","size":184}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new organization via apolo CLI","time":{"start":1757990818519,"stop":1757990849332,"duration":30813},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Add new organization via apolo CLI\nMessage: ERROR: Illegal argument(s) (upstream request timeout)\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"ef83f3b08e6a52d7","name":"Executed CLI command","source":"ef83f3b08e6a52d7.txt","type":"text/plain","size":47},{"uid":"71b6b3bab9a43459","name":"Executed CLI command output","source":"71b6b3bab9a43459.txt","type":"text/plain","size":53}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d43cd2ead84857cb","name":"HTTP 200 - GET config","source":"d43cd2ead84857cb.txt","type":"text/plain","size":654},{"uid":"84c8d1e1cb98ce14","name":"log","source":"84c8d1e1cb98ce14.txt","type":"text/plain","size":17512}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":42,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1757990849349,"stop":1757990849349,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757990849349,"stop":1757990849349,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757990849349,"stop":1757990853708,"duration":4359},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757990849349,"stop":1757990853708,"duration":4359},"status":"passed","steps":[],"attachments":[{"uid":"330fb7d99d6f4d6b","name":"Cleanup note","source":"330fb7d99d6f4d6b.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757990853709,"stop":1757990853709,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757990853710,"stop":1757990853711,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Organization Structure Setup"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIOrganizationStructureSetup"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"3797-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_organization_structure_setup"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"854fa6606e1b8f73.json","parameterValues":[]}