{"uid":"519a14e8fe7e40cb","name":"Verify Admin can change User role to Manager","fullName":"tests.test_cases.tests_ui.test_organization_change_member_roles.TestUIOrganizationChangeMemberRoles#test_admin_change_user_to_manager","historyId":"9308a607dfa152af21d92a11fc8af769","time":{"start":1757415987346,"stop":1757415987356,"duration":10},"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role via **API**.\n\n### Verify that:\n\n- `Admin` can change user role from `User` to `Manager`\n- User after changing role from `User` to `Manager`:\n\n- Can access organization `Settings`\n- Can access organization `Billing`\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change user role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span></li>\n<li>\n<p>User after changing role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span>:</p>\n</li>\n<li>\n<p>Can access organization <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Settings</span></p>\n</li>\n<li>Can access organization <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Billing</span></li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:68: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_organization_change_member_roles.py:41: in test_admin_change_user_to_manager\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757415898260,"stop":1757415898260,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1757415898261,"stop":1757415928262,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757415898261,"stop":1757415898261,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1757415898261,"stop":1757415898261,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757415898261,"stop":1757415898261,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757415898261,"stop":1757415898261,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1757415928262,"stop":1757415928266,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1757415928262,"stop":1757415928262,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1757415928266,"stop":1757415930475,"duration":2209},"status":"passed","steps":[],"attachments":[{"uid":"eaed686cc53d0d45","name":"HTTP 200 - GET config","source":"eaed686cc53d0d45.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1757415928267,"stop":1757415928267,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1757415930475,"stop":1757415930475,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1757415930475,"stop":1757415930476,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1757415930475,"stop":1757415930475,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1757415930476,"stop":1757415930476,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1757415930476,"stop":1757415987344,"duration":56868},"status":"passed","steps":[{"name":"Signup new user via UI and activate email verification link","time":{"start":1757415932623,"stop":1757415964286,"duration":31663},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Signup new user via UI and activate email verification link\nMessage: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click signup button","time":{"start":1757415932624,"stop":1757415933830,"duration":1206},"status":"passed","steps":[],"attachments":[{"uid":"84f3d09caa9e5b46","name":"Page URL","source":"84f3d09caa9e5b46.txt","type":"text/plain","size":33},{"uid":"3885938c1eb80c66","name":"Screenshot: Click signup button (success)","source":"3885938c1eb80c66.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757415933830,"stop":1757415933986,"duration":156},"status":"passed","steps":[],"attachments":[{"uid":"6f8e583ea18261b3","name":"Page URL","source":"6f8e583ea18261b3.txt","type":"text/plain","size":216},{"uid":"40bad76770e693fb","name":"Screenshot: Enter email (success)","source":"40bad76770e693fb.png","type":"image/png","size":43874}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757415933987,"stop":1757415934155,"duration":168},"status":"passed","steps":[],"attachments":[{"uid":"9c903dd6f8334362","name":"Page URL","source":"9c903dd6f8334362.txt","type":"text/plain","size":216},{"uid":"5aea9bf40dfa0cdb","name":"Screenshot: Enter password (success)","source":"5aea9bf40dfa0cdb.png","type":"image/png","size":55678}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1757415934155,"stop":1757415937161,"duration":3006},"status":"passed","steps":[],"attachments":[{"uid":"ae40e95afa831da5","name":"Page URL","source":"ae40e95afa831da5.txt","type":"text/plain","size":216},{"uid":"6e6c6b9990fffef4","name":"Screenshot: Click continue button (success)","source":"6e6c6b9990fffef4.png","type":"image/png","size":11162}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1757415937161,"stop":1757415937610,"duration":449},"status":"passed","steps":[],"attachments":[{"uid":"b30c134a8e3b83f2","name":"Page URL","source":"b30c134a8e3b83f2.txt","type":"text/plain","size":192},{"uid":"caf306e481c7081","name":"HTTP 200 - GET config","source":"caf306e481c7081.txt","type":"text/plain","size":654},{"uid":"f92a366d2e612410","name":"Screenshot: Verify that Verify email message displayed (success)","source":"f92a366d2e612410.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1757415937610,"stop":1757415939125,"duration":1515},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1757415937994,"stop":1757415938944,"duration":950},"status":"passed","steps":[],"attachments":[{"uid":"824cfb3ec6dbb3e0","name":"Page URL","source":"824cfb3ec6dbb3e0.txt","type":"text/plain","size":182},{"uid":"29f0057f52ed213a","name":"Screenshot: Navigate to URL (success)","source":"29f0057f52ed213a.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1757415939125,"stop":1757415940835,"duration":1710},"status":"passed","steps":[],"attachments":[{"uid":"a966a3e56f06a6c2","name":"Page URL","source":"a966a3e56f06a6c2.txt","type":"text/plain","size":87},{"uid":"1a08648609edda7c","name":"HTTP 200 - GET config","source":"1a08648609edda7c.txt","type":"text/plain","size":654},{"uid":"74b0f996e4c20960","name":"Screenshot: Navigate to URL (success)","source":"74b0f996e4c20960.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1757415940835,"stop":1757415940949,"duration":114},"status":"passed","steps":[],"attachments":[{"uid":"3cbea7b60d8a06e1","name":"Page URL","source":"3cbea7b60d8a06e1.txt","type":"text/plain","size":33},{"uid":"7a55a5a3773f44a1","name":"Screenshot: Verify that Auth page displayed (success)","source":"7a55a5a3773f44a1.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1757415940949,"stop":1757415942160,"duration":1211},"status":"passed","steps":[],"attachments":[{"uid":"3635fd0e4f8808b0","name":"Page URL","source":"3635fd0e4f8808b0.txt","type":"text/plain","size":33},{"uid":"ac3b15777d724d28","name":"Screenshot: Click login button (success)","source":"ac3b15777d724d28.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1757415942161,"stop":1757415943261,"duration":1100},"status":"passed","steps":[],"attachments":[{"uid":"bda8155e926fcb38","name":"Page URL","source":"bda8155e926fcb38.txt","type":"text/plain","size":33},{"uid":"7482acc5c43c6654","name":"HTTP 404 - HEAD regression-5vz2vughu6","source":"7482acc5c43c6654.txt","type":"text/plain","size":160},{"uid":"dfdb8643f983a2c9","name":"Screenshot: Verify that Signup username page displayed (success)","source":"dfdb8643f983a2c9.png","type":"image/png","size":37576}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1757415943261,"stop":1757415943917,"duration":656},"status":"passed","steps":[],"attachments":[{"uid":"31b73bbca1f33d10","name":"Page URL","source":"31b73bbca1f33d10.txt","type":"text/plain","size":362},{"uid":"9bdcfb3a3c3fb55","name":"HTTP 404 - HEAD ","source":"9bdcfb3a3c3fb55.txt","type":"text/plain","size":139},{"uid":"fadde1f795d55b17","name":"HTTP 404 - HEAD regression-5vz2vughu6","source":"fadde1f795d55b17.txt","type":"text/plain","size":160},{"uid":"d487eca162d2a2a1","name":"Screenshot: Enter username (success)","source":"d487eca162d2a2a1.png","type":"image/png","size":37894}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1757415943917,"stop":1757415954027,"duration":10110},"status":"passed","steps":[],"attachments":[{"uid":"b62d7f92e93d0737","name":"Page URL","source":"b62d7f92e93d0737.txt","type":"text/plain","size":362},{"uid":"c6fb8aef929a05cc","name":"HTTP 200 - GET config","source":"c6fb8aef929a05cc.txt","type":"text/plain","size":654},{"uid":"f31ce4634fd4db78","name":"HTTP 200 - GET config","source":"f31ce4634fd4db78.txt","type":"text/plain","size":654},{"uid":"aaf3bd22c8dd5a42","name":"Screenshot: Click signup button on Signup username page (success)","source":"aaf3bd22c8dd5a42.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1757415954027,"stop":1757415964193,"duration":10166},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Verify that User agreement pop up displayed\nMessage: User agreement popup should be displayed!\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"d04bcaa5e02ee279","name":"Page URL","source":"d04bcaa5e02ee279.txt","type":"text/plain","size":222},{"uid":"39ac5398f3736621","name":"Screenshot: Verify that User agreement pop up displayed (fail)","source":"39ac5398f3736621.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"310a50c12706c040","name":"Page URL","source":"310a50c12706c040.txt","type":"text/plain","size":33},{"uid":"4437fdbc0aa9605e","name":"Screenshot: Signup new user via UI and activate email verification link (fail)","source":"4437fdbc0aa9605e.png","type":"image/png","size":27381}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":35,"hasContent":true,"attachmentStep":false},{"name":"Signup new user via UI and activate email verification link","time":{"start":1757415966736,"stop":1757415987344,"duration":20608},"status":"passed","steps":[{"name":"Click signup button","time":{"start":1757415966736,"stop":1757415967827,"duration":1091},"status":"passed","steps":[],"attachments":[{"uid":"a3d1d4f306f45e6c","name":"Page URL","source":"a3d1d4f306f45e6c.txt","type":"text/plain","size":33},{"uid":"498d6cdc27a6c947","name":"Screenshot: Click signup button (success)","source":"498d6cdc27a6c947.png","type":"image/png","size":39018}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1757415967827,"stop":1757415967968,"duration":141},"status":"passed","steps":[],"attachments":[{"uid":"6680717b8f1a139b","name":"Page URL","source":"6680717b8f1a139b.txt","type":"text/plain","size":216},{"uid":"4ebab22ce0043d79","name":"Screenshot: Enter email (success)","source":"4ebab22ce0043d79.png","type":"image/png","size":43852}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1757415967968,"stop":1757415968114,"duration":146},"status":"passed","steps":[],"attachments":[{"uid":"8a37cae60bb89f1","name":"Page URL","source":"8a37cae60bb89f1.txt","type":"text/plain","size":216},{"uid":"d75f441728918cc2","name":"Screenshot: Enter password (success)","source":"d75f441728918cc2.png","type":"image/png","size":50876}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click continue button","time":{"start":1757415968114,"stop":1757415970007,"duration":1893},"status":"passed","steps":[],"attachments":[{"uid":"c6bc9866f61dbc45","name":"Page URL","source":"c6bc9866f61dbc45.txt","type":"text/plain","size":216},{"uid":"3b09790f5233ef9f","name":"Screenshot: Click continue button (success)","source":"3b09790f5233ef9f.png","type":"image/png","size":11959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Verify email message displayed","time":{"start":1757415970007,"stop":1757415970447,"duration":440},"status":"passed","steps":[],"attachments":[{"uid":"559037ef2b397302","name":"Page URL","source":"559037ef2b397302.txt","type":"text/plain","size":192},{"uid":"16fbe44ad5dc13b","name":"HTTP 200 - GET config","source":"16fbe44ad5dc13b.txt","type":"text/plain","size":654},{"uid":"30e5a1f0df7951","name":"Screenshot: Verify that Verify email message displayed (success)","source":"30e5a1f0df7951.png","type":"image/png","size":26954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify user email with the activation link","time":{"start":1757415970447,"stop":1757415971921,"duration":1474},"status":"passed","steps":[{"name":"Navigate to URL","time":{"start":1757415970833,"stop":1757415971745,"duration":912},"status":"passed","steps":[],"attachments":[{"uid":"2cf1c59ecc8b9e47","name":"Page URL","source":"2cf1c59ecc8b9e47.txt","type":"text/plain","size":182},{"uid":"fc0aba16d4da30fa","name":"Screenshot: Navigate to URL (success)","source":"fc0aba16d4da30fa.png","type":"image/png","size":22507}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Navigate to URL","time":{"start":1757415971922,"stop":1757415973768,"duration":1846},"status":"passed","steps":[],"attachments":[{"uid":"90434db782b7e59b","name":"Page URL","source":"90434db782b7e59b.txt","type":"text/plain","size":87},{"uid":"26b9933656cc63b1","name":"HTTP 200 - GET config","source":"26b9933656cc63b1.txt","type":"text/plain","size":654},{"uid":"ccd198ff8009811e","name":"Screenshot: Navigate to URL (success)","source":"ccd198ff8009811e.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Verify that Auth page displayed","time":{"start":1757415973768,"stop":1757415973866,"duration":98},"status":"passed","steps":[],"attachments":[{"uid":"67a9787f3019dfed","name":"Page URL","source":"67a9787f3019dfed.txt","type":"text/plain","size":33},{"uid":"866029559ab8bb9e","name":"Screenshot: Verify that Auth page displayed (success)","source":"866029559ab8bb9e.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1757415973866,"stop":1757415975096,"duration":1230},"status":"passed","steps":[],"attachments":[{"uid":"cebeb2f69143e327","name":"Page URL","source":"cebeb2f69143e327.txt","type":"text/plain","size":33},{"uid":"7764c736394e8dd2","name":"Screenshot: Click login button (success)","source":"7764c736394e8dd2.png","type":"image/png","size":88570}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Signup username page displayed","time":{"start":1757415975096,"stop":1757415976211,"duration":1115},"status":"passed","steps":[],"attachments":[{"uid":"dcbedbbfd03a50b3","name":"Page URL","source":"dcbedbbfd03a50b3.txt","type":"text/plain","size":33},{"uid":"58a01ce3d56a6b83","name":"HTTP 404 - HEAD regression-xzm0p9bmoc","source":"58a01ce3d56a6b83.txt","type":"text/plain","size":160},{"uid":"85f7f54c84058b4b","name":"Screenshot: Verify that Signup username page displayed (success)","source":"85f7f54c84058b4b.png","type":"image/png","size":37534}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Enter username","time":{"start":1757415976211,"stop":1757415976860,"duration":649},"status":"passed","steps":[],"attachments":[{"uid":"b9cb0d7549dee511","name":"Page URL","source":"b9cb0d7549dee511.txt","type":"text/plain","size":362},{"uid":"d0ab948d72d26325","name":"HTTP 404 - HEAD ","source":"d0ab948d72d26325.txt","type":"text/plain","size":139},{"uid":"f46895e50a83f3c4","name":"HTTP 404 - HEAD regression-xzm0p9bmoc","source":"f46895e50a83f3c4.txt","type":"text/plain","size":160},{"uid":"aa7ecf05c7624533","name":"Screenshot: Enter username (success)","source":"aa7ecf05c7624533.png","type":"image/png","size":37860}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"Click signup button on Signup username page","time":{"start":1757415976860,"stop":1757415981329,"duration":4469},"status":"passed","steps":[],"attachments":[{"uid":"9cad299da593dde2","name":"Page URL","source":"9cad299da593dde2.txt","type":"text/plain","size":362},{"uid":"3ba9e3889b2b7c03","name":"HTTP 200 - GET config","source":"3ba9e3889b2b7c03.txt","type":"text/plain","size":752},{"uid":"b4ea494c2924e42","name":"HTTP 200 - GET permissions?uri=blob:","source":"b4ea494c2924e42.txt","type":"text/plain","size":163},{"uid":"c16c4461727de3a7","name":"HTTP 200 - GET regression-xzm0p9bmoc?include=clusters&include=system_role","source":"c16c4461727de3a7.txt","type":"text/plain","size":389},{"uid":"b9e535d51fd8adb9","name":"HTTP 200 - GET regression-xzm0p9bmoc?include=orgs","source":"b9e535d51fd8adb9.txt","type":"text/plain","size":361},{"uid":"fc61a3a925665d1e","name":"HTTP 200 - GET incoming","source":"fc61a3a925665d1e.txt","type":"text/plain","size":137},{"uid":"4a99f58dd046d619","name":"HTTP 200 - GET config","source":"4a99f58dd046d619.txt","type":"text/plain","size":752},{"uid":"5ffb99d345f1156b","name":"HTTP 200 - GET permissions?uri=blob:","source":"5ffb99d345f1156b.txt","type":"text/plain","size":163},{"uid":"39f67239dcabe884","name":"HTTP 200 - GET incoming","source":"39f67239dcabe884.txt","type":"text/plain","size":137},{"uid":"e19cbd3cd606857","name":"HTTP 200 - GET regression-xzm0p9bmoc?include=orgs","source":"e19cbd3cd606857.txt","type":"text/plain","size":361},{"uid":"1a9edea03473c6b0","name":"HTTP 200 - GET regression-xzm0p9bmoc?include=clusters&include=system_role","source":"1a9edea03473c6b0.txt","type":"text/plain","size":389},{"uid":"7b6fc01bb08c82a6","name":"Screenshot: Click signup button on Signup username page (success)","source":"7b6fc01bb08c82a6.png","type":"image/png","size":38963}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},{"name":"Verify that User agreement pop up displayed","time":{"start":1757415981329,"stop":1757415981447,"duration":118},"status":"passed","steps":[],"attachments":[{"uid":"b40a0c68f36f5dd2","name":"Page URL","source":"b40a0c68f36f5dd2.txt","type":"text/plain","size":153},{"uid":"e7dfd30839a25742","name":"Screenshot: Verify that User agreement pop up displayed (success)","source":"e7dfd30839a25742.png","type":"image/png","size":45596}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Check agreement checkbox","time":{"start":1757415981448,"stop":1757415982113,"duration":665},"status":"passed","steps":[],"attachments":[{"uid":"31fea8c9c648092d","name":"Page URL","source":"31fea8c9c648092d.txt","type":"text/plain","size":153},{"uid":"af8263cd535f10c2","name":"Screenshot: Check agreement checkbox (success)","source":"af8263cd535f10c2.png","type":"image/png","size":40687}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click I Agree button","time":{"start":1757415982113,"stop":1757415982747,"duration":634},"status":"passed","steps":[],"attachments":[{"uid":"68f2f0f2715a6ef7","name":"Page URL","source":"68f2f0f2715a6ef7.txt","type":"text/plain","size":153},{"uid":"19dfb1aeb53ebb4","name":"Screenshot: Click I Agree button (success)","source":"19dfb1aeb53ebb4.png","type":"image/png","size":41417}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Wait for User Agreement popup to disappear","time":{"start":1757415982747,"stop":1757415983028,"duration":281},"status":"passed","steps":[],"attachments":[{"uid":"59057ca2622275d9","name":"Page URL","source":"59057ca2622275d9.txt","type":"text/plain","size":153},{"uid":"34630655fc9032cb","name":"HTTP 204 - PUT profile","source":"34630655fc9032cb.txt","type":"text/plain","size":154},{"uid":"d0449710aa40a8c4","name":"Screenshot: Wait for User Agreement popup to disappear (success)","source":"d0449710aa40a8c4.png","type":"image/png","size":160266}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1757415983028,"stop":1757415986127,"duration":3099},"status":"passed","steps":[],"attachments":[{"uid":"9539d786d2c63541","name":"Page URL","source":"9539d786d2c63541.txt","type":"text/plain","size":44},{"uid":"f5af8961f6449768","name":"Screenshot: Wait for timeout (success)","source":"f5af8961f6449768.png","type":"image/png","size":160266}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1757415986127,"stop":1757415987227,"duration":1100},"status":"passed","steps":[],"attachments":[{"uid":"102b9da335865e38","name":"Page URL","source":"102b9da335865e38.txt","type":"text/plain","size":44},{"uid":"1df6a53d9f24fb52","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"1df6a53d9f24fb52.png","type":"image/png","size":160266}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"38fcfda434611c81","name":"Page URL","source":"38fcfda434611c81.txt","type":"text/plain","size":33},{"uid":"7850305809cb597d","name":"Screenshot: Signup new user via UI and activate email verification link (success)","source":"7850305809cb597d.png","type":"image/png","size":160266}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":54,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a1693b4277f44221","name":"HTTP 200 - GET config","source":"a1693b4277f44221.txt","type":"text/plain","size":654},{"uid":"b87b4a9f12f0d311","name":"HTTP 200 - GET config","source":"b87b4a9f12f0d311.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":35,"attachmentsCount":91,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1757415987344,"stop":1757415987345,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1757415987345,"stop":1757415987345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1757415987345,"stop":1757415987345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **API**.\n- Signup `second user`.\n- Invite `second user` to organization with `User` role via **API**.\n\n### Verify that:\n\n- `Admin` can change user role from `User` to `Manager`\n- User after changing role from `User` to `Manager`:\n\n- Can access organization `Settings`\n- Can access organization `Billing`\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Signup <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span>.</li>\n<li>Invite <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>second user</span> to organization with <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> role via <strong>API</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li><span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Admin</span> can change user role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span></li>\n<li>\n<p>User after changing role from <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>User</span> to <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Manager</span>:</p>\n</li>\n<li>\n<p>Can access organization <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Settings</span></p>\n</li>\n<li>Can access organization <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Billing</span></li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/page_steps_impl/auth_page_steps.py:22: in ui_click_login_button\n    await self._pm.auth_page.click_log_in_button()\ntests/components/ui/pages/auth_page.py:25: in click_log_in_button\n    await self._log_in_button.click()\ntests/components/ui/pages/base_element.py:65: in click\n    await self.page.wait_for_timeout(interval)\n.venv/lib/python3.13/site-packages/playwright/async_api/_generated.py:11413: in wait_for_timeout\n    await self._impl_obj.wait_for_timeout(timeout=timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_page.py:1104: in wait_for_timeout\n    await self._main_frame.wait_for_timeout(timeout)\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:844: in wait_for_timeout\n    await self._channel.send(\"waitForTimeout\", None, {\"waitTimeout\": timeout})\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE   playwright._impl._errors.TargetClosedError: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/ui_steps/ui_steps.py:68: in ui_login\n    await self.auth_page.ui_click_login_button()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_ui/test_organization_change_member_roles.py:41: in test_admin_change_user_to_manager\n    await steps.ui_login(user)\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Login via UI\nE   Message: [TargetClosedError] during step: Click login button\nE   Message: Page.wait_for_timeout: Target page, context or browser has been closed","steps":[{"name":"Login via UI","time":{"start":1757415987346,"stop":1757415987355,"duration":9},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Login via UI\nMessage: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Click login button","time":{"start":1757415987347,"stop":1757415987352,"duration":5},"status":"failed","statusMessage":"AssertionError: [TargetClosedError] during step: Click login button\nMessage: Page.wait_for_timeout: Target page, context or browser has been closed\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"90dbf461fe5e2e9d","name":"Page URL","source":"90dbf461fe5e2e9d.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b3cffbc27caa88ce","name":"Page URL","source":"b3cffbc27caa88ce.txt","type":"text/plain","size":33}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c3bf0a6df02ee72a","name":"log","source":"c3bf0a6df02ee72a.txt","type":"text/plain","size":35906}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1757415987531,"stop":1757415987531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757415987532,"stop":1757415987532,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1757415987532,"stop":1757415991800,"duration":4268},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1757415987532,"stop":1757415991799,"duration":4267},"status":"passed","steps":[],"attachments":[{"uid":"8f568ab78f3d42fa","name":"Cleanup note","source":"8f568ab78f3d42fa.txt","type":"text/plain","size":29}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1757415991801,"stop":1757415991802,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1757415991803,"stop":1757415991803,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"UI Organization Change Member Roles"},{"name":"parentSuite","value":"UI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestUIOrganizationChangeMemberRoles"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"3648-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_ui.test_organization_change_member_roles"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"519a14e8fe7e40cb.json","parameterValues":[]}