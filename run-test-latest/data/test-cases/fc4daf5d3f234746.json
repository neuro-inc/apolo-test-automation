{"uid":"fc4daf5d3f234746","name":"Admin create secret with no project created via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_secret_no_proj_cli","historyId":"00fd51dcec949e8f8cb720ad306bef95","time":{"start":1759380444730,"stop":1759380471943,"duration":27213},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1759368771118,"stop":1759368771118,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1759368771118,"stop":1759368771118,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759368771118,"stop":1759368771118,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759368771119,"stop":1759368771119,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759368771119,"stop":1759368771119,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1759368771119,"stop":1759368801119,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1759368801120,"stop":1759368801120,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1759380441812,"stop":1759380441815,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759380441815,"stop":1759380444183,"duration":2368},"status":"passed","steps":[],"attachments":[{"uid":"68fb10bb37b2e690","name":"HTTP 200 - GET config","source":"68fb10bb37b2e690.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759380441815,"stop":1759380441815,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759380444183,"stop":1759380444183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759380444183,"stop":1759380444183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1759380444183,"stop":1759380444183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759380444184,"stop":1759380444184,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759380444184,"stop":1759380444184,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759380444184,"stop":1759380444184,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759380444185,"stop":1759380444185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759380444185,"stop":1759380444729,"duration":544},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759380444185,"stop":1759380444729,"duration":544},"status":"passed","steps":[],"attachments":[{"uid":"13db085d135d2bde","name":"Executed CLI command","source":"13db085d135d2bde.txt","type":"text/plain","size":15},{"uid":"759fc45af072ce82","name":"Executed CLI command output","source":"759fc45af072ce82.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n\n### Verify that:\n\n- User **cannot** create secret if there is no project created via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User <strong>cannot</strong> create secret if there is no project created via <strong>CLI</strong>.</li>\n</ul></div>","status":"passed","steps":[{"name":"Login via UI","time":{"start":1759380444731,"stop":1759380451111,"duration":6380},"status":"passed","steps":[{"name":"Click login button","time":{"start":1759380444731,"stop":1759380445775,"duration":1044},"status":"passed","steps":[],"attachments":[{"uid":"c762b9188c4d7bf1","name":"Page URL","source":"c762b9188c4d7bf1.txt","type":"text/plain","size":33},{"uid":"e98954ce4abb51d5","name":"Screenshot: Click login button (success)","source":"e98954ce4abb51d5.png","type":"image/png","size":41597}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759380445775,"stop":1759380446140,"duration":365},"status":"passed","steps":[],"attachments":[{"uid":"70b7530ebc54c130","name":"Page URL","source":"70b7530ebc54c130.txt","type":"text/plain","size":215},{"uid":"38f9787fae856aae","name":"Screenshot: Enter email (success)","source":"38f9787fae856aae.png","type":"image/png","size":45580}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759380446140,"stop":1759380446472,"duration":332},"status":"passed","steps":[],"attachments":[{"uid":"c2d2dcc36e091307","name":"Page URL","source":"c2d2dcc36e091307.txt","type":"text/plain","size":215},{"uid":"c2ada5baa490d784","name":"Screenshot: Enter password (success)","source":"c2ada5baa490d784.png","type":"image/png","size":45725}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1759380446473,"stop":1759380449907,"duration":3434},"status":"passed","steps":[],"attachments":[{"uid":"5453a4cb86614edf","name":"Page URL","source":"5453a4cb86614edf.txt","type":"text/plain","size":215},{"uid":"8294d5c9036181ac","name":"HTTP 200 - GET config","source":"8294d5c9036181ac.txt","type":"text/plain","size":752},{"uid":"f8d9a28208cedaf4","name":"HTTP 200 - GET permissions?uri=blob:","source":"f8d9a28208cedaf4.txt","type":"text/plain","size":163},{"uid":"56a26ce38b138d7d","name":"HTTP 200 - GET incoming","source":"56a26ce38b138d7d.txt","type":"text/plain","size":137},{"uid":"cf16e2904e77017b","name":"HTTP 200 - GET regression-k2otcmxzoq?include=orgs","source":"cf16e2904e77017b.txt","type":"text/plain","size":360},{"uid":"6d9f9f18a249d8f3","name":"HTTP 200 - GET regression-k2otcmxzoq?include=clusters&include=system_role","source":"6d9f9f18a249d8f3.txt","type":"text/plain","size":388},{"uid":"78f973acd62ac428","name":"Screenshot: Click Continue button (success)","source":"78f973acd62ac428.png","type":"image/png","size":159954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759380449918,"stop":1759380451023,"duration":1105},"status":"passed","steps":[],"attachments":[{"uid":"136da21363d40afa","name":"Page URL","source":"136da21363d40afa.txt","type":"text/plain","size":44},{"uid":"350713bd60722ae3","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"350713bd60722ae3.png","type":"image/png","size":159954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"27b154eb051d29ea","name":"Page URL","source":"27b154eb051d29ea.txt","type":"text/plain","size":33},{"uid":"3e9ccc89c11ffa0e","name":"Screenshot: Login via UI (success)","source":"3e9ccc89c11ffa0e.png","type":"image/png","size":159954}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1759380451111,"stop":1759380470396,"duration":19285},"status":"passed","steps":[{"name":"Reload page","time":{"start":1759380462801,"stop":1759380470280,"duration":7479},"status":"passed","steps":[],"attachments":[{"uid":"2df05b835c806cf3","name":"Page URL","source":"2df05b835c806cf3.txt","type":"text/plain","size":44},{"uid":"72e2165d26a059f3","name":"HTTP 200 - GET config","source":"72e2165d26a059f3.txt","type":"text/plain","size":1118},{"uid":"4e8cba66924ec190","name":"HTTP 200 - GET regression-k2otcmxzoq?include=orgs","source":"4e8cba66924ec190.txt","type":"text/plain","size":455},{"uid":"bc7e9d662aa5b6a0","name":"HTTP 200 - GET incoming","source":"bc7e9d662aa5b6a0.txt","type":"text/plain","size":137},{"uid":"7341ea8ed7bf6014","name":"HTTP 200 - GET regression-org-dhdnfn987ybo","source":"7341ea8ed7bf6014.txt","type":"text/plain","size":425},{"uid":"4f229cf10f718cf0","name":"HTTP 200 - GET permissions?uri=blob:","source":"4f229cf10f718cf0.txt","type":"text/plain","size":236},{"uid":"3fe7013cefed5d4a","name":"HTTP 200 - GET regression-k2otcmxzoq?include=clusters&include=system_role","source":"3fe7013cefed5d4a.txt","type":"text/plain","size":510},{"uid":"5cf6349ab759939c","name":"HTTP 200 - GET tags","source":"5cf6349ab759939c.txt","type":"text/plain","size":848},{"uid":"e2c40379ce887171","name":"Screenshot: Reload page (success)","source":"e2c40379ce887171.png","type":"image/png","size":57360}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":9,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"71da92d4bb19745d","name":"Page URL","source":"71da92d4bb19745d.txt","type":"text/plain","size":44},{"uid":"76d421f015062d86","name":"Screenshot: Add organization via API and reload page (success)","source":"76d421f015062d86.png","type":"image/png","size":57360}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1759380470396,"stop":1759380471246,"duration":850},"status":"passed","steps":[],"attachments":[{"uid":"f3f869f1bd943ee7","name":"Executed CLI command","source":"f3f869f1bd943ee7.txt","type":"text/plain","size":1114},{"uid":"b126b036a054f1f7","name":"Executed CLI command output","source":"b126b036a054f1f7.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1759380471246,"stop":1759380471943,"duration":697},"status":"passed","steps":[],"attachments":[{"uid":"d5b1213fa80d1f9b","name":"Executed CLI command","source":"d5b1213fa80d1f9b.txt","type":"text/plain","size":39},{"uid":"4a7a7b95ff55c68d","name":"Executed CLI command output","source":"4a7a7b95ff55c68d.txt","type":"text/plain","size":159}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a76a6d8c4d3ca620","name":"log","source":"a76a6d8c4d3ca620.txt","type":"text/plain","size":18189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":33,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1759380471944,"stop":1759380471944,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759380471944,"stop":1759380471944,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759380471944,"stop":1759380476117,"duration":4173},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759380471944,"stop":1759380476117,"duration":4173},"status":"passed","steps":[{"name":"Delete organisation: regression-org-dhdnfn987ybo","time":{"start":1759380475475,"stop":1759380476079,"duration":604},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759380476118,"stop":1759380476119,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759380476120,"stop":1759380476120,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Secrets"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"3658-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":52,"unknown":0,"total":53},"items":[{"uid":"6c13c0d298690297","status":"passed","time":{"start":1759288174152,"stop":1759288197175,"duration":23023}},{"uid":"b5126a3d6673bb8a","status":"passed","time":{"start":1759201887833,"stop":1759201910860,"duration":23027}},{"uid":"b5ffbdeb1927a4cf","status":"passed","time":{"start":1759159526766,"stop":1759159548830,"duration":22064}},{"uid":"125a613374d816a8","status":"passed","time":{"start":1759116063192,"stop":1759116083465,"duration":20273}},{"uid":"8733f82fb0eadac6","status":"passed","time":{"start":1759029803837,"stop":1759029837233,"duration":33396}},{"uid":"2bc0f050919bc212","status":"passed","time":{"start":1758943387379,"stop":1758943415809,"duration":28430}},{"uid":"ef4b6c7f7e8e70d7","status":"passed","time":{"start":1758855775186,"stop":1758855800153,"duration":24967}},{"uid":"32ab8fa1a3a00f00","status":"passed","time":{"start":1758769412147,"stop":1758769436887,"duration":24740}},{"uid":"92f598c31eb9fc6f","status":"passed","time":{"start":1758711528545,"stop":1758711563104,"duration":34559}},{"uid":"2a9864d058e52fb8","status":"passed","time":{"start":1758696413260,"stop":1758696430514,"duration":17254}},{"uid":"39999bc87edabc6c","status":"passed","time":{"start":1758684292586,"stop":1758684322882,"duration":30296}},{"uid":"c654b96cc05ccbfb","status":"passed","time":{"start":1758596577085,"stop":1758596603129,"duration":26044}},{"uid":"b197b6dc34cb2cd1","status":"passed","time":{"start":1758510256938,"stop":1758510281001,"duration":24063}},{"uid":"f256cac6455f149b","status":"passed","time":{"start":1758423859319,"stop":1758423889248,"duration":29929}},{"uid":"b4133827e3f22469","status":"passed","time":{"start":1758337643846,"stop":1758337674320,"duration":30474}},{"uid":"13edf4d3ed58bd7c","status":"passed","time":{"start":1758251011932,"stop":1758251029868,"duration":17936}},{"uid":"9ca43e234d50a7e3","status":"passed","time":{"start":1758164357569,"stop":1758164391527,"duration":33958}},{"uid":"679ba33853a30bf1","status":"passed","time":{"start":1758108019493,"stop":1758108042773,"duration":23280}},{"uid":"7238368b590c1153","status":"passed","time":{"start":1758089169436,"stop":1758089193048,"duration":23612}},{"uid":"e461aef5fa49e706","status":"failed","statusDetails":"AssertionError: [AssertionError] during step: Add organization via API and reload page\nMessage: Expected HTTP 201 response but got 500!","time":{"start":1757992626984,"stop":1757992634627,"duration":7643}}]},"tags":["asyncio"]},"source":"fc4daf5d3f234746.json","parameterValues":[]}