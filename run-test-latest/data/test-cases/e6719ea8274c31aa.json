{"uid":"e6719ea8274c31aa","name":"Admin rename folder via CLI","fullName":"tests.test_cases.tests_cli.test_storage.TestCLIStorage#test_admin_rename_folder_cli","historyId":"2f23c93c1561bee1b3167564e2720f00","time":{"start":1756433621641,"stop":1756433643024,"duration":21383},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create new folder via **CLI**.\n\n### Verify that:\n\n- User can rename folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create new folder via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can rename folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: List all files via CLI\nMessage: ERROR: Config /home/runner/.apolo/db is not a regular file. Please logout and login again.","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:59: in cli_list_all_files\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: Config /home/runner/.apolo/db is not a regular file. Please logout and login again.\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:109: in test_admin_rename_folder_cli\n    await self._cli_steps.storage.cli_list_all_files()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: List all files via CLI\nE   Message: ERROR: Config /home/runner/.apolo/db is not a regular file. Please logout and login again.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1756431144297,"stop":1756431144297,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1756431144297,"stop":1756431144297,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1756431144297,"stop":1756431144297,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1756431144298,"stop":1756431174298,"duration":30000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1756431144298,"stop":1756431144298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1756431144298,"stop":1756431144298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1756431174299,"stop":1756431174299,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1756433618850,"stop":1756433618854,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1756433618854,"stop":1756433618854,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1756433618854,"stop":1756433621017,"duration":2163},"status":"passed","steps":[],"attachments":[{"uid":"fff3fd72602986f6","name":"HTTP 200 - GET config","source":"fff3fd72602986f6.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"users_manager","time":{"start":1756433621017,"stop":1756433621017,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1756433621017,"stop":1756433621017,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1756433621017,"stop":1756433621018,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1756433621018,"stop":1756433621019,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1756433621018,"stop":1756433621018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1756433621019,"stop":1756433621020,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1756433621019,"stop":1756433621019,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1756433621020,"stop":1756433621640,"duration":620},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1756433621020,"stop":1756433621639,"duration":619},"status":"passed","steps":[],"attachments":[{"uid":"ea279e5723b07d64","name":"Executed CLI command","source":"ea279e5723b07d64.txt","type":"text/plain","size":15},{"uid":"b2d92104a860830d","name":"Executed CLI command output","source":"b2d92104a860830d.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create new folder via **CLI**.\n\n### Verify that:\n\n- User can rename folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create new folder via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can rename folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: List all files via CLI\nMessage: ERROR: Config /home/runner/.apolo/db is not a regular file. Please logout and login again.","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:59: in cli_list_all_files\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: Config /home/runner/.apolo/db is not a regular file. Please logout and login again.\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:109: in test_admin_rename_folder_cli\n    await self._cli_steps.storage.cli_list_all_files()\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: List all files via CLI\nE   Message: ERROR: Config /home/runner/.apolo/db is not a regular file. Please logout and login again.","steps":[{"name":"Login via UI","time":{"start":1756433621642,"stop":1756433626629,"duration":4987},"status":"passed","steps":[{"name":"Click login button","time":{"start":1756433621643,"stop":1756433622714,"duration":1071},"status":"passed","steps":[],"attachments":[{"uid":"650532a3eb3610b2","name":"Page URL","source":"650532a3eb3610b2.txt","type":"text/plain","size":33},{"uid":"32fb2665dea1bfef","name":"Screenshot: Click login button (success)","source":"32fb2665dea1bfef.png","type":"image/png","size":41901}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1756433622714,"stop":1756433622896,"duration":182},"status":"passed","steps":[],"attachments":[{"uid":"ade55e95227efd7c","name":"Page URL","source":"ade55e95227efd7c.txt","type":"text/plain","size":215},{"uid":"11affd97518e7a5b","name":"Screenshot: Enter email (success)","source":"11affd97518e7a5b.png","type":"image/png","size":46550}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1756433622896,"stop":1756433623065,"duration":169},"status":"passed","steps":[],"attachments":[{"uid":"3eb83d8a891774e9","name":"Page URL","source":"3eb83d8a891774e9.txt","type":"text/plain","size":215},{"uid":"569e923019ce9965","name":"Screenshot: Enter password (success)","source":"569e923019ce9965.png","type":"image/png","size":47485}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1756433623065,"stop":1756433625386,"duration":2321},"status":"passed","steps":[],"attachments":[{"uid":"b8880005cb62dd75","name":"Page URL","source":"b8880005cb62dd75.txt","type":"text/plain","size":215},{"uid":"6409e2dbb720132","name":"HTTP 200 - GET config","source":"6409e2dbb720132.txt","type":"text/plain","size":752},{"uid":"de2fdb8424e58c9e","name":"HTTP 200 - GET permissions?uri=blob:","source":"de2fdb8424e58c9e.txt","type":"text/plain","size":163},{"uid":"d6a168ae795b1ee4","name":"HTTP 200 - GET regression-wp97dx80yq?include=clusters&include=system_role","source":"d6a168ae795b1ee4.txt","type":"text/plain","size":388},{"uid":"6d9251b5fe1beafa","name":"HTTP 200 - GET regression-wp97dx80yq?include=orgs","source":"6d9251b5fe1beafa.txt","type":"text/plain","size":360},{"uid":"4a9343af1d3077c0","name":"HTTP 200 - GET incoming","source":"4a9343af1d3077c0.txt","type":"text/plain","size":137},{"uid":"a9d7e7960cb11c8c","name":"Screenshot: Click Continue button (success)","source":"a9d7e7960cb11c8c.png","type":"image/png","size":162475}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1756433625398,"stop":1756433626516,"duration":1118},"status":"passed","steps":[],"attachments":[{"uid":"b843cf916663912c","name":"Page URL","source":"b843cf916663912c.txt","type":"text/plain","size":44},{"uid":"491364b783d9ffa7","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"491364b783d9ffa7.png","type":"image/png","size":162475}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"c86279d023307266","name":"Page URL","source":"c86279d023307266.txt","type":"text/plain","size":33},{"uid":"978c735a133ede54","name":"Screenshot: Login via UI (success)","source":"978c735a133ede54.png","type":"image/png","size":162475}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1756433626630,"stop":1756433635815,"duration":9185},"status":"passed","steps":[{"name":"Reload page","time":{"start":1756433634095,"stop":1756433635714,"duration":1619},"status":"passed","steps":[],"attachments":[{"uid":"8a1d4ae87d317d5a","name":"Page URL","source":"8a1d4ae87d317d5a.txt","type":"text/plain","size":44},{"uid":"405e593af050ee46","name":"HTTP 200 - GET config","source":"405e593af050ee46.txt","type":"text/plain","size":1118},{"uid":"a283e07d1b759763","name":"HTTP 200 - GET permissions?uri=blob:","source":"a283e07d1b759763.txt","type":"text/plain","size":236},{"uid":"d3ac3b1d2f93a355","name":"HTTP 200 - GET regression-wp97dx80yq?include=orgs","source":"d3ac3b1d2f93a355.txt","type":"text/plain","size":455},{"uid":"1f16ddb6922117e","name":"HTTP 200 - GET regression-wp97dx80yq?include=clusters&include=system_role","source":"1f16ddb6922117e.txt","type":"text/plain","size":510},{"uid":"514415cf7a3d46ac","name":"HTTP 200 - GET incoming","source":"514415cf7a3d46ac.txt","type":"text/plain","size":137},{"uid":"1f9c073b2817538e","name":"HTTP 200 - GET regression-org-pth3lwan1ha3","source":"1f9c073b2817538e.txt","type":"text/plain","size":425},{"uid":"5fd2002be8aebc3f","name":"Screenshot: Reload page (success)","source":"5fd2002be8aebc3f.png","type":"image/png","size":57042}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8c4468e9134fa046","name":"Page URL","source":"8c4468e9134fa046.txt","type":"text/plain","size":44},{"uid":"3e6af6668e4428ee","name":"Screenshot: Add organization via API and reload page (success)","source":"3e6af6668e4428ee.png","type":"image/png","size":57042}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1756433635815,"stop":1756433636627,"duration":812},"status":"passed","steps":[],"attachments":[{"uid":"e6c0081da334070f","name":"Executed CLI command","source":"e6c0081da334070f.txt","type":"text/plain","size":1114},{"uid":"cf65c3d65fe1e199","name":"Executed CLI command output","source":"cf65c3d65fe1e199.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1756433636627,"stop":1756433640153,"duration":3526},"status":"passed","steps":[],"attachments":[{"uid":"a051fc068c736e4a","name":"Executed CLI command","source":"a051fc068c736e4a.txt","type":"text/plain","size":114},{"uid":"e0589635a8f0d27b","name":"Executed CLI command output","source":"e0589635a8f0d27b.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create folder via CLI","time":{"start":1756433640153,"stop":1756433640978,"duration":825},"status":"passed","steps":[],"attachments":[{"uid":"9d85c00598c27206","name":"Executed CLI command","source":"9d85c00598c27206.txt","type":"text/plain","size":37},{"uid":"8c3d4c81e4f0d25a","name":"Executed CLI command output","source":"8c3d4c81e4f0d25a.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"List all files via CLI","time":{"start":1756433640978,"stop":1756433641663,"duration":685},"status":"passed","steps":[],"attachments":[{"uid":"fda769179c67cacc","name":"Executed CLI command","source":"fda769179c67cacc.txt","type":"text/plain","size":19},{"uid":"a959b515b214a892","name":"Executed CLI command output","source":"a959b515b214a892.txt","type":"text/plain","size":37}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify folder listed in ls output","time":{"start":1756433641663,"stop":1756433641663,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Rename folder via CLI","time":{"start":1756433641663,"stop":1756433642417,"duration":754},"status":"passed","steps":[],"attachments":[{"uid":"571404b4290a4f07","name":"Executed CLI command","source":"571404b4290a4f07.txt","type":"text/plain","size":58},{"uid":"11bd2f5c4a5edf68","name":"Executed CLI command output","source":"11bd2f5c4a5edf68.txt","type":"text/plain","size":0}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"List all files via CLI","time":{"start":1756433642417,"stop":1756433643023,"duration":606},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: List all files via CLI\nMessage: ERROR: Config /home/runner/.apolo/db is not a regular file. Please logout and login again.\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"78333f2b9cd59fe9","name":"Executed CLI command","source":"78333f2b9cd59fe9.txt","type":"text/plain","size":19},{"uid":"660ae6b546849011","name":"Executed CLI command output","source":"660ae6b546849011.txt","type":"text/plain","size":90}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d36fb210241fe231","name":"log","source":"d36fb210241fe231.txt","type":"text/plain","size":18935}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":40,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1756433643038,"stop":1756433643039,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1756433643039,"stop":1756433646902,"duration":3863},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1756433643039,"stop":1756433646902,"duration":3863},"status":"passed","steps":[{"name":"Delete organisation: regression-org-pth3lwan1ha3","time":{"start":1756433646120,"stop":1756433646824,"duration":704},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1756433646903,"stop":1756433646903,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1756433646906,"stop":1756433646908,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Storage"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIStorage"},{"name":"host","value":"pkrvmccyg1gnepe"},{"name":"thread","value":"5929-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_storage"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"e6719ea8274c31aa.json","parameterValues":[]}