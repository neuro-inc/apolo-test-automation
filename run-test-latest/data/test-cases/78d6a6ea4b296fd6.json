{"uid":"78d6a6ea4b296fd6","name":"Admin remove folder via CLI","fullName":"tests.test_cases.tests_cli.test_storage.TestCLIStorage#test_admin_remove_folder_cli","historyId":"b59e0b40fbc2dd02eaabf76909592327","time":{"start":1759113197432,"stop":1759113228921,"duration":31489},"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create new folder via **CLI**.\n\n### Verify that:\n\n- User can remove folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create new folder via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:141: in test_admin_remove_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1759109588514,"stop":1759109588514,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1759109588514,"stop":1759109588515,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1759109588515,"stop":1759109588515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1759109588515,"stop":1759109618516,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1759109588515,"stop":1759109588515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759109588515,"stop":1759109588515,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1759109618516,"stop":1759109618516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1759113194522,"stop":1759113194528,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1759113194528,"stop":1759113196857,"duration":2329},"status":"passed","steps":[],"attachments":[{"uid":"c63abef759f05361","name":"HTTP 200 - GET config","source":"c63abef759f05361.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1759113194528,"stop":1759113194529,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1759113196857,"stop":1759113196857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1759113196857,"stop":1759113196857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1759113196858,"stop":1759113196858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1759113196858,"stop":1759113196859,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1759113196858,"stop":1759113196858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1759113196859,"stop":1759113196859,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759113196859,"stop":1759113197432,"duration":573},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1759113196859,"stop":1759113197432,"duration":573},"status":"passed","steps":[],"attachments":[{"uid":"2d8aeb9fd39ce7d5","name":"Executed CLI command","source":"2d8aeb9fd39ce7d5.txt","type":"text/plain","size":15},{"uid":"d878a6270ddf0449","name":"Executed CLI command output","source":"d878a6270ddf0449.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1759113196859,"stop":1759113196859,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials via **UI**.\n- Get Bearer auth token from Playwright local storage.\n- Create new organization via **API**.\n- Login with Bearer auth token via **CLI**.\n- Create new project via **CLI**.\n- Create new folder via **CLI**.\n\n### Verify that:\n\n- User can remove folder via **CLI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials via <strong>UI</strong>.</li>\n<li>Get Bearer auth token from Playwright local storage.</li>\n<li>Create new organization via <strong>API</strong>.</li>\n<li>Login with Bearer auth token via <strong>CLI</strong>.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Create new folder via <strong>CLI</strong>.</li>\n</ul>\n<h3>Verify that:</h3>\n<ul>\n<li>User can remove folder via <strong>CLI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u'","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/storage_steps.py:76: in cli_create_folder\n    assert result, error_message\n           ^^^^^^\nE   AssertionError: ERROR: cannot create directory storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u'\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_cli/test_storage.py:141: in test_admin_remove_folder_cli\n    await self._cli_steps.storage.cli_create_folder(folder_name=\"my_folder\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Create folder via CLI\nE   Message: ERROR: cannot create directory storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u'","steps":[{"name":"Login via UI","time":{"start":1759113197433,"stop":1759113203250,"duration":5817},"status":"passed","steps":[{"name":"Click login button","time":{"start":1759113197433,"stop":1759113198589,"duration":1156},"status":"passed","steps":[],"attachments":[{"uid":"7515fb29ac63ff75","name":"Page URL","source":"7515fb29ac63ff75.txt","type":"text/plain","size":33},{"uid":"670bed2d92b68df4","name":"Screenshot: Click login button (success)","source":"670bed2d92b68df4.png","type":"image/png","size":41811}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1759113198589,"stop":1759113198936,"duration":347},"status":"passed","steps":[],"attachments":[{"uid":"6f56916302bfff3d","name":"Page URL","source":"6f56916302bfff3d.txt","type":"text/plain","size":215},{"uid":"168146375a069a62","name":"Screenshot: Enter email (success)","source":"168146375a069a62.png","type":"image/png","size":46349}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1759113198936,"stop":1759113199270,"duration":334},"status":"passed","steps":[],"attachments":[{"uid":"65f2ec83ee32860d","name":"Page URL","source":"65f2ec83ee32860d.txt","type":"text/plain","size":215},{"uid":"96e6052d25e1b9f2","name":"Screenshot: Enter password (success)","source":"96e6052d25e1b9f2.png","type":"image/png","size":46492}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1759113199270,"stop":1759113202048,"duration":2778},"status":"passed","steps":[],"attachments":[{"uid":"6fc4fb595d334a7d","name":"Page URL","source":"6fc4fb595d334a7d.txt","type":"text/plain","size":215},{"uid":"642af06a814d2dc7","name":"HTTP 200 - GET config","source":"642af06a814d2dc7.txt","type":"text/plain","size":752},{"uid":"eb9ca524bd2ec471","name":"HTTP 200 - GET permissions?uri=blob:","source":"eb9ca524bd2ec471.txt","type":"text/plain","size":163},{"uid":"5d809ece7f125034","name":"HTTP 200 - GET regression-zehwva9ybu?include=orgs","source":"5d809ece7f125034.txt","type":"text/plain","size":360},{"uid":"42311e61e6ec4924","name":"HTTP 200 - GET regression-zehwva9ybu?include=clusters&include=system_role","source":"42311e61e6ec4924.txt","type":"text/plain","size":388},{"uid":"c37b9cbc3f6768e7","name":"Screenshot: Click Continue button (success)","source":"c37b9cbc3f6768e7.png","type":"image/png","size":160629}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1759113202059,"stop":1759113203168,"duration":1109},"status":"passed","steps":[],"attachments":[{"uid":"896c0a456285339f","name":"Page URL","source":"896c0a456285339f.txt","type":"text/plain","size":44},{"uid":"9c977e3fea8f7366","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"9c977e3fea8f7366.png","type":"image/png","size":160629}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3397fbf03305232b","name":"Page URL","source":"3397fbf03305232b.txt","type":"text/plain","size":33},{"uid":"423837ac00e890e8","name":"Screenshot: Login via UI (success)","source":"423837ac00e890e8.png","type":"image/png","size":160629}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":16,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1759113203250,"stop":1759113216250,"duration":13000},"status":"passed","steps":[{"name":"Reload page","time":{"start":1759113214372,"stop":1759113216170,"duration":1798},"status":"passed","steps":[],"attachments":[{"uid":"726a93ecba7795e1","name":"Page URL","source":"726a93ecba7795e1.txt","type":"text/plain","size":44},{"uid":"ab0e187be10bfda0","name":"HTTP 200 - GET config","source":"ab0e187be10bfda0.txt","type":"text/plain","size":1118},{"uid":"5a711d0fbae03de0","name":"HTTP 200 - GET permissions?uri=blob:","source":"5a711d0fbae03de0.txt","type":"text/plain","size":236},{"uid":"c88c3a235bdd21d","name":"HTTP 200 - GET incoming","source":"c88c3a235bdd21d.txt","type":"text/plain","size":137},{"uid":"64f9076b34fa8cce","name":"HTTP 200 - GET regression-zehwva9ybu?include=orgs","source":"64f9076b34fa8cce.txt","type":"text/plain","size":455},{"uid":"b852fd6d5c240cb9","name":"HTTP 200 - GET regression-org-iq679bcrdpbk","source":"b852fd6d5c240cb9.txt","type":"text/plain","size":425},{"uid":"a0a653d32a5d8c09","name":"HTTP 200 - GET regression-zehwva9ybu?include=clusters&include=system_role","source":"a0a653d32a5d8c09.txt","type":"text/plain","size":510},{"uid":"eba35cacce5e59fb","name":"Screenshot: Reload page (success)","source":"eba35cacce5e59fb.png","type":"image/png","size":58135}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b2c1c3e8d34c4fed","name":"Page URL","source":"b2c1c3e8d34c4fed.txt","type":"text/plain","size":44},{"uid":"64339955cffc269","name":"HTTP 200 - GET incoming","source":"64339955cffc269.txt","type":"text/plain","size":137},{"uid":"b3091c3446bb44c9","name":"Screenshot: Add organization via API and reload page (success)","source":"b3091c3446bb44c9.png","type":"image/png","size":58135}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1759113216250,"stop":1759113217066,"duration":816},"status":"passed","steps":[],"attachments":[{"uid":"3d8f6a3ce9ea55bb","name":"Executed CLI command","source":"3d8f6a3ce9ea55bb.txt","type":"text/plain","size":1114},{"uid":"1f65b1e72574f5bc","name":"Executed CLI command output","source":"1f65b1e72574f5bc.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1759113217067,"stop":1759113227872,"duration":10805},"status":"passed","steps":[],"attachments":[{"uid":"f5b0792effba3aad","name":"Executed CLI command","source":"f5b0792effba3aad.txt","type":"text/plain","size":114},{"uid":"a533b07c8ba7ad51","name":"Executed CLI command output","source":"a533b07c8ba7ad51.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create folder via CLI","time":{"start":1759113227872,"stop":1759113228921,"duration":1049},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Create folder via CLI\nMessage: ERROR: cannot create directory storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u/my_folder: [Errno 2] No such directory: 'storage://default/regression-org-iq679bcrdpbk/regression-proj-md5cphhs1u'\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[{"uid":"29dc88dc9a6e9b1c","name":"Executed CLI command","source":"29dc88dc9a6e9b1c.txt","type":"text/plain","size":37},{"uid":"f03777a994c8a48e","name":"Executed CLI command output","source":"f03777a994c8a48e.txt","type":"text/plain","size":218}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5a362c275d4bd479","name":"log","source":"5a362c275d4bd479.txt","type":"text/plain","size":18787}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":34,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"add_page_manager::finalizer","time":{"start":1759113228937,"stop":1759113228937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759113228938,"stop":1759113228938,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1759113228938,"stop":1759113233428,"duration":4490},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1759113228938,"stop":1759113233427,"duration":4489},"status":"passed","steps":[{"name":"Delete organisation: regression-org-iq679bcrdpbk","time":{"start":1759113232286,"stop":1759113233373,"duration":1087},"status":"passed","steps":[{"name":"Delete project: regression-proj-md5cphhs1u","time":{"start":1759113232396,"stop":1759113232536,"duration":140},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1759113233428,"stop":1759113233429,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1759113233430,"stop":1759113233430,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"CLI Storage"},{"name":"parentSuite","value":"CLI Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLIStorage"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"3665-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_storage"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"78d6a6ea4b296fd6.json","parameterValues":[]}