{"uid":"602e020d4af4c9a8","name":"Admin create secret with no project created via CLI","fullName":"tests.test_cases.tests_cli.test_secrets.TestCLISecrets#test_admin_create_secret_no_proj_cli","historyId":"00fd51dcec949e8f8cb720ad306bef95","time":{"start":1755284434569,"stop":1755284450962,"duration":16393},"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Create new organization via API.\n-Login with Bearer auth token via CLI.\nVerify that:\n    - User cannot create secret if there is no project created via CLI.\n","descriptionHtml":"<p>-Login with valid credentials via UI.<br />\n-Get Bearer auth token from Playwright local storage.<br />\n-Create new organization via API.<br />\n-Login with Bearer auth token via CLI.<br />\nVerify that:<br />\n- User cannot create secret if there is no project created via CLI.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1755279674436,"stop":1755279674437,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755279674437,"stop":1755279674437,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1755279674437,"stop":1755279674437,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1755279674437,"stop":1755279674437,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delay_worker_start","time":{"start":1755279674437,"stop":1755279704438,"duration":30001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1755279674437,"stop":1755279674437,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_storage_directories","time":{"start":1755279704438,"stop":1755279704438,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_config","time":{"start":1755284432009,"stop":1755284432012,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1755284432012,"stop":1755284432012,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1755284432012,"stop":1755284434004,"duration":1992},"status":"passed","steps":[],"attachments":[{"uid":"6568a822e64416","name":"HTTP 200 - GET config","source":"6568a822e64416.txt","type":"text/plain","size":654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"data_manager","time":{"start":1755284434004,"stop":1755284434005,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1755284434005,"stop":1755284434006,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1755284434005,"stop":1755284434005,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1755284434005,"stop":1755284434005,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1755284434005,"stop":1755284434005,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_inject_fixtures","time":{"start":1755284434006,"stop":1755284434006,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_page_manager","time":{"start":1755284434006,"stop":1755284434006,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1755284434006,"stop":1755284434569,"duration":563},"status":"passed","steps":[{"name":"Verify Apolo CLI client is installed","time":{"start":1755284434007,"stop":1755284434569,"duration":562},"status":"passed","steps":[],"attachments":[{"uid":"298d1379f2f60f73","name":"Executed CLI command","source":"298d1379f2f60f73.txt","type":"text/plain","size":15},{"uid":"fcc56e0d50063dd8","name":"Executed CLI command output","source":"fcc56e0d50063dd8.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n-Login with valid credentials via UI.\n-Get Bearer auth token from Playwright local storage.\n-Create new organization via API.\n-Login with Bearer auth token via CLI.\nVerify that:\n    - User cannot create secret if there is no project created via CLI.\n","status":"passed","steps":[{"name":"Login via UI","time":{"start":1755284434570,"stop":1755284440402,"duration":5832},"status":"passed","steps":[{"name":"Click login button","time":{"start":1755284434570,"stop":1755284435703,"duration":1133},"status":"passed","steps":[],"attachments":[{"uid":"9aac7a0aef70e74c","name":"Page URL","source":"9aac7a0aef70e74c.txt","type":"text/plain","size":33},{"uid":"5bacfcf59f5257be","name":"Screenshot: Click login button (success)","source":"5bacfcf59f5257be.png","type":"image/png","size":41603}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1755284435703,"stop":1755284435852,"duration":149},"status":"passed","steps":[],"attachments":[{"uid":"94b87da93ccab0b7","name":"Page URL","source":"94b87da93ccab0b7.txt","type":"text/plain","size":215},{"uid":"d25dae279b7d31ad","name":"Screenshot: Enter email (success)","source":"d25dae279b7d31ad.png","type":"image/png","size":45959}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1755284435852,"stop":1755284436021,"duration":169},"status":"passed","steps":[],"attachments":[{"uid":"2c0e80898a11311f","name":"Page URL","source":"2c0e80898a11311f.txt","type":"text/plain","size":215},{"uid":"8e3bc379700a86d5","name":"Screenshot: Enter password (success)","source":"8e3bc379700a86d5.png","type":"image/png","size":46772}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1755284436021,"stop":1755284439159,"duration":3138},"status":"passed","steps":[],"attachments":[{"uid":"ad01ca9bad60649d","name":"Page URL","source":"ad01ca9bad60649d.txt","type":"text/plain","size":215},{"uid":"f4a65e25af6d4a6d","name":"HTTP 200 - GET config","source":"f4a65e25af6d4a6d.txt","type":"text/plain","size":752},{"uid":"8252f88a7c32efa1","name":"HTTP 200 - GET regression-tc8oayfw8h?include=clusters&include=system_role","source":"8252f88a7c32efa1.txt","type":"text/plain","size":388},{"uid":"f7c0886f2e0681da","name":"HTTP 200 - GET incoming","source":"f7c0886f2e0681da.txt","type":"text/plain","size":137},{"uid":"501d734748dc65fe","name":"HTTP 200 - GET permissions?uri=blob:","source":"501d734748dc65fe.txt","type":"text/plain","size":163},{"uid":"ad9ce26015b82fec","name":"HTTP 200 - GET regression-tc8oayfw8h?include=orgs","source":"ad9ce26015b82fec.txt","type":"text/plain","size":360},{"uid":"37ecad0ed0ebec37","name":"Screenshot: Click Continue button (success)","source":"37ecad0ed0ebec37.png","type":"image/png","size":160106}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1755284439172,"stop":1755284440285,"duration":1113},"status":"passed","steps":[],"attachments":[{"uid":"4a68c286f7888d64","name":"Page URL","source":"4a68c286f7888d64.txt","type":"text/plain","size":44},{"uid":"d80a0309e9d13b53","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"d80a0309e9d13b53.png","type":"image/png","size":160106}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d960d87a8f073cd4","name":"Page URL","source":"d960d87a8f073cd4.txt","type":"text/plain","size":33},{"uid":"bea9e5fbecad5b12","name":"Screenshot: Login via UI (success)","source":"bea9e5fbecad5b12.png","type":"image/png","size":160106}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"Add organization via API and reload page","time":{"start":1755284440402,"stop":1755284448869,"duration":8467},"status":"passed","steps":[{"name":"Reload page","time":{"start":1755284446631,"stop":1755284448769,"duration":2138},"status":"passed","steps":[],"attachments":[{"uid":"a82bf33f11e4847e","name":"Page URL","source":"a82bf33f11e4847e.txt","type":"text/plain","size":44},{"uid":"68af4eba558ab294","name":"HTTP 200 - GET config","source":"68af4eba558ab294.txt","type":"text/plain","size":1118},{"uid":"8239730af74ff567","name":"HTTP 200 - GET permissions?uri=blob:","source":"8239730af74ff567.txt","type":"text/plain","size":236},{"uid":"2aa1d10413c12fd2","name":"HTTP 200 - GET regression-tc8oayfw8h?include=orgs","source":"2aa1d10413c12fd2.txt","type":"text/plain","size":455},{"uid":"8e75d7985775bfd5","name":"HTTP 200 - GET regression-tc8oayfw8h?include=clusters&include=system_role","source":"8e75d7985775bfd5.txt","type":"text/plain","size":510},{"uid":"83fab9abac1794f8","name":"HTTP 200 - GET regression-org-8ugi47l33gcm","source":"83fab9abac1794f8.txt","type":"text/plain","size":425},{"uid":"d9c66e7f057496ee","name":"HTTP 200 - GET incoming","source":"d9c66e7f057496ee.txt","type":"text/plain","size":137},{"uid":"fe228395b9945798","name":"Screenshot: Reload page (success)","source":"fe228395b9945798.png","type":"image/png","size":56316}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":8,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5be5bd6f770fc2c7","name":"Page URL","source":"5be5bd6f770fc2c7.txt","type":"text/plain","size":44},{"uid":"51afb0c3c835d3eb","name":"Screenshot: Add organization via API and reload page (success)","source":"51afb0c3c835d3eb.png","type":"image/png","size":56316}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1755284448869,"stop":1755284450386,"duration":1517},"status":"passed","steps":[],"attachments":[{"uid":"5b99ebf2b36cc65a","name":"Executed CLI command","source":"5b99ebf2b36cc65a.txt","type":"text/plain","size":1114},{"uid":"1c3a7cce604624e9","name":"Executed CLI command output","source":"1c3a7cce604624e9.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Create secret via CLI","time":{"start":1755284450386,"stop":1755284450962,"duration":576},"status":"passed","steps":[],"attachments":[{"uid":"905e32741718e74f","name":"Executed CLI command","source":"905e32741718e74f.txt","type":"text/plain","size":39},{"uid":"fb81aba1f0f148c3","name":"Executed CLI command output","source":"fb81aba1f0f148c3.txt","type":"text/plain","size":159}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7a66fca3843262cc","name":"log","source":"7a66fca3843262cc.txt","type":"text/plain","size":17074}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1755284450963,"stop":1755284454745,"duration":3782},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1755284450963,"stop":1755284454745,"duration":3782},"status":"passed","steps":[{"name":"Delete organisation: regression-org-8ugi47l33gcm","time":{"start":1755284454331,"stop":1755284454705,"duration":374},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_page_manager::finalizer","time":{"start":1755284450963,"stop":1755284450963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1755284454746,"stop":1755284454746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1755284454747,"stop":1755284454748,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"CLI Tests"},{"name":"suite","value":"CLI Secrets"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestCLISecrets"},{"name":"host","value":"pkrvmubgrv54qmi"},{"name":"thread","value":"6037-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_cli.test_secrets"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["asyncio"]},"source":"602e020d4af4c9a8.json","parameterValues":[]}