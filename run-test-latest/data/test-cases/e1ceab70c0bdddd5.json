{"uid":"e1ceab70c0bdddd5","name":"Run Hello World Job and Validate UI and CLI Results","fullName":"tests.test_cases.tests_e2e.test_e2e_hello_world.TestHelloWorldJob#test_run_hello_world_job","historyId":"a91823757109ce48d16fa7570a3936b7","time":{"start":1767844093267,"stop":1767844145072,"duration":51805},"description":"\n- Login with valid credentials.\n- Create new organization via **UI** during onboarding.\n- Create new project via **CLI**.\n- Run `Hello World` Job via **CLI**.\n\nVerify that:\n\n- Job executed successfully in **CLI**.\n- Job is displayed in successful jobs via **UI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>UI</strong> during onboarding.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Hello World</span> Job via <strong>CLI</strong>.</li>\n</ul>\n<p>Verify that:</p>\n<ul>\n<li>Job executed successfully in <strong>CLI</strong>.</li>\n<li>Job is displayed in successful jobs via <strong>UI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Run Hello World job via CLI\nMessage: [RuntimeError] during step: Verify CLI login output\nMessage: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\n[SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\n[parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\n(Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/job_steps.py:21: in run_job\n    job_id = await self._apolo_cli.job.run_job(\ntests/utils/cli/apolo_components/apolo_job.py:28: in run_job\n    raise RuntimeError(error_message)\nE   RuntimeError: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\nE   [SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\nE   [parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\nE   (Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_e2e_hello_world.py:92: in run_hello_world_job\n    job.job_id = await self.cli_steps.job.run_job(job=job)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [RuntimeError] during step: Verify CLI login output\nE   Message: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\nE   [SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\nE   [parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\nE   (Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_e2e_hello_world.py:77: in test_run_hello_world_job\n    await self.run_hello_world_job(\"my-project\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Run Hello World job via CLI\nE   Message: [RuntimeError] during step: Verify CLI login output\nE   Message: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\nE   [SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\nE   [parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\nE   (Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_config","time":{"start":1767844076212,"stop":1767844076215,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner","time":{"start":1767844076215,"stop":1767844076216,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_manager","time":{"start":1767844076215,"stop":1767844077020,"duration":805},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"data_manager","time":{"start":1767844077020,"stop":1767844077020,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"users_manager","time":{"start":1767844077020,"stop":1767844077020,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_helper","time":{"start":1767844077020,"stop":1767844077021,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"apolo_cli","time":{"start":1767844077021,"stop":1767844077021,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup","time":{"start":1767844077021,"stop":1767844077021,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1767844077022,"stop":1767844093267,"duration":16245},"status":"passed","steps":[{"name":"Login via UI","time":{"start":1767844077022,"stop":1767844092806,"duration":15784},"status":"passed","steps":[{"name":"Verify that Auth page displayed","time":{"start":1767844077022,"stop":1767844077515,"duration":493},"status":"passed","steps":[],"attachments":[{"uid":"2e6b07c046e185aa","name":"Page URL","source":"2e6b07c046e185aa.txt","type":"text/plain","size":29},{"uid":"204d93ee4a39b399","name":"HTTP 200 - GET config","source":"204d93ee4a39b399.txt","type":"text/plain","size":673},{"uid":"7c477db317d2f505","name":"Screenshot: Verify that Auth page displayed (success)","source":"7c477db317d2f505.png","type":"image/png","size":88563}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click login button","time":{"start":1767844077515,"stop":1767844078525,"duration":1010},"status":"passed","steps":[],"attachments":[{"uid":"61346af9719a9a5d","name":"Page URL","source":"61346af9719a9a5d.txt","type":"text/plain","size":33},{"uid":"c731e3f73bdf3c69","name":"Screenshot: Click login button (success)","source":"c731e3f73bdf3c69.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify that Login page displayed","time":{"start":1767844078525,"stop":1767844078607,"duration":82},"status":"passed","steps":[],"attachments":[{"uid":"88e268cf948599e9","name":"Page URL","source":"88e268cf948599e9.txt","type":"text/plain","size":215},{"uid":"ffca8f2a6265fdd1","name":"Screenshot: Verify that Login page displayed (success)","source":"ffca8f2a6265fdd1.png","type":"image/png","size":41524}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter email","time":{"start":1767844078607,"stop":1767844078912,"duration":305},"status":"passed","steps":[],"attachments":[{"uid":"5ab0d9dbd7f6ac2b","name":"Page URL","source":"5ab0d9dbd7f6ac2b.txt","type":"text/plain","size":215},{"uid":"29f221d361be9cb9","name":"Screenshot: Enter email (success)","source":"29f221d361be9cb9.png","type":"image/png","size":45248}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter password","time":{"start":1767844078912,"stop":1767844079226,"duration":314},"status":"passed","steps":[],"attachments":[{"uid":"792c15e8c544180b","name":"Page URL","source":"792c15e8c544180b.txt","type":"text/plain","size":215},{"uid":"bb0ce6a7a6b7d03a","name":"Screenshot: Enter password (success)","source":"bb0ce6a7a6b7d03a.png","type":"image/png","size":45409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click Continue button","time":{"start":1767844079226,"stop":1767844091629,"duration":12403},"status":"passed","steps":[],"attachments":[{"uid":"fadb43e3b87a3db6","name":"Page URL","source":"fadb43e3b87a3db6.txt","type":"text/plain","size":215},{"uid":"9c4e45cb7c8ace68","name":"HTTP 200 - GET config","source":"9c4e45cb7c8ace68.txt","type":"text/plain","size":832},{"uid":"2388cd20af58d40d","name":"HTTP 200 - GET permissions?uri=blob:","source":"2388cd20af58d40d.txt","type":"text/plain","size":182},{"uid":"f368c54093ffbc79","name":"HTTP 200 - GET incoming","source":"f368c54093ffbc79.txt","type":"text/plain","size":156},{"uid":"7cabd2d940ea20c1","name":"HTTP 200 - GET regression-zokdt77o7j?include=orgs","source":"7cabd2d940ea20c1.txt","type":"text/plain","size":379},{"uid":"b708afae9ef51ff8","name":"HTTP 200 - GET regression-zokdt77o7j?include=clusters&include=system_role","source":"b708afae9ef51ff8.txt","type":"text/plain","size":407},{"uid":"3637f140f236d0b6","name":"Screenshot: Click Continue button (success)","source":"3637f140f236d0b6.png","type":"image/png","size":159419}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Verify that Welcome new user page displayed","time":{"start":1767844091637,"stop":1767844092724,"duration":1087},"status":"passed","steps":[],"attachments":[{"uid":"35237349f0060426","name":"Page URL","source":"35237349f0060426.txt","type":"text/plain","size":44},{"uid":"8b1cfdddd7579e4d","name":"Screenshot: Verify that Welcome new user page displayed (success)","source":"8b1cfdddd7579e4d.png","type":"image/png","size":159419}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"297af8da3670e78e","name":"Page URL","source":"297af8da3670e78e.txt","type":"text/plain","size":29},{"uid":"2b59ba6e8131fdc1","name":"Screenshot: Login via UI (success)","source":"2b59ba6e8131fdc1.png","type":"image/png","size":159419}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":22,"hasContent":true,"attachmentStep":false},{"name":"Verify Apolo CLI client is installed","time":{"start":1767844092806,"stop":1767844093267,"duration":461},"status":"passed","steps":[],"attachments":[{"uid":"b05edbc1c5e9bdac","name":"Executed CLI command","source":"b05edbc1c5e9bdac.txt","type":"text/plain","size":15},{"uid":"b6d689593bf1a58d","name":"Executed CLI command output","source":"b6d689593bf1a58d.txt","type":"text/plain","size":28}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":24,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\n- Login with valid credentials.\n- Create new organization via **UI** during onboarding.\n- Create new project via **CLI**.\n- Run `Hello World` Job via **CLI**.\n\nVerify that:\n\n- Job executed successfully in **CLI**.\n- Job is displayed in successful jobs via **UI**.\n","descriptionHtml":"<div style='line-height:1.6;'><ul>\n<li>Login with valid credentials.</li>\n<li>Create new organization via <strong>UI</strong> during onboarding.</li>\n<li>Create new project via <strong>CLI</strong>.</li>\n<li>Run <span style='background-color:#D3D3D3; padding:2px 4px; border-radius:3px; font-family:monospace;'>Hello World</span> Job via <strong>CLI</strong>.</li>\n</ul>\n<p>Verify that:</p>\n<ul>\n<li>Job executed successfully in <strong>CLI</strong>.</li>\n<li>Job is displayed in successful jobs via <strong>UI</strong>.</li>\n</ul></div>","status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Run Hello World job via CLI\nMessage: [RuntimeError] during step: Verify CLI login output\nMessage: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\n[SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\n[parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\n(Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)","statusTrace":"tests/reporting_hooks/reporting.py:49: in wrapper\n    result = await func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/test_cases/steps/cli_steps/comonent_steps_impl/job_steps.py:21: in run_job\n    job_id = await self._apolo_cli.job.run_job(\ntests/utils/cli/apolo_components/apolo_job.py:28: in run_job\n    raise RuntimeError(error_message)\nE   RuntimeError: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\nE   [SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\nE   [parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\nE   (Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_e2e_hello_world.py:92: in run_hello_world_job\n    job.job_id = await self.cli_steps.job.run_job(job=job)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [RuntimeError] during step: Verify CLI login output\nE   Message: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\nE   [SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\nE   [parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\nE   (Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)\n\nThe above exception was the direct cause of the following exception:\ntests/test_cases/tests_e2e/test_e2e_hello_world.py:77: in test_run_hello_world_job\n    await self.run_hello_world_job(\"my-project\")\ntests/reporting_hooks/reporting.py:58: in wrapper\n    raise AssertionError(formatted_msg) from e\nE   AssertionError: [AssertionError] during step: Run Hello World job via CLI\nE   Message: [RuntimeError] during step: Verify CLI login output\nE   Message: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\nE   [SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\nE   [parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\nE   (Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)","steps":[{"name":"Pass new user onboarding and create first organization via UI","time":{"start":1767844093268,"stop":1767844130159,"duration":36891},"status":"passed","steps":[{"name":"Click the let's do it button on Welcome page","time":{"start":1767844093268,"stop":1767844094398,"duration":1130},"status":"passed","steps":[],"attachments":[{"uid":"4ac85c27a41a0971","name":"Page URL","source":"4ac85c27a41a0971.txt","type":"text/plain","size":44},{"uid":"28eb422dd391b845","name":"Screenshot: Click the let's do it button on Welcome page (success)","source":"28eb422dd391b845.png","type":"image/png","size":160819}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify Join organization page displayed","time":{"start":1767844094398,"stop":1767844095483,"duration":1085},"status":"passed","steps":[],"attachments":[{"uid":"ae44c930605740cb","name":"Page URL","source":"ae44c930605740cb.txt","type":"text/plain","size":44},{"uid":"a109bd0b4b786e11","name":"Screenshot: Verify Join organization page displayed (success)","source":"a109bd0b4b786e11.png","type":"image/png","size":157032}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click create organization button","time":{"start":1767844095483,"stop":1767844097339,"duration":1856},"status":"passed","steps":[],"attachments":[{"uid":"cad6fa2cfd4aa34a","name":"Page URL","source":"cad6fa2cfd4aa34a.txt","type":"text/plain","size":44},{"uid":"347c0b2970a2527e","name":"Screenshot: Click create organization button (success)","source":"347c0b2970a2527e.png","type":"image/png","size":144499}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Verify Name organization page displayed","time":{"start":1767844097339,"stop":1767844098422,"duration":1083},"status":"passed","steps":[],"attachments":[{"uid":"7308570707960524","name":"Page URL","source":"7308570707960524.txt","type":"text/plain","size":44},{"uid":"63f0cc1bed427a26","name":"Screenshot: Verify Name organization page displayed (success)","source":"63f0cc1bed427a26.png","type":"image/png","size":144499}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Enter organization name","time":{"start":1767844098422,"stop":1767844099240,"duration":818},"status":"passed","steps":[],"attachments":[{"uid":"904a6ad78561edac","name":"Page URL","source":"904a6ad78561edac.txt","type":"text/plain","size":44},{"uid":"525b8d1436f2d486","name":"HTTP 404 - GET regression-org-528ghehb7aww","source":"525b8d1436f2d486.txt","type":"text/plain","size":226},{"uid":"e33db9de82d3f1ce","name":"Screenshot: Enter organization name (success)","source":"e33db9de82d3f1ce.png","type":"image/png","size":151859}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Click next button","time":{"start":1767844099240,"stop":1767844100626,"duration":1386},"status":"passed","steps":[],"attachments":[{"uid":"aa5188871871610d","name":"Page URL","source":"aa5188871871610d.txt","type":"text/plain","size":44},{"uid":"ffb679b4a5102571","name":"Screenshot: Click next button (success)","source":"ffb679b4a5102571.png","type":"image/png","size":151296}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click lets do it button on That's it page","time":{"start":1767844100626,"stop":1767844120025,"duration":19399},"status":"passed","steps":[],"attachments":[{"uid":"d9417e0c34ba3ca9","name":"Page URL","source":"d9417e0c34ba3ca9.txt","type":"text/plain","size":44},{"uid":"e4b4f6936d9a6869","name":"HTTP 201 - POST orgs","source":"e4b4f6936d9a6869.txt","type":"text/plain","size":440},{"uid":"539a8d2fa8658669","name":"HTTP 200 - GET config","source":"539a8d2fa8658669.txt","type":"text/plain","size":2137},{"uid":"3f395a694a94454d","name":"HTTP 200 - GET regression-zokdt77o7j?include=orgs","source":"3f395a694a94454d.txt","type":"text/plain","size":474},{"uid":"da28eec9b4ac948","name":"HTTP 200 - GET regression-zokdt77o7j?include=clusters&include=system_role","source":"da28eec9b4ac948.txt","type":"text/plain","size":529},{"uid":"23aba6a2eff65639","name":"HTTP 200 - GET regression-org-528ghehb7aww","source":"23aba6a2eff65639.txt","type":"text/plain","size":444},{"uid":"b9e9c6a7354d7126","name":"HTTP 200 - GET tags","source":"b9e9c6a7354d7126.txt","type":"text/plain","size":948},{"uid":"be5f570703e91469","name":"HTTP 200 - GET config","source":"be5f570703e91469.txt","type":"text/plain","size":2137},{"uid":"dbbfe7786196e187","name":"HTTP 200 - GET permissions?uri=blob:","source":"dbbfe7786196e187.txt","type":"text/plain","size":255},{"uid":"7c2ad34ee907d80c","name":"HTTP 200 - GET regression-org-528ghehb7aww","source":"7c2ad34ee907d80c.txt","type":"text/plain","size":444},{"uid":"2da55344c3b78066","name":"HTTP 200 - GET incoming","source":"2da55344c3b78066.txt","type":"text/plain","size":156},{"uid":"7f0371085e06fd1f","name":"HTTP 200 - GET regression-zokdt77o7j?include=orgs","source":"7f0371085e06fd1f.txt","type":"text/plain","size":474},{"uid":"7ffad372423eef15","name":"HTTP 200 - GET regression-zokdt77o7j?include=clusters&include=system_role","source":"7ffad372423eef15.txt","type":"text/plain","size":529},{"uid":"4b590355ebd57168","name":"HTTP 200 - GET tags","source":"4b590355ebd57168.txt","type":"text/plain","size":948},{"uid":"e292a0dc0a5b3af","name":"Screenshot: Click lets do it button on That's it page (success)","source":"e292a0dc0a5b3af.png","type":"image/png","size":58158}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":15,"hasContent":true,"attachmentStep":false},{"name":"Verify Main page is displayed","time":{"start":1767844120025,"stop":1767844130092,"duration":10067},"status":"passed","steps":[],"attachments":[{"uid":"242d5477e889f468","name":"Page URL","source":"242d5477e889f468.txt","type":"text/plain","size":81},{"uid":"119946c766ff9faf","name":"Screenshot: Verify Main page is displayed (success)","source":"119946c766ff9faf.png","type":"image/png","size":58158}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"9b0b38222d2356c5","name":"Page URL","source":"9b0b38222d2356c5.txt","type":"text/plain","size":44},{"uid":"6cdc57390bbaa80c","name":"Screenshot: Pass new user onboarding and create first organization via UI (success)","source":"6cdc57390bbaa80c.png","type":"image/png","size":58158}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":32,"hasContent":true,"attachmentStep":false},{"name":"Login to apolo CLI with access token","time":{"start":1767844130159,"stop":1767844131263,"duration":1104},"status":"passed","steps":[],"attachments":[{"uid":"e111ea85c1c2740c","name":"Executed CLI command","source":"e111ea85c1c2740c.txt","type":"text/plain","size":1114},{"uid":"4af5146cec08c674","name":"Executed CLI command output","source":"4af5146cec08c674.txt","type":"text/plain","size":264}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Add new project via apolo CLI","time":{"start":1767844133266,"stop":1767844144152,"duration":10886},"status":"passed","steps":[],"attachments":[{"uid":"c4e5044cd775e446","name":"Executed CLI command","source":"c4e5044cd775e446.txt","type":"text/plain","size":114},{"uid":"a6c57e3fa6973383","name":"Executed CLI command output","source":"a6c57e3fa6973383.txt","type":"text/plain","size":304}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Run Hello World job via CLI","time":{"start":1767844144152,"stop":1767844145072,"duration":920},"status":"failed","statusMessage":"AssertionError: [AssertionError] during step: Run Hello World job via CLI\nMessage: [RuntimeError] during step: Verify CLI login output\nMessage: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\n[SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\n[parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\n(Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[{"name":"Verify CLI login output","time":{"start":1767844144152,"stop":1767844145071,"duration":919},"status":"failed","statusMessage":"AssertionError: [RuntimeError] during step: Verify CLI login output\nMessage: ERROR: Illegal argument(s) (Unexpected exception ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table jobs\n[SQL: INSERT INTO jobs (id, owner, name, cluster_name, org_name, project_name, org_project_hash, tags, status, created_at, finished_at, payload, namespace) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]\n[parameters: ('job-61021609-05d1-4abb-9763-55cbb4f857e7', 'regression-zokdt77o7j', 'regression-job-h4f28vjeye', 'default', 'regression-org-528ghehb7aww', 'regression-proj-i9lb2am8rd', b'\\x1e\\x0fS|\\xbd', 'null', JobStatus.PENDING, datetime.datetime(2026, 1, 8, 3, 49, 4, 893148, tzinfo=datetime.timezone.utc), None, '{\"namespace\": \"platform--regression-or--regression-p--febb4fae1cb6324af64b2d64\", \"request\": {\"job_id\": \"job-61021609-05d1-4abb-9763-55cbb4f857e7\", \"c ... (499 characters truncated) ... false, \"pass_config\": false, \"privileged\": false, \"restart_policy\": \"never\", \"priority\": 0, \"max_run_time_minutes\": 1440, \"preset_name\": \"cpu-micro\"}', 'platform--regression-or--regression-p--febb4fae1cb6324af64b2d64')]\n(Background on this error at: https://sqlalche.me/e/14/f405). Path with query: /api/v1/jobs?from_preset.)\n","statusTrace":"  File \"/home/runner/work/apolo-test-automation/apolo-test-automation/tests/reporting_hooks/reporting.py\", line 58, in wrapper\n    raise AssertionError(formatted_msg) from e\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ba10db7b0d74ab1f","name":"log","source":"ba10db7b0d74ab1f.txt","type":"text/plain","size":34081}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":13,"attachmentsCount":37,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_cleanup::finalizer","time":{"start":1767844145088,"stop":1767844145088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cleanup::finalizer","time":{"start":1767844145088,"stop":1767844149453,"duration":4365},"status":"passed","steps":[{"name":"Post-test cleanup","time":{"start":1767844145088,"stop":1767844149452,"duration":4364},"status":"passed","steps":[{"name":"Delete organisation: regression-org-528ghehb7aww","time":{"start":1767844148879,"stop":1767844149416,"duration":537},"status":"passed","steps":[{"name":"Delete project: regression-proj-i9lb2am8rd","time":{"start":1767844148916,"stop":1767844149015,"duration":99},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"api_helper::finalizer","time":{"start":1767844149453,"stop":1767844149454,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_function_scoped_runner::0","time":{"start":1767844149454,"stop":1767844149455,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"Apolo CLI Hello World Job Verification"},{"name":"parentSuite","value":"E2E Tests"},{"name":"tag","value":"asyncio"},{"name":"subSuite","value":"TestHelloWorldJob"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"3019-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cases.tests_e2e.test_e2e_hello_world"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio"]},"source":"e1ceab70c0bdddd5.json","parameterValues":[]}