{
  "type": "object",
  "properties": {
    "__type__": {
      "type": "string",
      "enum": ["OpenAICompatChatAPI", "OpenAICompatEmbeddingsAPI"]
    },
    "host": { "type": "string", "minLength": 5 },
    "port": { "type": "integer" },
    "protocol": { "type": "string", "enum": ["http", "https"] },
    "timeout": { "type": "number" },
    "base_path": { "type": "string", "pattern": "^/" },
    "api_type": { "type": "string", "enum": ["rest"] },
    "api_base_path": { "type": "string", "pattern": "^/v1" },
    "openai_api_type": { "type": "string", "enum": ["chat", "embeddings"] },
    "endpoint_url": {
      "type": "string",
      "pattern": "^/v1/(chat|embeddings)"
    },
    "hf_model": {
      "type": "object",
      "properties": {
        "__type__": {
          "type": "string",
          "enum": ["HuggingFaceModel"]
        },
        "model_hf_name": { "type": "string", "minLength": 5 },
        "hf_token": { "type": ["string", "null"] },
        "hf_cache": { "type": ["string", "null"] }
      },
      "required": ["__type__", "model_hf_name", "hf_token"],
      "additionalProperties": false
    }
  },
  "required": [
    "__type__",
    "host",
    "port",
    "protocol",
    "timeout",
    "base_path",
    "api_type",
    "api_base_path",
    "openai_api_type",
    "endpoint_url",
    "hf_model"
  ],
  "additionalProperties": false
}
